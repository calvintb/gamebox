var sT=Object.defineProperty;var oT=(e,t,n)=>t in e?sT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var M=(e,t,n)=>(oT(e,typeof t!="symbol"?t+"":t,n),n);function lT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function aT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ho={},uT={get exports(){return Ho},set exports(e){Ho=e}},vc={},E={},cT={get exports(){return E},set exports(e){E=e}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $l=Symbol.for("react.element"),hT=Symbol.for("react.portal"),dT=Symbol.for("react.fragment"),fT=Symbol.for("react.strict_mode"),pT=Symbol.for("react.profiler"),mT=Symbol.for("react.provider"),gT=Symbol.for("react.context"),vT=Symbol.for("react.forward_ref"),yT=Symbol.for("react.suspense"),_T=Symbol.for("react.memo"),wT=Symbol.for("react.lazy"),Ev=Symbol.iterator;function ET(e){return e===null||typeof e!="object"?null:(e=Ev&&e[Ev]||e["@@iterator"],typeof e=="function"?e:null)}var z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B0=Object.assign,V0={};function xs(e,t,n){this.props=e,this.context=t,this.refs=V0,this.updater=n||z0}xs.prototype.isReactComponent={};xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function W0(){}W0.prototype=xs.prototype;function Pp(e,t,n){this.props=e,this.context=t,this.refs=V0,this.updater=n||z0}var Ap=Pp.prototype=new W0;Ap.constructor=Pp;B0(Ap,xs.prototype);Ap.isPureReactComponent=!0;var Sv=Array.isArray,H0=Object.prototype.hasOwnProperty,xp={current:null},G0={key:!0,ref:!0,__self:!0,__source:!0};function q0(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)H0.call(t,r)&&!G0.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:$l,type:e,key:s,ref:o,props:i,_owner:xp.current}}function ST(e,t){return{$$typeof:$l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dp(e){return typeof e=="object"&&e!==null&&e.$$typeof===$l}function CT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cv=/\/+/g;function xh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CT(""+e.key):t.toString(36)}function qa(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $l:case hT:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+xh(o,0):r,Sv(i)?(n="",e!=null&&(n=e.replace(Cv,"$&/")+"/"),qa(i,t,n,"",function(u){return u})):i!=null&&(Dp(i)&&(i=ST(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cv,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Sv(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+xh(s,l);o+=qa(s,t,n,a,i)}else if(a=ET(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+xh(s,l++),o+=qa(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ea(e,t,n){if(e==null)return e;var r=[],i=0;return qa(e,r,"","",function(s){return t.call(n,s,i++)}),r}function IT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},Ka={transition:null},TT={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:Ka,ReactCurrentOwner:xp};se.Children={map:Ea,forEach:function(e,t,n){Ea(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ea(e,function(){t++}),t},toArray:function(e){return Ea(e,function(t){return t})||[]},only:function(e){if(!Dp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=xs;se.Fragment=dT;se.Profiler=pT;se.PureComponent=Pp;se.StrictMode=fT;se.Suspense=yT;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=B0({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=xp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)H0.call(t,a)&&!G0.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:$l,type:e.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(e){return e={$$typeof:gT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mT,_context:e},e.Consumer=e};se.createElement=q0;se.createFactory=function(e){var t=q0.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:vT,render:e}};se.isValidElement=Dp;se.lazy=function(e){return{$$typeof:wT,_payload:{_status:-1,_result:e},_init:IT}};se.memo=function(e,t){return{$$typeof:_T,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Ka.transition;Ka.transition={};try{e()}finally{Ka.transition=t}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(e,t){return St.current.useCallback(e,t)};se.useContext=function(e){return St.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return St.current.useDeferredValue(e)};se.useEffect=function(e,t){return St.current.useEffect(e,t)};se.useId=function(){return St.current.useId()};se.useImperativeHandle=function(e,t,n){return St.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return St.current.useMemo(e,t)};se.useReducer=function(e,t,n){return St.current.useReducer(e,t,n)};se.useRef=function(e){return St.current.useRef(e)};se.useState=function(e){return St.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return St.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return St.current.useTransition()};se.version="18.2.0";(function(e){e.exports=se})(cT);const kT=aT(E),Md=lT({__proto__:null,default:kT},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT=E,NT=Symbol.for("react.element"),PT=Symbol.for("react.fragment"),AT=Object.prototype.hasOwnProperty,xT=RT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DT={key:!0,ref:!0,__self:!0,__source:!0};function K0(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)AT.call(t,r)&&!DT.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:NT,type:e,key:s,ref:o,props:i,_owner:xT.current}}vc.Fragment=PT;vc.jsx=K0;vc.jsxs=K0;(function(e){e.exports=vc})(uT);const un=Ho.Fragment,D=Ho.jsx,ie=Ho.jsxs;var Ld={},fu={},OT={get exports(){return fu},set exports(e){fu=e}},Vt={},$d={},bT={get exports(){return $d},set exports(e){$d=e}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,B){var j=O.length;O.push(B);e:for(;0<j;){var V=j-1>>>1,oe=O[V];if(0<i(oe,B))O[V]=B,O[j]=oe,j=V;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],j=O.pop();if(j!==B){O[0]=j;e:for(var V=0,oe=O.length,lt=oe>>>1;V<lt;){var he=2*(V+1)-1,$n=O[he],Sn=he+1,tn=O[Sn];if(0>i($n,j))Sn<oe&&0>i(tn,$n)?(O[V]=tn,O[Sn]=j,V=Sn):(O[V]=$n,O[he]=j,V=he);else if(Sn<oe&&0>i(tn,j))O[V]=tn,O[Sn]=j,V=Sn;else break e}}return B}function i(O,B){var j=O.sortIndex-B.sortIndex;return j!==0?j:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,d=3,y=!1,g=!1,_=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=O)r(u),B.sortIndex=B.expirationTime,t(a,B);else break;B=n(u)}}function w(O){if(_=!1,v(O),!g)if(n(a)!==null)g=!0,pe(C);else{var B=n(u);B!==null&&Xe(w,B.startTime-O)}}function C(O,B){g=!1,_&&(_=!1,p(R),R=-1),y=!0;var j=d;try{for(v(B),h=n(a);h!==null&&(!(h.expirationTime>B)||O&&!ye());){var V=h.callback;if(typeof V=="function"){h.callback=null,d=h.priorityLevel;var oe=V(h.expirationTime<=B);B=e.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(a)&&r(a),v(B)}else r(a);h=n(a)}if(h!==null)var lt=!0;else{var he=n(u);he!==null&&Xe(w,he.startTime-B),lt=!1}return lt}finally{h=null,d=j,y=!1}}var T=!1,A=null,R=-1,J=5,$=-1;function ye(){return!(e.unstable_now()-$<J)}function Ce(){if(A!==null){var O=e.unstable_now();$=O;var B=!0;try{B=A(!0,O)}finally{B?ke():(T=!1,A=null)}}else T=!1}var ke;if(typeof f=="function")ke=function(){f(Ce)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Z=b.port2;b.port1.onmessage=Ce,ke=function(){Z.postMessage(null)}}else ke=function(){m(Ce,0)};function pe(O){A=O,T||(T=!0,ke())}function Xe(O,B){R=m(function(){O(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,pe(C))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(O){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var j=d;d=B;try{return O()}finally{d=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var j=d;d=O;try{return B()}finally{d=j}},e.unstable_scheduleCallback=function(O,B,j){var V=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?V+j:V):j=V,O){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=j+oe,O={id:c++,callback:B,priorityLevel:O,startTime:j,expirationTime:oe,sortIndex:-1},j>V?(O.sortIndex=j,t(u,O),n(a)===null&&O===n(u)&&(_?(p(R),R=-1):_=!0,Xe(w,j-V))):(O.sortIndex=oe,t(a,O),g||y||(g=!0,pe(C))),O},e.unstable_shouldYield=ye,e.unstable_wrapCallback=function(O){var B=d;return function(){var j=d;d=B;try{return O.apply(this,arguments)}finally{d=j}}}})(Q0);(function(e){e.exports=Q0})(bT);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0=E,Bt=$d;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X0=new Set,Go={};function Pi(e,t){gs(e,t),gs(e+"Capture",t)}function gs(e,t){for(Go[e]=t,e=0;e<t.length;e++)X0.add(t[e])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fd=Object.prototype.hasOwnProperty,MT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iv={},Tv={};function LT(e){return Fd.call(Tv,e)?!0:Fd.call(Iv,e)?!1:MT.test(e)?Tv[e]=!0:(Iv[e]=!0,!1)}function $T(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FT(e,t,n,r){if(t===null||typeof t>"u"||$T(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function bp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Op,bp);it[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Op,bp);it[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Op,bp);it[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mp(e,t,n,r){var i=it.hasOwnProperty(t)?it[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FT(t,n,i,r)&&(n=null),r||i===null?LT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ir=Y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sa=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),Lp=Symbol.for("react.strict_mode"),Ud=Symbol.for("react.profiler"),J0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),$p=Symbol.for("react.forward_ref"),jd=Symbol.for("react.suspense"),zd=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),ew=Symbol.for("react.offscreen"),kv=Symbol.iterator;function Ys(e){return e===null||typeof e!="object"?null:(e=kv&&e[kv]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,Dh;function go(e){if(Dh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dh=t&&t[1]||""}return`
`+Dh+e}var Oh=!1;function bh(e,t){if(!e||Oh)return"";Oh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Oh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?go(e):""}function UT(e){switch(e.tag){case 5:return go(e.type);case 16:return go("Lazy");case 13:return go("Suspense");case 19:return go("SuspenseList");case 0:case 2:case 15:return e=bh(e.type,!1),e;case 11:return e=bh(e.type.render,!1),e;case 1:return e=bh(e.type,!0),e;default:return""}}function Bd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ui:return"Fragment";case Fi:return"Portal";case Ud:return"Profiler";case Lp:return"StrictMode";case jd:return"Suspense";case zd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z0:return(e.displayName||"Context")+".Consumer";case J0:return(e._context.displayName||"Context")+".Provider";case $p:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fp:return t=e.displayName||null,t!==null?t:Bd(e.type)||"Memo";case cr:t=e._payload,e=e._init;try{return Bd(e(t))}catch{}}return null}function jT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bd(t);case 8:return t===Lp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zT(e){var t=tw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ca(e){e._valueTracker||(e._valueTracker=zT(e))}function nw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vd(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Rv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$r(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rw(e,t){t=t.checked,t!=null&&Mp(e,"checked",t,!1)}function Wd(e,t){rw(e,t);var n=$r(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hd(e,t.type,$r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hd(e,t,n){(t!=="number"||pu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vo=Array.isArray;function ts(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$r(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Gd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(vo(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$r(n)}}function iw(e,t){var n=$r(t.value),r=$r(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Av(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ia,ow=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ia=Ia||document.createElement("div"),Ia.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ia.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var To={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BT=["Webkit","ms","Moz","O"];Object.keys(To).forEach(function(e){BT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),To[t]=To[e]})});function lw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||To.hasOwnProperty(e)&&To[e]?(""+t).trim():t+"px"}function aw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var VT=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kd(e,t){if(t){if(VT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Qd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yd=null;function Up(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xd=null,ns=null,rs=null;function xv(e){if(e=jl(e)){if(typeof Xd!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Sc(t),Xd(e.stateNode,e.type,t))}}function uw(e){ns?rs?rs.push(e):rs=[e]:ns=e}function cw(){if(ns){var e=ns,t=rs;if(rs=ns=null,xv(e),t)for(e=0;e<t.length;e++)xv(t[e])}}function hw(e,t){return e(t)}function dw(){}var Mh=!1;function fw(e,t,n){if(Mh)return e(t,n);Mh=!0;try{return hw(e,t,n)}finally{Mh=!1,(ns!==null||rs!==null)&&(dw(),cw())}}function Ko(e,t){var n=e.stateNode;if(n===null)return null;var r=Sc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Jd=!1;if(Xn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Jd=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Jd=!1}function WT(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ko=!1,mu=null,gu=!1,Zd=null,HT={onError:function(e){ko=!0,mu=e}};function GT(e,t,n,r,i,s,o,l,a){ko=!1,mu=null,WT.apply(HT,arguments)}function qT(e,t,n,r,i,s,o,l,a){if(GT.apply(this,arguments),ko){if(ko){var u=mu;ko=!1,mu=null}else throw Error(N(198));gu||(gu=!0,Zd=u)}}function Ai(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dv(e){if(Ai(e)!==e)throw Error(N(188))}function KT(e){var t=e.alternate;if(!t){if(t=Ai(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dv(i),e;if(s===r)return Dv(i),t;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function mw(e){return e=KT(e),e!==null?gw(e):null}function gw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gw(e);if(t!==null)return t;e=e.sibling}return null}var vw=Bt.unstable_scheduleCallback,Ov=Bt.unstable_cancelCallback,QT=Bt.unstable_shouldYield,YT=Bt.unstable_requestPaint,Me=Bt.unstable_now,XT=Bt.unstable_getCurrentPriorityLevel,jp=Bt.unstable_ImmediatePriority,yw=Bt.unstable_UserBlockingPriority,vu=Bt.unstable_NormalPriority,JT=Bt.unstable_LowPriority,_w=Bt.unstable_IdlePriority,yc=null,Pn=null;function ZT(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(yc,e,void 0,(e.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:nk,ek=Math.log,tk=Math.LN2;function nk(e){return e>>>=0,e===0?32:31-(ek(e)/tk|0)|0}var Ta=64,ka=4194304;function yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=yo(l):(s&=o,s!==0&&(r=yo(s)))}else o=n&~i,o!==0?r=yo(o):s!==0&&(r=yo(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mn(t),i=1<<n,r|=e[n],t&=~i;return r}function rk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ik(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-mn(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=rk(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function ef(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ww(){var e=Ta;return Ta<<=1,!(Ta&4194240)&&(Ta=64),e}function Lh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mn(t),e[t]=n}function sk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-mn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function zp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ge=0;function Ew(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sw,Bp,Cw,Iw,Tw,tf=!1,Ra=[],Cr=null,Ir=null,Tr=null,Qo=new Map,Yo=new Map,dr=[],ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bv(e,t){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function Js(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=jl(t),t!==null&&Bp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lk(e,t,n,r,i){switch(t){case"focusin":return Cr=Js(Cr,e,t,n,r,i),!0;case"dragenter":return Ir=Js(Ir,e,t,n,r,i),!0;case"mouseover":return Tr=Js(Tr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qo.set(s,Js(Qo.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yo.set(s,Js(Yo.get(s)||null,e,t,n,r,i)),!0}return!1}function kw(e){var t=ti(e.target);if(t!==null){var n=Ai(t);if(n!==null){if(t=n.tag,t===13){if(t=pw(n),t!==null){e.blockedOn=t,Tw(e.priority,function(){Cw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yd=r,n.target.dispatchEvent(r),Yd=null}else return t=jl(n),t!==null&&Bp(t),e.blockedOn=n,!1;t.shift()}return!0}function Mv(e,t,n){Qa(e)&&n.delete(t)}function ak(){tf=!1,Cr!==null&&Qa(Cr)&&(Cr=null),Ir!==null&&Qa(Ir)&&(Ir=null),Tr!==null&&Qa(Tr)&&(Tr=null),Qo.forEach(Mv),Yo.forEach(Mv)}function Zs(e,t){e.blockedOn===t&&(e.blockedOn=null,tf||(tf=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,ak)))}function Xo(e){function t(i){return Zs(i,e)}if(0<Ra.length){Zs(Ra[0],e);for(var n=1;n<Ra.length;n++){var r=Ra[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Cr!==null&&Zs(Cr,e),Ir!==null&&Zs(Ir,e),Tr!==null&&Zs(Tr,e),Qo.forEach(t),Yo.forEach(t),n=0;n<dr.length;n++)r=dr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dr.length&&(n=dr[0],n.blockedOn===null);)kw(n),n.blockedOn===null&&dr.shift()}var is=ir.ReactCurrentBatchConfig,_u=!0;function uk(e,t,n,r){var i=ge,s=is.transition;is.transition=null;try{ge=1,Vp(e,t,n,r)}finally{ge=i,is.transition=s}}function ck(e,t,n,r){var i=ge,s=is.transition;is.transition=null;try{ge=4,Vp(e,t,n,r)}finally{ge=i,is.transition=s}}function Vp(e,t,n,r){if(_u){var i=nf(e,t,n,r);if(i===null)Gh(e,t,r,wu,n),bv(e,r);else if(lk(i,e,t,n,r))r.stopPropagation();else if(bv(e,r),t&4&&-1<ok.indexOf(e)){for(;i!==null;){var s=jl(i);if(s!==null&&Sw(s),s=nf(e,t,n,r),s===null&&Gh(e,t,r,wu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gh(e,t,r,null,n)}}var wu=null;function nf(e,t,n,r){if(wu=null,e=Up(r),e=ti(e),e!==null)if(t=Ai(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wu=e,null}function Rw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XT()){case jp:return 1;case yw:return 4;case vu:case JT:return 16;case _w:return 536870912;default:return 16}default:return 16}}var yr=null,Wp=null,Ya=null;function Nw(){if(Ya)return Ya;var e,t=Wp,n=t.length,r,i="value"in yr?yr.value:yr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ya=i.slice(e,1<r?1-r:void 0)}function Xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Na(){return!0}function Lv(){return!1}function Wt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Na:Lv,this.isPropagationStopped=Lv,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),t}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hp=Wt(Ds),Ul=De({},Ds,{view:0,detail:0}),hk=Wt(Ul),$h,Fh,eo,_c=De({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==eo&&(eo&&e.type==="mousemove"?($h=e.screenX-eo.screenX,Fh=e.screenY-eo.screenY):Fh=$h=0,eo=e),$h)},movementY:function(e){return"movementY"in e?e.movementY:Fh}}),$v=Wt(_c),dk=De({},_c,{dataTransfer:0}),fk=Wt(dk),pk=De({},Ul,{relatedTarget:0}),Uh=Wt(pk),mk=De({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),gk=Wt(mk),vk=De({},Ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yk=Wt(vk),_k=De({},Ds,{data:0}),Fv=Wt(_k),wk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ek={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ck(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sk[e])?!!t[e]:!1}function Gp(){return Ck}var Ik=De({},Ul,{key:function(e){if(e.key){var t=wk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ek[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gp,charCode:function(e){return e.type==="keypress"?Xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tk=Wt(Ik),kk=De({},_c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uv=Wt(kk),Rk=De({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gp}),Nk=Wt(Rk),Pk=De({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ak=Wt(Pk),xk=De({},_c,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dk=Wt(xk),Ok=[9,13,27,32],qp=Xn&&"CompositionEvent"in window,Ro=null;Xn&&"documentMode"in document&&(Ro=document.documentMode);var bk=Xn&&"TextEvent"in window&&!Ro,Pw=Xn&&(!qp||Ro&&8<Ro&&11>=Ro),jv=String.fromCharCode(32),zv=!1;function Aw(e,t){switch(e){case"keyup":return Ok.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ji=!1;function Mk(e,t){switch(e){case"compositionend":return xw(t);case"keypress":return t.which!==32?null:(zv=!0,jv);case"textInput":return e=t.data,e===jv&&zv?null:e;default:return null}}function Lk(e,t){if(ji)return e==="compositionend"||!qp&&Aw(e,t)?(e=Nw(),Ya=Wp=yr=null,ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pw&&t.locale!=="ko"?null:t.data;default:return null}}var $k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$k[e.type]:t==="textarea"}function Dw(e,t,n,r){uw(r),t=Eu(t,"onChange"),0<t.length&&(n=new Hp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var No=null,Jo=null;function Fk(e){Vw(e,0)}function wc(e){var t=Vi(e);if(nw(t))return e}function Uk(e,t){if(e==="change")return t}var Ow=!1;if(Xn){var jh;if(Xn){var zh="oninput"in document;if(!zh){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),zh=typeof Vv.oninput=="function"}jh=zh}else jh=!1;Ow=jh&&(!document.documentMode||9<document.documentMode)}function Wv(){No&&(No.detachEvent("onpropertychange",bw),Jo=No=null)}function bw(e){if(e.propertyName==="value"&&wc(Jo)){var t=[];Dw(t,Jo,e,Up(e)),fw(Fk,t)}}function jk(e,t,n){e==="focusin"?(Wv(),No=t,Jo=n,No.attachEvent("onpropertychange",bw)):e==="focusout"&&Wv()}function zk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wc(Jo)}function Bk(e,t){if(e==="click")return wc(t)}function Vk(e,t){if(e==="input"||e==="change")return wc(t)}function Wk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:Wk;function Zo(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fd.call(t,i)||!yn(e[i],t[i]))return!1}return!0}function Hv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gv(e,t){var n=Hv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hv(n)}}function Mw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lw(){for(var e=window,t=pu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pu(e.document)}return t}function Kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hk(e){var t=Lw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mw(n.ownerDocument.documentElement,n)){if(r!==null&&Kp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Gv(n,s);var o=Gv(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gk=Xn&&"documentMode"in document&&11>=document.documentMode,zi=null,rf=null,Po=null,sf=!1;function qv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sf||zi==null||zi!==pu(r)||(r=zi,"selectionStart"in r&&Kp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Po&&Zo(Po,r)||(Po=r,r=Eu(rf,"onSelect"),0<r.length&&(t=new Hp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zi)))}function Pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bi={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},Bh={},$w={};Xn&&($w=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Ec(e){if(Bh[e])return Bh[e];if(!Bi[e])return e;var t=Bi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $w)return Bh[e]=t[n];return e}var Fw=Ec("animationend"),Uw=Ec("animationiteration"),jw=Ec("animationstart"),zw=Ec("transitionend"),Bw=new Map,Kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,t){Bw.set(e,t),Pi(t,[e])}for(var Vh=0;Vh<Kv.length;Vh++){var Wh=Kv[Vh],qk=Wh.toLowerCase(),Kk=Wh[0].toUpperCase()+Wh.slice(1);Wr(qk,"on"+Kk)}Wr(Fw,"onAnimationEnd");Wr(Uw,"onAnimationIteration");Wr(jw,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(zw,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qk=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function Qv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qT(r,t,void 0,e),e.currentTarget=null}function Vw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Qv(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Qv(i,l,u),s=a}}}if(gu)throw e=Zd,gu=!1,Zd=null,e}function Ie(e,t){var n=t[cf];n===void 0&&(n=t[cf]=new Set);var r=e+"__bubble";n.has(r)||(Ww(t,e,2,!1),n.add(r))}function Hh(e,t,n){var r=0;t&&(r|=4),Ww(n,e,r,t)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function el(e){if(!e[Aa]){e[Aa]=!0,X0.forEach(function(n){n!=="selectionchange"&&(Qk.has(n)||Hh(n,!1,e),Hh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Aa]||(t[Aa]=!0,Hh("selectionchange",!1,t))}}function Ww(e,t,n,r){switch(Rw(t)){case 1:var i=uk;break;case 4:i=ck;break;default:i=Vp}n=i.bind(null,t,n,e),i=void 0,!Jd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ti(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}fw(function(){var u=s,c=Up(n),h=[];e:{var d=Bw.get(e);if(d!==void 0){var y=Hp,g=e;switch(e){case"keypress":if(Xa(n)===0)break e;case"keydown":case"keyup":y=Tk;break;case"focusin":g="focus",y=Uh;break;case"focusout":g="blur",y=Uh;break;case"beforeblur":case"afterblur":y=Uh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=$v;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=fk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Nk;break;case Fw:case Uw:case jw:y=gk;break;case zw:y=Ak;break;case"scroll":y=hk;break;case"wheel":y=Dk;break;case"copy":case"cut":case"paste":y=yk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Uv}var _=(t&4)!==0,m=!_&&e==="scroll",p=_?d!==null?d+"Capture":null:d;_=[];for(var f=u,v;f!==null;){v=f;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,p!==null&&(w=Ko(f,p),w!=null&&_.push(tl(f,w,v)))),m)break;f=f.return}0<_.length&&(d=new y(d,g,null,n,c),h.push({event:d,listeners:_}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&n!==Yd&&(g=n.relatedTarget||n.fromElement)&&(ti(g)||g[Jn]))break e;if((y||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=u,g=g?ti(g):null,g!==null&&(m=Ai(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(_=$v,w="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(_=Uv,w="onPointerLeave",p="onPointerEnter",f="pointer"),m=y==null?d:Vi(y),v=g==null?d:Vi(g),d=new _(w,f+"leave",y,n,c),d.target=m,d.relatedTarget=v,w=null,ti(c)===u&&(_=new _(p,f+"enter",g,n,c),_.target=v,_.relatedTarget=m,w=_),m=w,y&&g)t:{for(_=y,p=g,f=0,v=_;v;v=Mi(v))f++;for(v=0,w=p;w;w=Mi(w))v++;for(;0<f-v;)_=Mi(_),f--;for(;0<v-f;)p=Mi(p),v--;for(;f--;){if(_===p||p!==null&&_===p.alternate)break t;_=Mi(_),p=Mi(p)}_=null}else _=null;y!==null&&Yv(h,d,y,_,!1),g!==null&&m!==null&&Yv(h,m,g,_,!0)}}e:{if(d=u?Vi(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var C=Uk;else if(Bv(d))if(Ow)C=Vk;else{C=zk;var T=jk}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=Bk);if(C&&(C=C(e,u))){Dw(h,C,n,c);break e}T&&T(e,d,u),e==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&Hd(d,"number",d.value)}switch(T=u?Vi(u):window,e){case"focusin":(Bv(T)||T.contentEditable==="true")&&(zi=T,rf=u,Po=null);break;case"focusout":Po=rf=zi=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,qv(h,n,c);break;case"selectionchange":if(Gk)break;case"keydown":case"keyup":qv(h,n,c)}var A;if(qp)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ji?Aw(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Pw&&n.locale!=="ko"&&(ji||R!=="onCompositionStart"?R==="onCompositionEnd"&&ji&&(A=Nw()):(yr=c,Wp="value"in yr?yr.value:yr.textContent,ji=!0)),T=Eu(u,R),0<T.length&&(R=new Fv(R,e,null,n,c),h.push({event:R,listeners:T}),A?R.data=A:(A=xw(n),A!==null&&(R.data=A)))),(A=bk?Mk(e,n):Lk(e,n))&&(u=Eu(u,"onBeforeInput"),0<u.length&&(c=new Fv("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}Vw(h,t)})}function tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ko(e,n),s!=null&&r.unshift(tl(e,s,i)),s=Ko(e,t),s!=null&&r.push(tl(e,s,i))),e=e.return}return r}function Mi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yv(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ko(n,s),a!=null&&o.unshift(tl(n,a,l))):i||(a=Ko(n,s),a!=null&&o.push(tl(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Yk=/\r\n?/g,Xk=/\u0000|\uFFFD/g;function Xv(e){return(typeof e=="string"?e:""+e).replace(Yk,`
`).replace(Xk,"")}function xa(e,t,n){if(t=Xv(t),Xv(e)!==t&&n)throw Error(N(425))}function Su(){}var of=null,lf=null;function af(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uf=typeof setTimeout=="function"?setTimeout:void 0,Jk=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,Zk=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(e){return Jv.resolve(null).then(e).catch(eR)}:uf;function eR(e){setTimeout(function(){throw e})}function qh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xo(t)}function kr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Os=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Os,nl="__reactProps$"+Os,Jn="__reactContainer$"+Os,cf="__reactEvents$"+Os,tR="__reactListeners$"+Os,nR="__reactHandles$"+Os;function ti(e){var t=e[Rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jn]||n[Rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zv(e);e!==null;){if(n=e[Rn])return n;e=Zv(e)}return t}e=n,n=e.parentNode}return null}function jl(e){return e=e[Rn]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Sc(e){return e[nl]||null}var hf=[],Wi=-1;function Hr(e){return{current:e}}function Te(e){0>Wi||(e.current=hf[Wi],hf[Wi]=null,Wi--)}function Se(e,t){Wi++,hf[Wi]=e.current,e.current=t}var Fr={},mt=Hr(Fr),Pt=Hr(!1),fi=Fr;function vs(e,t){var n=e.type.contextTypes;if(!n)return Fr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function At(e){return e=e.childContextTypes,e!=null}function Cu(){Te(Pt),Te(mt)}function ey(e,t,n){if(mt.current!==Fr)throw Error(N(168));Se(mt,t),Se(Pt,n)}function Hw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(N(108,jT(e)||"Unknown",i));return De({},n,r)}function Iu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,fi=mt.current,Se(mt,e),Se(Pt,Pt.current),!0}function ty(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=Hw(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,Te(Pt),Te(mt),Se(mt,e)):Te(Pt),Se(Pt,n)}var Bn=null,Cc=!1,Kh=!1;function Gw(e){Bn===null?Bn=[e]:Bn.push(e)}function rR(e){Cc=!0,Gw(e)}function Gr(){if(!Kh&&Bn!==null){Kh=!0;var e=0,t=ge;try{var n=Bn;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bn=null,Cc=!1}catch(i){throw Bn!==null&&(Bn=Bn.slice(e+1)),vw(jp,Gr),i}finally{ge=t,Kh=!1}}return null}var Hi=[],Gi=0,Tu=null,ku=0,Ht=[],Gt=0,pi=null,Vn=1,Wn="";function Yr(e,t){Hi[Gi++]=ku,Hi[Gi++]=Tu,Tu=e,ku=t}function qw(e,t,n){Ht[Gt++]=Vn,Ht[Gt++]=Wn,Ht[Gt++]=pi,pi=e;var r=Vn;e=Wn;var i=32-mn(r)-1;r&=~(1<<i),n+=1;var s=32-mn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vn=1<<32-mn(t)+i|n<<i|r,Wn=s+e}else Vn=1<<s|n<<i|r,Wn=e}function Qp(e){e.return!==null&&(Yr(e,1),qw(e,1,0))}function Yp(e){for(;e===Tu;)Tu=Hi[--Gi],Hi[Gi]=null,ku=Hi[--Gi],Hi[Gi]=null;for(;e===pi;)pi=Ht[--Gt],Ht[Gt]=null,Wn=Ht[--Gt],Ht[Gt]=null,Vn=Ht[--Gt],Ht[Gt]=null}var Ut=null,Lt=null,Re=!1,cn=null;function Kw(e,t){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ny(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ut=e,Lt=kr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ut=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pi!==null?{id:Vn,overflow:Wn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ut=e,Lt=null,!0):!1;default:return!1}}function df(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ff(e){if(Re){var t=Lt;if(t){var n=t;if(!ny(e,t)){if(df(e))throw Error(N(418));t=kr(n.nextSibling);var r=Ut;t&&ny(e,t)?Kw(r,n):(e.flags=e.flags&-4097|2,Re=!1,Ut=e)}}else{if(df(e))throw Error(N(418));e.flags=e.flags&-4097|2,Re=!1,Ut=e}}}function ry(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ut=e}function Da(e){if(e!==Ut)return!1;if(!Re)return ry(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!af(e.type,e.memoizedProps)),t&&(t=Lt)){if(df(e))throw Qw(),Error(N(418));for(;t;)Kw(e,t),t=kr(t.nextSibling)}if(ry(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=kr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Ut?kr(e.stateNode.nextSibling):null;return!0}function Qw(){for(var e=Lt;e;)e=kr(e.nextSibling)}function ys(){Lt=Ut=null,Re=!1}function Xp(e){cn===null?cn=[e]:cn.push(e)}var iR=ir.ReactCurrentBatchConfig;function ln(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ru=Hr(null),Nu=null,qi=null,Jp=null;function Zp(){Jp=qi=Nu=null}function em(e){var t=Ru.current;Te(Ru),e._currentValue=t}function pf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ss(e,t){Nu=e,Jp=qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(Jp!==e)if(e={context:e,memoizedValue:t,next:null},qi===null){if(Nu===null)throw Error(N(308));qi=e,Nu.dependencies={lanes:0,firstContext:e}}else qi=qi.next=e;return t}var ni=null;function tm(e){ni===null?ni=[e]:ni.push(e)}function Yw(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,tm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Zn(e,r)}function Zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hr=!1;function nm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zn(e,n)}return i=r.interleaved,i===null?(t.next=t,tm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zn(e,n)}function Ja(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zp(e,n)}}function iy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pu(e,t,n,r){var i=e.updateQueue;hr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,c=u=a=null,l=s;do{var d=l.lane,y=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,_=l;switch(d=t,y=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(y,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,d=typeof g=="function"?g.call(y,h,d):g,d==null)break e;h=De({},h,d);break e;case 2:hr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=y,a=h):c=c.next=y,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);gi|=o,e.lanes=o,e.memoizedState=h}}function sy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var Jw=new Y0.Component().refs;function mf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ic={isMounted:function(e){return(e=e._reactInternals)?Ai(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wt(),i=Pr(e),s=Qn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Rr(e,s,i),t!==null&&(gn(t,e,i,r),Ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wt(),i=Pr(e),s=Qn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Rr(e,s,i),t!==null&&(gn(t,e,i,r),Ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),r=Pr(e),i=Qn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Rr(e,i,r),t!==null&&(gn(t,e,r,n),Ja(t,e,r))}};function oy(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Zo(n,r)||!Zo(i,s):!0}function Zw(e,t,n){var r=!1,i=Fr,s=t.contextType;return typeof s=="object"&&s!==null?s=Jt(s):(i=At(t)?fi:mt.current,r=t.contextTypes,s=(r=r!=null)?vs(e,i):Fr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ic,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ly(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ic.enqueueReplaceState(t,t.state,null)}function gf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Jw,nm(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Jt(s):(s=At(t)?fi:mt.current,i.context=vs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(mf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ic.enqueueReplaceState(i,i.state,null),Pu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function to(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===Jw&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Oa(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ay(e){var t=e._init;return t(e._payload)}function e1(e){function t(p,f){if(e){var v=p.deletions;v===null?(p.deletions=[f],p.flags|=16):v.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=Ar(p,f),p.index=0,p.sibling=null,p}function s(p,f,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<f?(p.flags|=2,f):v):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,v,w){return f===null||f.tag!==6?(f=td(v,p.mode,w),f.return=p,f):(f=i(f,v),f.return=p,f)}function a(p,f,v,w){var C=v.type;return C===Ui?c(p,f,v.props.children,w,v.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===cr&&ay(C)===f.type)?(w=i(f,v.props),w.ref=to(p,f,v),w.return=p,w):(w=iu(v.type,v.key,v.props,null,p.mode,w),w.ref=to(p,f,v),w.return=p,w)}function u(p,f,v,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=nd(v,p.mode,w),f.return=p,f):(f=i(f,v.children||[]),f.return=p,f)}function c(p,f,v,w,C){return f===null||f.tag!==7?(f=ui(v,p.mode,w,C),f.return=p,f):(f=i(f,v),f.return=p,f)}function h(p,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=td(""+f,p.mode,v),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Sa:return v=iu(f.type,f.key,f.props,null,p.mode,v),v.ref=to(p,null,f),v.return=p,v;case Fi:return f=nd(f,p.mode,v),f.return=p,f;case cr:var w=f._init;return h(p,w(f._payload),v)}if(vo(f)||Ys(f))return f=ui(f,p.mode,v,null),f.return=p,f;Oa(p,f)}return null}function d(p,f,v,w){var C=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(p,f,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sa:return v.key===C?a(p,f,v,w):null;case Fi:return v.key===C?u(p,f,v,w):null;case cr:return C=v._init,d(p,f,C(v._payload),w)}if(vo(v)||Ys(v))return C!==null?null:c(p,f,v,w,null);Oa(p,v)}return null}function y(p,f,v,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(v)||null,l(f,p,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sa:return p=p.get(w.key===null?v:w.key)||null,a(f,p,w,C);case Fi:return p=p.get(w.key===null?v:w.key)||null,u(f,p,w,C);case cr:var T=w._init;return y(p,f,v,T(w._payload),C)}if(vo(w)||Ys(w))return p=p.get(v)||null,c(f,p,w,C,null);Oa(f,w)}return null}function g(p,f,v,w){for(var C=null,T=null,A=f,R=f=0,J=null;A!==null&&R<v.length;R++){A.index>R?(J=A,A=null):J=A.sibling;var $=d(p,A,v[R],w);if($===null){A===null&&(A=J);break}e&&A&&$.alternate===null&&t(p,A),f=s($,f,R),T===null?C=$:T.sibling=$,T=$,A=J}if(R===v.length)return n(p,A),Re&&Yr(p,R),C;if(A===null){for(;R<v.length;R++)A=h(p,v[R],w),A!==null&&(f=s(A,f,R),T===null?C=A:T.sibling=A,T=A);return Re&&Yr(p,R),C}for(A=r(p,A);R<v.length;R++)J=y(A,p,R,v[R],w),J!==null&&(e&&J.alternate!==null&&A.delete(J.key===null?R:J.key),f=s(J,f,R),T===null?C=J:T.sibling=J,T=J);return e&&A.forEach(function(ye){return t(p,ye)}),Re&&Yr(p,R),C}function _(p,f,v,w){var C=Ys(v);if(typeof C!="function")throw Error(N(150));if(v=C.call(v),v==null)throw Error(N(151));for(var T=C=null,A=f,R=f=0,J=null,$=v.next();A!==null&&!$.done;R++,$=v.next()){A.index>R?(J=A,A=null):J=A.sibling;var ye=d(p,A,$.value,w);if(ye===null){A===null&&(A=J);break}e&&A&&ye.alternate===null&&t(p,A),f=s(ye,f,R),T===null?C=ye:T.sibling=ye,T=ye,A=J}if($.done)return n(p,A),Re&&Yr(p,R),C;if(A===null){for(;!$.done;R++,$=v.next())$=h(p,$.value,w),$!==null&&(f=s($,f,R),T===null?C=$:T.sibling=$,T=$);return Re&&Yr(p,R),C}for(A=r(p,A);!$.done;R++,$=v.next())$=y(A,p,R,$.value,w),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?R:$.key),f=s($,f,R),T===null?C=$:T.sibling=$,T=$);return e&&A.forEach(function(Ce){return t(p,Ce)}),Re&&Yr(p,R),C}function m(p,f,v,w){if(typeof v=="object"&&v!==null&&v.type===Ui&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Sa:e:{for(var C=v.key,T=f;T!==null;){if(T.key===C){if(C=v.type,C===Ui){if(T.tag===7){n(p,T.sibling),f=i(T,v.props.children),f.return=p,p=f;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===cr&&ay(C)===T.type){n(p,T.sibling),f=i(T,v.props),f.ref=to(p,T,v),f.return=p,p=f;break e}n(p,T);break}else t(p,T);T=T.sibling}v.type===Ui?(f=ui(v.props.children,p.mode,w,v.key),f.return=p,p=f):(w=iu(v.type,v.key,v.props,null,p.mode,w),w.ref=to(p,f,v),w.return=p,p=w)}return o(p);case Fi:e:{for(T=v.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(p,f.sibling),f=i(f,v.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=nd(v,p.mode,w),f.return=p,p=f}return o(p);case cr:return T=v._init,m(p,f,T(v._payload),w)}if(vo(v))return g(p,f,v,w);if(Ys(v))return _(p,f,v,w);Oa(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,v),f.return=p,p=f):(n(p,f),f=td(v,p.mode,w),f.return=p,p=f),o(p)):n(p,f)}return m}var _s=e1(!0),t1=e1(!1),zl={},An=Hr(zl),rl=Hr(zl),il=Hr(zl);function ri(e){if(e===zl)throw Error(N(174));return e}function rm(e,t){switch(Se(il,t),Se(rl,e),Se(An,zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qd(t,e)}Te(An),Se(An,t)}function ws(){Te(An),Te(rl),Te(il)}function n1(e){ri(il.current);var t=ri(An.current),n=qd(t,e.type);t!==n&&(Se(rl,e),Se(An,n))}function im(e){rl.current===e&&(Te(An),Te(rl))}var Pe=Hr(0);function Au(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qh=[];function sm(){for(var e=0;e<Qh.length;e++)Qh[e]._workInProgressVersionPrimary=null;Qh.length=0}var Za=ir.ReactCurrentDispatcher,Yh=ir.ReactCurrentBatchConfig,mi=0,xe=null,je=null,He=null,xu=!1,Ao=!1,sl=0,sR=0;function ut(){throw Error(N(321))}function om(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yn(e[n],t[n]))return!1;return!0}function lm(e,t,n,r,i,s){if(mi=s,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Za.current=e===null||e.memoizedState===null?uR:cR,e=n(r,i),Ao){s=0;do{if(Ao=!1,sl=0,25<=s)throw Error(N(301));s+=1,He=je=null,t.updateQueue=null,Za.current=hR,e=n(r,i)}while(Ao)}if(Za.current=Du,t=je!==null&&je.next!==null,mi=0,He=je=xe=null,xu=!1,t)throw Error(N(300));return e}function am(){var e=sl!==0;return sl=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?xe.memoizedState=He=e:He=He.next=e,He}function Zt(){if(je===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=He===null?xe.memoizedState:He.next;if(t!==null)He=t,je=e;else{if(e===null)throw Error(N(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},He===null?xe.memoizedState=He=e:He=He.next=e}return He}function ol(e,t){return typeof t=="function"?t(e):t}function Xh(e){var t=Zt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((mi&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,xe.lanes|=c,gi|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,yn(r,t.memoizedState)||(kt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,xe.lanes|=s,gi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jh(e){var t=Zt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);yn(s,t.memoizedState)||(kt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function r1(){}function i1(e,t){var n=xe,r=Zt(),i=t(),s=!yn(r.memoizedState,i);if(s&&(r.memoizedState=i,kt=!0),r=r.queue,um(l1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,ll(9,o1.bind(null,n,r,i,t),void 0,null),Qe===null)throw Error(N(349));mi&30||s1(n,t,i)}return i}function s1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function o1(e,t,n,r){t.value=n,t.getSnapshot=r,a1(t)&&u1(e)}function l1(e,t,n){return n(function(){a1(t)&&u1(e)})}function a1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yn(e,n)}catch{return!0}}function u1(e){var t=Zn(e,1);t!==null&&gn(t,e,1,-1)}function uy(e){var t=In();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:e},t.queue=e,e=e.dispatch=aR.bind(null,xe,e),[t.memoizedState,e]}function ll(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function c1(){return Zt().memoizedState}function eu(e,t,n,r){var i=In();xe.flags|=e,i.memoizedState=ll(1|t,n,void 0,r===void 0?null:r)}function Tc(e,t,n,r){var i=Zt();r=r===void 0?null:r;var s=void 0;if(je!==null){var o=je.memoizedState;if(s=o.destroy,r!==null&&om(r,o.deps)){i.memoizedState=ll(t,n,s,r);return}}xe.flags|=e,i.memoizedState=ll(1|t,n,s,r)}function cy(e,t){return eu(8390656,8,e,t)}function um(e,t){return Tc(2048,8,e,t)}function h1(e,t){return Tc(4,2,e,t)}function d1(e,t){return Tc(4,4,e,t)}function f1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p1(e,t,n){return n=n!=null?n.concat([e]):null,Tc(4,4,f1.bind(null,t,e),n)}function cm(){}function m1(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&om(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function g1(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&om(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function v1(e,t,n){return mi&21?(yn(n,t)||(n=ww(),xe.lanes|=n,gi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=n)}function oR(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=Yh.transition;Yh.transition={};try{e(!1),t()}finally{ge=n,Yh.transition=r}}function y1(){return Zt().memoizedState}function lR(e,t,n){var r=Pr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_1(e))w1(t,n);else if(n=Yw(e,t,n,r),n!==null){var i=wt();gn(n,e,r,i),E1(n,t,r)}}function aR(e,t,n){var r=Pr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_1(e))w1(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,yn(l,o)){var a=t.interleaved;a===null?(i.next=i,tm(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Yw(e,t,i,r),n!==null&&(i=wt(),gn(n,e,r,i),E1(n,t,r))}}function _1(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function w1(e,t){Ao=xu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function E1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zp(e,n)}}var Du={readContext:Jt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},uR={readContext:Jt,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:cy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,eu(4194308,4,f1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eu(4194308,4,e,t)},useInsertionEffect:function(e,t){return eu(4,2,e,t)},useMemo:function(e,t){var n=In();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=In();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lR.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:uy,useDebugValue:cm,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=uy(!1),t=e[0];return e=oR.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,i=In();if(Re){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Qe===null)throw Error(N(349));mi&30||s1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,cy(l1.bind(null,r,s,e),[e]),r.flags|=2048,ll(9,o1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=In(),t=Qe.identifierPrefix;if(Re){var n=Wn,r=Vn;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cR={readContext:Jt,useCallback:m1,useContext:Jt,useEffect:um,useImperativeHandle:p1,useInsertionEffect:h1,useLayoutEffect:d1,useMemo:g1,useReducer:Xh,useRef:c1,useState:function(){return Xh(ol)},useDebugValue:cm,useDeferredValue:function(e){var t=Zt();return v1(t,je.memoizedState,e)},useTransition:function(){var e=Xh(ol)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:r1,useSyncExternalStore:i1,useId:y1,unstable_isNewReconciler:!1},hR={readContext:Jt,useCallback:m1,useContext:Jt,useEffect:um,useImperativeHandle:p1,useInsertionEffect:h1,useLayoutEffect:d1,useMemo:g1,useReducer:Jh,useRef:c1,useState:function(){return Jh(ol)},useDebugValue:cm,useDeferredValue:function(e){var t=Zt();return je===null?t.memoizedState=e:v1(t,je.memoizedState,e)},useTransition:function(){var e=Jh(ol)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:r1,useSyncExternalStore:i1,useId:y1,unstable_isNewReconciler:!1};function Es(e,t){try{var n="",r=t;do n+=UT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Zh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dR=typeof WeakMap=="function"?WeakMap:Map;function S1(e,t,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bu||(bu=!0,Rf=r),vf(e,t)},n}function C1(e,t,n){n=Qn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){vf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vf(e,t),typeof r!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function hy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kR.bind(null,e,t,n),t.then(e,e))}function dy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qn(-1,1),t.tag=2,Rr(n,t,1))),n.lanes|=1),e)}var fR=ir.ReactCurrentOwner,kt=!1;function vt(e,t,n,r){t.child=e===null?t1(t,null,n,r):_s(t,e.child,n,r)}function py(e,t,n,r,i){n=n.render;var s=t.ref;return ss(t,i),r=lm(e,t,n,r,s,i),n=am(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,er(e,t,i)):(Re&&n&&Qp(t),t.flags|=1,vt(e,t,r,i),t.child)}function my(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!ym(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,I1(e,t,s,r,i)):(e=iu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zo,n(o,r)&&e.ref===t.ref)return er(e,t,i)}return t.flags|=1,e=Ar(s,r),e.ref=t.ref,e.return=t,t.child=e}function I1(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Zo(s,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,er(e,t,i)}return yf(e,t,n,r,i)}function T1(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Qi,Ot),Ot|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Qi,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(Qi,Ot),Ot|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Se(Qi,Ot),Ot|=r;return vt(e,t,i,n),t.child}function k1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yf(e,t,n,r,i){var s=At(n)?fi:mt.current;return s=vs(t,s),ss(t,i),n=lm(e,t,n,r,s,i),r=am(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,er(e,t,i)):(Re&&r&&Qp(t),t.flags|=1,vt(e,t,n,i),t.child)}function gy(e,t,n,r,i){if(At(n)){var s=!0;Iu(t)}else s=!1;if(ss(t,i),t.stateNode===null)tu(e,t),Zw(t,n,r),gf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jt(u):(u=At(n)?fi:mt.current,u=vs(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ly(t,o,r,u),hr=!1;var d=t.memoizedState;o.state=d,Pu(t,r,o,i),a=t.memoizedState,l!==r||d!==a||Pt.current||hr?(typeof c=="function"&&(mf(t,n,c,r),a=t.memoizedState),(l=hr||oy(t,n,l,r,d,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Xw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ln(t.type,l),o.props=u,h=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Jt(a):(a=At(n)?fi:mt.current,a=vs(t,a));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&ly(t,o,r,a),hr=!1,d=t.memoizedState,o.state=d,Pu(t,r,o,i);var g=t.memoizedState;l!==h||d!==g||Pt.current||hr?(typeof y=="function"&&(mf(t,n,y,r),g=t.memoizedState),(u=hr||oy(t,n,u,r,d,g,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return _f(e,t,n,r,s,i)}function _f(e,t,n,r,i,s){k1(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&ty(t,n,!1),er(e,t,s);r=t.stateNode,fR.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=_s(t,e.child,null,s),t.child=_s(t,null,l,s)):vt(e,t,l,s),t.memoizedState=r.state,i&&ty(t,n,!0),t.child}function R1(e){var t=e.stateNode;t.pendingContext?ey(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ey(e,t.context,!1),rm(e,t.containerInfo)}function vy(e,t,n,r,i){return ys(),Xp(i),t.flags|=256,vt(e,t,n,r),t.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function Ef(e){return{baseLanes:e,cachePool:null,transitions:null}}function N1(e,t,n){var r=t.pendingProps,i=Pe.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Se(Pe,i&1),e===null)return ff(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nc(o,r,0,null),e=ui(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ef(n),t.memoizedState=wf,e):hm(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return pR(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Ar(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ar(l,s):(s=ui(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Ef(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=wf,r}return s=e.child,e=s.sibling,r=Ar(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function hm(e,t){return t=Nc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ba(e,t,n,r){return r!==null&&Xp(r),_s(t,e.child,null,n),e=hm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pR(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Zh(Error(N(422))),ba(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Nc({mode:"visible",children:r.children},i,0,null),s=ui(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&_s(t,e.child,null,o),t.child.memoizedState=Ef(o),t.memoizedState=wf,s);if(!(t.mode&1))return ba(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(N(419)),r=Zh(s,r,void 0),ba(e,t,o,r)}if(l=(o&e.childLanes)!==0,kt||l){if(r=Qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zn(e,i),gn(r,e,i,-1))}return vm(),r=Zh(Error(N(421))),ba(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=RR.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Lt=kr(i.nextSibling),Ut=t,Re=!0,cn=null,e!==null&&(Ht[Gt++]=Vn,Ht[Gt++]=Wn,Ht[Gt++]=pi,Vn=e.id,Wn=e.overflow,pi=t),t=hm(t,r.children),t.flags|=4096,t)}function yy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pf(e.return,t,n)}function ed(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function P1(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vt(e,t,r.children,n),r=Pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yy(e,n,t);else if(e.tag===19)yy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(Pe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Au(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ed(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Au(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ed(t,!0,n,null,s);break;case"together":ed(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=Ar(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ar(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mR(e,t,n){switch(t.tag){case 3:R1(t),ys();break;case 5:n1(t);break;case 1:At(t.type)&&Iu(t);break;case 4:rm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Se(Ru,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(Pe,Pe.current&1),t.flags|=128,null):n&t.child.childLanes?N1(e,t,n):(Se(Pe,Pe.current&1),e=er(e,t,n),e!==null?e.sibling:null);Se(Pe,Pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return P1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Pe,Pe.current),r)break;return null;case 22:case 23:return t.lanes=0,T1(e,t,n)}return er(e,t,n)}var A1,Sf,x1,D1;A1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sf=function(){};x1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ri(An.current);var s=null;switch(n){case"input":i=Vd(e,i),r=Vd(e,r),s=[];break;case"select":i=De({},i,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":i=Gd(e,i),r=Gd(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Su)}Kd(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Go.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Go.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Ie("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};D1=function(e,t,n,r){n!==r&&(t.flags|=4)};function no(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gR(e,t,n){var r=t.pendingProps;switch(Yp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return At(t.type)&&Cu(),ct(t),null;case 3:return r=t.stateNode,ws(),Te(Pt),Te(mt),sm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Da(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cn!==null&&(Af(cn),cn=null))),Sf(e,t),ct(t),null;case 5:im(t);var i=ri(il.current);if(n=t.type,e!==null&&t.stateNode!=null)x1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return ct(t),null}if(e=ri(An.current),Da(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Rn]=t,r[nl]=s,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<_o.length;i++)Ie(_o[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Rv(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":Pv(r,s),Ie("invalid",r)}Kd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&xa(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&xa(r.textContent,l,e),i=["children",""+l]):Go.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Ca(r),Nv(r,s,!0);break;case"textarea":Ca(r),Av(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Su)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rn]=t,e[nl]=r,A1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qd(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),i=r;break;case"iframe":case"object":case"embed":Ie("load",e),i=r;break;case"video":case"audio":for(i=0;i<_o.length;i++)Ie(_o[i],e);i=r;break;case"source":Ie("error",e),i=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),i=r;break;case"details":Ie("toggle",e),i=r;break;case"input":Rv(e,r),i=Vd(e,r),Ie("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=De({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":Pv(e,r),i=Gd(e,r),Ie("invalid",e);break;default:i=r}Kd(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?aw(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ow(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&qo(e,a):typeof a=="number"&&qo(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Go.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Ie("scroll",e):a!=null&&Mp(e,s,a,o))}switch(n){case"input":Ca(e),Nv(e,r,!1);break;case"textarea":Ca(e),Av(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$r(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ts(e,!!r.multiple,s,!1):r.defaultValue!=null&&ts(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)D1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=ri(il.current),ri(An.current),Da(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rn]=t,(s=r.nodeValue!==n)&&(e=Ut,e!==null))switch(e.tag){case 3:xa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rn]=t,t.stateNode=r}return ct(t),null;case 13:if(Te(Pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Lt!==null&&t.mode&1&&!(t.flags&128))Qw(),ys(),t.flags|=98560,s=!1;else if(s=Da(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(N(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Rn]=t}else ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),s=!1}else cn!==null&&(Af(cn),cn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?ze===0&&(ze=3):vm())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return ws(),Sf(e,t),e===null&&el(t.stateNode.containerInfo),ct(t),null;case 10:return em(t.type._context),ct(t),null;case 17:return At(t.type)&&Cu(),ct(t),null;case 19:if(Te(Pe),s=t.memoizedState,s===null)return ct(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)no(s,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Au(e),o!==null){for(t.flags|=128,no(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Pe,Pe.current&1|2),t.child}e=e.sibling}s.tail!==null&&Me()>Ss&&(t.flags|=128,r=!0,no(s,!1),t.lanes=4194304)}else{if(!r)if(e=Au(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),no(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return ct(t),null}else 2*Me()-s.renderingStartTime>Ss&&n!==1073741824&&(t.flags|=128,r=!0,no(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Me(),t.sibling=null,n=Pe.current,Se(Pe,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return gm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function vR(e,t){switch(Yp(t),t.tag){case 1:return At(t.type)&&Cu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ws(),Te(Pt),Te(mt),sm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return im(t),null;case 13:if(Te(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Pe),null;case 4:return ws(),null;case 10:return em(t.type._context),null;case 22:case 23:return gm(),null;case 24:return null;default:return null}}var Ma=!1,dt=!1,yR=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ki(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function Cf(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var _y=!1;function _R(e,t){if(of=_u,e=Lw(),Kp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)d=h,h=y;for(;;){if(h===e)break t;if(d===n&&++u===i&&(l=o),d===s&&++c===r&&(a=o),(y=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(lf={focusedElem:e,selectionRange:n},_u=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,m=g.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:ln(t.type,_),m);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(w){Oe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return g=_y,_y=!1,g}function xo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cf(t,n,s)}i=i.next}while(i!==r)}}function kc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function If(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function O1(e){var t=e.alternate;t!==null&&(e.alternate=null,O1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[nl],delete t[cf],delete t[tR],delete t[nR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b1(e){return e.tag===5||e.tag===3||e.tag===4}function wy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Su));else if(r!==4&&(e=e.child,e!==null))for(Tf(e,t,n),e=e.sibling;e!==null;)Tf(e,t,n),e=e.sibling}function kf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(kf(e,t,n),e=e.sibling;e!==null;)kf(e,t,n),e=e.sibling}var Ze=null,an=!1;function lr(e,t,n){for(n=n.child;n!==null;)M1(e,t,n),n=n.sibling}function M1(e,t,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(yc,n)}catch{}switch(n.tag){case 5:dt||Ki(n,t);case 6:var r=Ze,i=an;Ze=null,lr(e,t,n),Ze=r,an=i,Ze!==null&&(an?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(an?(e=Ze,n=n.stateNode,e.nodeType===8?qh(e.parentNode,n):e.nodeType===1&&qh(e,n),Xo(e)):qh(Ze,n.stateNode));break;case 4:r=Ze,i=an,Ze=n.stateNode.containerInfo,an=!0,lr(e,t,n),Ze=r,an=i;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cf(n,t,o),i=i.next}while(i!==r)}lr(e,t,n);break;case 1:if(!dt&&(Ki(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Oe(n,t,l)}lr(e,t,n);break;case 21:lr(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,lr(e,t,n),dt=r):lr(e,t,n);break;default:lr(e,t,n)}}function Ey(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yR),t.forEach(function(r){var i=NR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function on(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ze=l.stateNode,an=!1;break e;case 3:Ze=l.stateNode.containerInfo,an=!0;break e;case 4:Ze=l.stateNode.containerInfo,an=!0;break e}l=l.return}if(Ze===null)throw Error(N(160));M1(s,o,i),Ze=null,an=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Oe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)L1(t,e),t=t.sibling}function L1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),Cn(e),r&4){try{xo(3,e,e.return),kc(3,e)}catch(_){Oe(e,e.return,_)}try{xo(5,e,e.return)}catch(_){Oe(e,e.return,_)}}break;case 1:on(t,e),Cn(e),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(on(t,e),Cn(e),r&512&&n!==null&&Ki(n,n.return),e.flags&32){var i=e.stateNode;try{qo(i,"")}catch(_){Oe(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&rw(i,s),Qd(l,o);var u=Qd(l,s);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?aw(i,h):c==="dangerouslySetInnerHTML"?ow(i,h):c==="children"?qo(i,h):Mp(i,c,h,u)}switch(l){case"input":Wd(i,s);break;case"textarea":iw(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ts(i,!!s.multiple,y,!1):d!==!!s.multiple&&(s.defaultValue!=null?ts(i,!!s.multiple,s.defaultValue,!0):ts(i,!!s.multiple,s.multiple?[]:"",!1))}i[nl]=s}catch(_){Oe(e,e.return,_)}}break;case 6:if(on(t,e),Cn(e),r&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){Oe(e,e.return,_)}}break;case 3:if(on(t,e),Cn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xo(t.containerInfo)}catch(_){Oe(e,e.return,_)}break;case 4:on(t,e),Cn(e);break;case 13:on(t,e),Cn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pm=Me())),r&4&&Ey(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(u=dt)||c,on(t,e),dt=u):on(t,e),Cn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(L=e,c=e.child;c!==null;){for(h=L=c;L!==null;){switch(d=L,y=d.child,d.tag){case 0:case 11:case 14:case 15:xo(4,d,d.return);break;case 1:Ki(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){Oe(r,n,_)}}break;case 5:Ki(d,d.return);break;case 22:if(d.memoizedState!==null){Cy(h);continue}}y!==null?(y.return=d,L=y):Cy(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=lw("display",o))}catch(_){Oe(e,e.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Oe(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:on(t,e),Cn(e),r&4&&Ey(e);break;case 21:break;default:on(t,e),Cn(e)}}function Cn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(b1(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qo(i,""),r.flags&=-33);var s=wy(e);kf(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=wy(e);Tf(e,l,o);break;default:throw Error(N(161))}}catch(a){Oe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wR(e,t,n){L=e,$1(e)}function $1(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ma;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||dt;l=Ma;var u=dt;if(Ma=o,(dt=a)&&!u)for(L=i;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?Iy(i):a!==null?(a.return=o,L=a):Iy(i);for(;s!==null;)L=s,$1(s),s=s.sibling;L=i,Ma=l,dt=u}Sy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):Sy(e)}}function Sy(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||kc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ln(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&sy(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sy(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Xo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}dt||t.flags&512&&If(t)}catch(d){Oe(t,t.return,d)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Cy(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Iy(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{kc(4,t)}catch(a){Oe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Oe(t,i,a)}}var s=t.return;try{If(t)}catch(a){Oe(t,s,a)}break;case 5:var o=t.return;try{If(t)}catch(a){Oe(t,o,a)}}}catch(a){Oe(t,t.return,a)}if(t===e){L=null;break}var l=t.sibling;if(l!==null){l.return=t.return,L=l;break}L=t.return}}var ER=Math.ceil,Ou=ir.ReactCurrentDispatcher,dm=ir.ReactCurrentOwner,Xt=ir.ReactCurrentBatchConfig,ce=0,Qe=null,Fe=null,nt=0,Ot=0,Qi=Hr(0),ze=0,al=null,gi=0,Rc=0,fm=0,Do=null,Tt=null,pm=0,Ss=1/0,Un=null,bu=!1,Rf=null,Nr=null,La=!1,_r=null,Mu=0,Oo=0,Nf=null,nu=-1,ru=0;function wt(){return ce&6?Me():nu!==-1?nu:nu=Me()}function Pr(e){return e.mode&1?ce&2&&nt!==0?nt&-nt:iR.transition!==null?(ru===0&&(ru=ww()),ru):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Rw(e.type)),e):1}function gn(e,t,n,r){if(50<Oo)throw Oo=0,Nf=null,Error(N(185));Fl(e,n,r),(!(ce&2)||e!==Qe)&&(e===Qe&&(!(ce&2)&&(Rc|=n),ze===4&&fr(e,nt)),xt(e,r),n===1&&ce===0&&!(t.mode&1)&&(Ss=Me()+500,Cc&&Gr()))}function xt(e,t){var n=e.callbackNode;ik(e,t);var r=yu(e,e===Qe?nt:0);if(r===0)n!==null&&Ov(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ov(n),t===1)e.tag===0?rR(Ty.bind(null,e)):Gw(Ty.bind(null,e)),Zk(function(){!(ce&6)&&Gr()}),n=null;else{switch(Ew(r)){case 1:n=jp;break;case 4:n=yw;break;case 16:n=vu;break;case 536870912:n=_w;break;default:n=vu}n=H1(n,F1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function F1(e,t){if(nu=-1,ru=0,ce&6)throw Error(N(327));var n=e.callbackNode;if(os()&&e.callbackNode!==n)return null;var r=yu(e,e===Qe?nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lu(e,r);else{t=r;var i=ce;ce|=2;var s=j1();(Qe!==e||nt!==t)&&(Un=null,Ss=Me()+500,ai(e,t));do try{IR();break}catch(l){U1(e,l)}while(1);Zp(),Ou.current=s,ce=i,Fe!==null?t=0:(Qe=null,nt=0,t=ze)}if(t!==0){if(t===2&&(i=ef(e),i!==0&&(r=i,t=Pf(e,i))),t===1)throw n=al,ai(e,0),fr(e,r),xt(e,Me()),n;if(t===6)fr(e,r);else{if(i=e.current.alternate,!(r&30)&&!SR(i)&&(t=Lu(e,r),t===2&&(s=ef(e),s!==0&&(r=s,t=Pf(e,s))),t===1))throw n=al,ai(e,0),fr(e,r),xt(e,Me()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:Xr(e,Tt,Un);break;case 3:if(fr(e,r),(r&130023424)===r&&(t=pm+500-Me(),10<t)){if(yu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){wt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=uf(Xr.bind(null,e,Tt,Un),t);break}Xr(e,Tt,Un);break;case 4:if(fr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-mn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ER(r/1960))-r,10<r){e.timeoutHandle=uf(Xr.bind(null,e,Tt,Un),r);break}Xr(e,Tt,Un);break;case 5:Xr(e,Tt,Un);break;default:throw Error(N(329))}}}return xt(e,Me()),e.callbackNode===n?F1.bind(null,e):null}function Pf(e,t){var n=Do;return e.current.memoizedState.isDehydrated&&(ai(e,t).flags|=256),e=Lu(e,t),e!==2&&(t=Tt,Tt=n,t!==null&&Af(t)),e}function Af(e){Tt===null?Tt=e:Tt.push.apply(Tt,e)}function SR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!yn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t){for(t&=~fm,t&=~Rc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mn(t),r=1<<n;e[n]=-1,t&=~r}}function Ty(e){if(ce&6)throw Error(N(327));os();var t=yu(e,0);if(!(t&1))return xt(e,Me()),null;var n=Lu(e,t);if(e.tag!==0&&n===2){var r=ef(e);r!==0&&(t=r,n=Pf(e,r))}if(n===1)throw n=al,ai(e,0),fr(e,t),xt(e,Me()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xr(e,Tt,Un),xt(e,Me()),null}function mm(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Ss=Me()+500,Cc&&Gr())}}function vi(e){_r!==null&&_r.tag===0&&!(ce&6)&&os();var t=ce;ce|=1;var n=Xt.transition,r=ge;try{if(Xt.transition=null,ge=1,e)return e()}finally{ge=r,Xt.transition=n,ce=t,!(ce&6)&&Gr()}}function gm(){Ot=Qi.current,Te(Qi)}function ai(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Jk(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Yp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cu();break;case 3:ws(),Te(Pt),Te(mt),sm();break;case 5:im(r);break;case 4:ws();break;case 13:Te(Pe);break;case 19:Te(Pe);break;case 10:em(r.type._context);break;case 22:case 23:gm()}n=n.return}if(Qe=e,Fe=e=Ar(e.current,null),nt=Ot=t,ze=0,al=null,fm=Rc=gi=0,Tt=Do=null,ni!==null){for(t=0;t<ni.length;t++)if(n=ni[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ni=null}return e}function U1(e,t){do{var n=Fe;try{if(Zp(),Za.current=Du,xu){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xu=!1}if(mi=0,He=je=xe=null,Ao=!1,sl=0,dm.current=null,n===null||n.return===null){ze=1,al=t,Fe=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=nt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=dy(o);if(y!==null){y.flags&=-257,fy(y,o,l,s,t),y.mode&1&&hy(s,u,t),t=y,a=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(a),t.updateQueue=_}else g.add(a);break e}else{if(!(t&1)){hy(s,u,t),vm();break e}a=Error(N(426))}}else if(Re&&l.mode&1){var m=dy(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),fy(m,o,l,s,t),Xp(Es(a,l));break e}}s=a=Es(a,l),ze!==4&&(ze=2),Do===null?Do=[s]:Do.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=S1(s,a,t);iy(s,p);break e;case 1:l=a;var f=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Nr===null||!Nr.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=C1(s,l,t);iy(s,w);break e}}s=s.return}while(s!==null)}B1(n)}catch(C){t=C,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(1)}function j1(){var e=Ou.current;return Ou.current=Du,e===null?Du:e}function vm(){(ze===0||ze===3||ze===2)&&(ze=4),Qe===null||!(gi&268435455)&&!(Rc&268435455)||fr(Qe,nt)}function Lu(e,t){var n=ce;ce|=2;var r=j1();(Qe!==e||nt!==t)&&(Un=null,ai(e,t));do try{CR();break}catch(i){U1(e,i)}while(1);if(Zp(),ce=n,Ou.current=r,Fe!==null)throw Error(N(261));return Qe=null,nt=0,ze}function CR(){for(;Fe!==null;)z1(Fe)}function IR(){for(;Fe!==null&&!QT();)z1(Fe)}function z1(e){var t=W1(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?B1(e):Fe=t,dm.current=null}function B1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vR(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Fe=null;return}}else if(n=gR(n,t,Ot),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);ze===0&&(ze=5)}function Xr(e,t,n){var r=ge,i=Xt.transition;try{Xt.transition=null,ge=1,TR(e,t,n,r)}finally{Xt.transition=i,ge=r}return null}function TR(e,t,n,r){do os();while(_r!==null);if(ce&6)throw Error(N(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(sk(e,s),e===Qe&&(Fe=Qe=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,H1(vu,function(){return os(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xt.transition,Xt.transition=null;var o=ge;ge=1;var l=ce;ce|=4,dm.current=null,_R(e,n),L1(n,e),Hk(lf),_u=!!of,lf=of=null,e.current=n,wR(n),YT(),ce=l,ge=o,Xt.transition=s}else e.current=n;if(La&&(La=!1,_r=e,Mu=i),s=e.pendingLanes,s===0&&(Nr=null),ZT(n.stateNode),xt(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bu)throw bu=!1,e=Rf,Rf=null,e;return Mu&1&&e.tag!==0&&os(),s=e.pendingLanes,s&1?e===Nf?Oo++:(Oo=0,Nf=e):Oo=0,Gr(),null}function os(){if(_r!==null){var e=Ew(Mu),t=Xt.transition,n=ge;try{if(Xt.transition=null,ge=16>e?16:e,_r===null)var r=!1;else{if(e=_r,_r=null,Mu=0,ce&6)throw Error(N(331));var i=ce;for(ce|=4,L=e.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:xo(8,c,s)}var h=c.child;if(h!==null)h.return=c,L=h;else for(;L!==null;){c=L;var d=c.sibling,y=c.return;if(O1(c),c===u){L=null;break}if(d!==null){d.return=y,L=d;break}L=y}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var m=_.sibling;_.sibling=null,_=m}while(_!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xo(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,L=p;break e}L=s.return}}var f=e.current;for(L=f;L!==null;){o=L;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,L=v;else e:for(o=f;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kc(9,l)}}catch(C){Oe(l,l.return,C)}if(l===o){L=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,L=w;break e}L=l.return}}if(ce=i,Gr(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(yc,e)}catch{}r=!0}return r}finally{ge=n,Xt.transition=t}}return!1}function ky(e,t,n){t=Es(n,t),t=S1(e,t,1),e=Rr(e,t,1),t=wt(),e!==null&&(Fl(e,1,t),xt(e,t))}function Oe(e,t,n){if(e.tag===3)ky(e,e,n);else for(;t!==null;){if(t.tag===3){ky(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nr===null||!Nr.has(r))){e=Es(n,e),e=C1(t,e,1),t=Rr(t,e,1),e=wt(),t!==null&&(Fl(t,1,e),xt(t,e));break}}t=t.return}}function kR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(nt&n)===n&&(ze===4||ze===3&&(nt&130023424)===nt&&500>Me()-pm?ai(e,0):fm|=n),xt(e,t)}function V1(e,t){t===0&&(e.mode&1?(t=ka,ka<<=1,!(ka&130023424)&&(ka=4194304)):t=1);var n=wt();e=Zn(e,t),e!==null&&(Fl(e,t,n),xt(e,n))}function RR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),V1(e,n)}function NR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),V1(e,n)}var W1;W1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pt.current)kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kt=!1,mR(e,t,n);kt=!!(e.flags&131072)}else kt=!1,Re&&t.flags&1048576&&qw(t,ku,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;tu(e,t),e=t.pendingProps;var i=vs(t,mt.current);ss(t,n),i=lm(null,t,r,e,i,n);var s=am();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(r)?(s=!0,Iu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nm(t),i.updater=Ic,t.stateNode=i,i._reactInternals=t,gf(t,r,e,n),t=_f(null,t,r,!0,s,n)):(t.tag=0,Re&&s&&Qp(t),vt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(tu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=AR(r),e=ln(r,e),i){case 0:t=yf(null,t,r,e,n);break e;case 1:t=gy(null,t,r,e,n);break e;case 11:t=py(null,t,r,e,n);break e;case 14:t=my(null,t,r,ln(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),yf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),gy(e,t,r,i,n);case 3:e:{if(R1(t),e===null)throw Error(N(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Xw(e,t),Pu(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Es(Error(N(423)),t),t=vy(e,t,r,n,i);break e}else if(r!==i){i=Es(Error(N(424)),t),t=vy(e,t,r,n,i);break e}else for(Lt=kr(t.stateNode.containerInfo.firstChild),Ut=t,Re=!0,cn=null,n=t1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ys(),r===i){t=er(e,t,n);break e}vt(e,t,r,n)}t=t.child}return t;case 5:return n1(t),e===null&&ff(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,af(r,i)?o=null:s!==null&&af(r,s)&&(t.flags|=32),k1(e,t),vt(e,t,o,n),t.child;case 6:return e===null&&ff(t),null;case 13:return N1(e,t,n);case 4:return rm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_s(t,null,r,n):vt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),py(e,t,r,i,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Se(Ru,r._currentValue),r._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===i.children&&!Pt.current){t=er(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Qn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),pf(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ss(t,n),i=Jt(i),r=r(i),t.flags|=1,vt(e,t,r,n),t.child;case 14:return r=t.type,i=ln(r,t.pendingProps),i=ln(r.type,i),my(e,t,r,i,n);case 15:return I1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),tu(e,t),t.tag=1,At(r)?(e=!0,Iu(t)):e=!1,ss(t,n),Zw(t,r,i),gf(t,r,i,n),_f(null,t,r,!0,e,n);case 19:return P1(e,t,n);case 22:return T1(e,t,n)}throw Error(N(156,t.tag))};function H1(e,t){return vw(e,t)}function PR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,n,r){return new PR(e,t,n,r)}function ym(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AR(e){if(typeof e=="function")return ym(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$p)return 11;if(e===Fp)return 14}return 2}function Ar(e,t){var n=e.alternate;return n===null?(n=Qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function iu(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")ym(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ui:return ui(n.children,i,s,t);case Lp:o=8,i|=8;break;case Ud:return e=Qt(12,n,t,i|2),e.elementType=Ud,e.lanes=s,e;case jd:return e=Qt(13,n,t,i),e.elementType=jd,e.lanes=s,e;case zd:return e=Qt(19,n,t,i),e.elementType=zd,e.lanes=s,e;case ew:return Nc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J0:o=10;break e;case Z0:o=9;break e;case $p:o=11;break e;case Fp:o=14;break e;case cr:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Qt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ui(e,t,n,r){return e=Qt(7,e,r,t),e.lanes=n,e}function Nc(e,t,n,r){return e=Qt(22,e,r,t),e.elementType=ew,e.lanes=n,e.stateNode={isHidden:!1},e}function td(e,t,n){return e=Qt(6,e,null,t),e.lanes=n,e}function nd(e,t,n){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lh(0),this.expirationTimes=Lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _m(e,t,n,r,i,s,o,l,a){return e=new xR(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Qt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nm(s),e}function DR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function G1(e){if(!e)return Fr;e=e._reactInternals;e:{if(Ai(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(At(n))return Hw(e,n,t)}return t}function q1(e,t,n,r,i,s,o,l,a){return e=_m(n,r,!0,e,i,s,o,l,a),e.context=G1(null),n=e.current,r=wt(),i=Pr(n),s=Qn(r,i),s.callback=t??null,Rr(n,s,i),e.current.lanes=i,Fl(e,i,r),xt(e,r),e}function Pc(e,t,n,r){var i=t.current,s=wt(),o=Pr(i);return n=G1(n),t.context===null?t.context=n:t.pendingContext=n,t=Qn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rr(i,t,o),e!==null&&(gn(e,i,o,s),Ja(e,i,o)),o}function $u(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ry(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wm(e,t){Ry(e,t),(e=e.alternate)&&Ry(e,t)}function OR(){return null}var K1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Em(e){this._internalRoot=e}Ac.prototype.render=Em.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Pc(e,t,null,null)};Ac.prototype.unmount=Em.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vi(function(){Pc(null,e,null,null)}),t[Jn]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=Iw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dr.length&&t!==0&&t<dr[n].priority;n++);dr.splice(n,0,e),n===0&&kw(e)}};function Sm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ny(){}function bR(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$u(o);s.call(u)}}var o=q1(t,r,e,0,null,!1,!1,"",Ny);return e._reactRootContainer=o,e[Jn]=o.current,el(e.nodeType===8?e.parentNode:e),vi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=$u(a);l.call(u)}}var a=_m(e,0,!1,null,null,!1,!1,"",Ny);return e._reactRootContainer=a,e[Jn]=a.current,el(e.nodeType===8?e.parentNode:e),vi(function(){Pc(t,a,n,r)}),a}function Dc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=$u(o);l.call(a)}}Pc(t,o,e,i)}else o=bR(n,t,e,i,r);return $u(o)}Sw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yo(t.pendingLanes);n!==0&&(zp(t,n|1),xt(t,Me()),!(ce&6)&&(Ss=Me()+500,Gr()))}break;case 13:vi(function(){var r=Zn(e,1);if(r!==null){var i=wt();gn(r,e,1,i)}}),wm(e,1)}};Bp=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var n=wt();gn(t,e,134217728,n)}wm(e,134217728)}};Cw=function(e){if(e.tag===13){var t=Pr(e),n=Zn(e,t);if(n!==null){var r=wt();gn(n,e,t,r)}wm(e,t)}};Iw=function(){return ge};Tw=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Xd=function(e,t,n){switch(t){case"input":if(Wd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Sc(r);if(!i)throw Error(N(90));nw(r),Wd(r,i)}}}break;case"textarea":iw(e,n);break;case"select":t=n.value,t!=null&&ts(e,!!n.multiple,t,!1)}};hw=mm;dw=vi;var MR={usingClientEntryPoint:!1,Events:[jl,Vi,Sc,uw,cw,mm]},ro={findFiberByHostInstance:ti,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LR={bundleType:ro.bundleType,version:ro.version,rendererPackageName:ro.rendererPackageName,rendererConfig:ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mw(e),e===null?null:e.stateNode},findFiberByHostInstance:ro.findFiberByHostInstance||OR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{yc=$a.inject(LR),Pn=$a}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MR;Vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sm(t))throw Error(N(200));return DR(e,t,null,n)};Vt.createRoot=function(e,t){if(!Sm(e))throw Error(N(299));var n=!1,r="",i=K1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=_m(e,1,!1,null,null,n,!1,r,i),e[Jn]=t.current,el(e.nodeType===8?e.parentNode:e),new Em(t)};Vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=mw(t),e=e===null?null:e.stateNode,e};Vt.flushSync=function(e){return vi(e)};Vt.hydrate=function(e,t,n){if(!xc(t))throw Error(N(200));return Dc(null,e,t,!0,n)};Vt.hydrateRoot=function(e,t,n){if(!Sm(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=K1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=q1(t,null,e,1,n??null,i,!1,s,o),e[Jn]=t.current,el(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ac(t)};Vt.render=function(e,t,n){if(!xc(t))throw Error(N(200));return Dc(null,e,t,!1,n)};Vt.unmountComponentAtNode=function(e){if(!xc(e))throw Error(N(40));return e._reactRootContainer?(vi(function(){Dc(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1};Vt.unstable_batchedUpdates=mm;Vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xc(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Dc(e,t,n,!1,r)};Vt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Vt})(OT);var Py=fu;Ld.createRoot=Py.createRoot,Ld.hydrateRoot=Py.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}var $e;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($e||($e={}));const Ay="popstate";function $R(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=Mn(i.location.hash.substr(1));return ul("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof s=="string"?s:_i(s))}function r(i,s){yi(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return UR(t,n,r,e)}function ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FR(){return Math.random().toString(36).substr(2,8)}function xy(e,t){return{usr:e.state,key:e.key,idx:t}}function ul(e,t,n,r){return n===void 0&&(n=null),ue({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mn(t):t,{state:n,key:t&&t.key||r||FR()})}function _i(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function UR(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=$e.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(ue({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){l=$e.Pop;let m=c(),p=m==null?null:m-u;u=m,a&&a({action:l,location:_.location,delta:p})}function d(m,p){l=$e.Push;let f=ul(_.location,m,p);n&&n(f,m),u=c()+1;let v=xy(f,u),w=_.createHref(f);try{o.pushState(v,"",w)}catch{i.location.assign(w)}s&&a&&a({action:l,location:_.location,delta:1})}function y(m,p){l=$e.Replace;let f=ul(_.location,m,p);n&&n(f,m),u=c();let v=xy(f,u),w=_.createHref(f);o.replaceState(v,"",w),s&&a&&a({action:l,location:_.location,delta:0})}function g(m){let p=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof m=="string"?m:_i(m);return ee(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let _={get action(){return l},get location(){return e(i,o)},listen(m){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Ay,h),a=m,()=>{i.removeEventListener(Ay,h),a=null}},createHref(m){return t(i,m)},createURL:g,encodeLocation(m){let p=g(m);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:y,go(m){return o.go(m)}};return _}var Ue;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ue||(Ue={}));const jR=new Set(["lazy","caseSensitive","path","id","index","children"]);function zR(e){return e.index===!0}function Q1(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(ee(i.index!==!0||!i.children,"Cannot specify children on an index route"),ee(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),zR(i)){let a=ue({},i,{hasErrorBoundary:t(i),id:l});return r[l]=a,a}else{let a=ue({},i,{id:l,hasErrorBoundary:t(i),children:void 0});return r[l]=a,i.children&&(a.children=Q1(i.children,t,o,r)),a}})}function Yi(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Mn(t):t,i=Oc(r.pathname||"/",n);if(i==null)return null;let s=Y1(e);BR(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=XR(s[l],eN(i));return o}function Y1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ee(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=xr([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Y1(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:QR(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of X1(s.path))i(s,o,a)}),t}function X1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=X1(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function BR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YR(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const VR=/^:\w+$/,WR=3,HR=2,GR=1,qR=10,KR=-2,Dy=e=>e==="*";function QR(e,t){let n=e.split("/"),r=n.length;return n.some(Dy)&&(r+=KR),t&&(r+=HR),n.filter(i=>!Dy(i)).reduce((i,s)=>i+(VR.test(s)?WR:s===""?GR:qR),r)}function YR(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function XR(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=JR({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let h=l.route;s.push({params:r,pathname:xr([i,c.pathname]),pathnameBase:iN(xr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=xr([i,c.pathnameBase]))}return s}function JR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ZR(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=l[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=tN(l[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function ZR(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),yi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function eN(e){try{return decodeURI(e)}catch(t){return yi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tN(e,t){try{return decodeURIComponent(e)}catch(n){return yi(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Oc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function nN(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Mn(e):e;return{pathname:n?n.startsWith("/")?n:rN(n,t):t,search:sN(r),hash:oN(i)}}function rN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function J1(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Mn(e):(i=ue({},e),ee(!i.pathname||!i.pathname.includes("?"),rd("?","pathname","search",i)),ee(!i.pathname||!i.pathname.includes("#"),rd("#","pathname","hash",i)),ee(!i.search||!i.search.includes("#"),rd("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let h=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}l=h>=0?t[h]:"/"}let a=nN(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const xr=e=>e.join("/").replace(/\/\/+/g,"/"),iN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Im{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Z1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eE=["post","put","patch","delete"],lN=new Set(eE),aN=["get",...eE],uN=new Set(aN),cN=new Set([301,302,303,307,308]),hN=new Set([307,308]),id={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},dN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Oy={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},tE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fN=!nE,pN=e=>!!e.hasErrorBoundary;function mN(e){ee(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=e.detectErrorBoundary||pN,n={},r=Q1(e.routes,t,void 0,n),i,s=ue({v7_normalizeFormMethod:!1},e.future),o=null,l=new Set,a=null,u=null,c=null,h=e.hydrationData!=null,d=Yi(r,e.history.location,e.basename),y=null;if(d==null){let S=Tn(404,{pathname:e.history.location.pathname}),{matches:I,route:k}=jy(r);d=I,y={[k.id]:S}}let g=!d.some(S=>S.route.lazy)&&(!d.some(S=>S.route.loader)||e.hydrationData!=null),_,m={historyAction:e.history.action,location:e.history.location,matches:d,initialized:g,navigation:id,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},p=$e.Pop,f=!1,v,w=!1,C=!1,T=[],A=[],R=new Map,J=0,$=-1,ye=new Map,Ce=new Set,ke=new Map,b=new Map,Z=new Map,pe=!1;function Xe(){return o=e.history.listen(S=>{let{action:I,location:k,delta:U}=S;if(pe){pe=!1;return}yi(Z.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=yv({currentLocation:m.location,nextLocation:k,historyAction:I});if(z&&U!=null){pe=!0,e.history.go(U*-1),wa(z,{state:"blocked",location:k,proceed(){wa(z,{state:"proceeding",proceed:void 0,reset:void 0,location:k}),e.history.go(U)},reset(){Gs(z),j({blockers:new Map(_.state.blockers)})}});return}return he(I,k)}),m.initialized||he($e.Pop,m.location),_}function O(){o&&o(),l.clear(),v&&v.abort(),m.fetchers.forEach((S,I)=>Th(I)),m.blockers.forEach((S,I)=>Gs(I))}function B(S){return l.add(S),()=>l.delete(S)}function j(S){m=ue({},m,S),l.forEach(I=>I(m))}function V(S,I){var k,U;let z=m.actionData!=null&&m.navigation.formMethod!=null&&jn(m.navigation.formMethod)&&m.navigation.state==="loading"&&((k=S.state)==null?void 0:k._isRedirect)!==!0,q;I.actionData?Object.keys(I.actionData).length>0?q=I.actionData:q=null:z?q=m.actionData:q=null;let K=I.loaderData?Uy(m.loaderData,I.loaderData,I.matches||[],I.errors):m.loaderData;for(let[W]of Z)Gs(W);let Y=f===!0||m.navigation.formMethod!=null&&jn(m.navigation.formMethod)&&((U=S.state)==null?void 0:U._isRedirect)!==!0;i&&(r=i,i=void 0),j(ue({},I,{actionData:q,loaderData:K,historyAction:p,location:S,initialized:!0,navigation:id,revalidation:"idle",restoreScrollPosition:_v(S,I.matches||m.matches),preventScrollReset:Y,blockers:new Map(m.blockers)})),w||p===$e.Pop||(p===$e.Push?e.history.push(S,S.state):p===$e.Replace&&e.history.replace(S,S.state)),p=$e.Pop,f=!1,w=!1,C=!1,T=[],A=[]}async function oe(S,I){if(typeof S=="number"){e.history.go(S);return}let{path:k,submission:U,error:z}=by(S,s,I),q=m.location,K=ul(m.location,k,I&&I.state);K=ue({},K,e.history.encodeLocation(K));let Y=I&&I.replace!=null?I.replace:void 0,W=$e.Push;Y===!0?W=$e.Replace:Y===!1||U!=null&&jn(U.formMethod)&&U.formAction===m.location.pathname+m.location.search&&(W=$e.Replace);let _e=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,de=yv({currentLocation:q,nextLocation:K,historyAction:W});if(de){wa(de,{state:"blocked",location:K,proceed(){wa(de,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),oe(S,I)},reset(){Gs(de),j({blockers:new Map(m.blockers)})}});return}return await he(W,K,{submission:U,pendingError:z,preventScrollReset:_e,replace:I&&I.replace})}function lt(){if(Ch(),j({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){he(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}he(p||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function he(S,I,k){v&&v.abort(),v=null,p=S,w=(k&&k.startUninterruptedRevalidation)===!0,eT(m.location,m.matches),f=(k&&k.preventScrollReset)===!0;let U=i||r,z=k&&k.overrideNavigation,q=Yi(U,I,e.basename);if(!q){let Be=Tn(404,{pathname:I.pathname}),{matches:Je,route:rn}=jy(U);kh(),V(I,{matches:Je,loaderData:{},errors:{[rn.id]:Be}});return}if(wN(m.location,I)&&!(k&&k.submission&&jn(k.submission.formMethod))){V(I,{matches:q});return}v=new AbortController;let K=so(e.history,I,v.signal,k&&k.submission),Y,W;if(k&&k.pendingError)W={[Xi(q).route.id]:k.pendingError};else if(k&&k.submission&&jn(k.submission.formMethod)){let Be=await $n(K,I,k.submission,q,{replace:k.replace});if(Be.shortCircuited)return;Y=Be.pendingActionData,W=Be.pendingActionError,z=ue({state:"loading",location:I},k.submission),K=new Request(K.url,{signal:K.signal})}let{shortCircuited:_e,loaderData:de,errors:nn}=await Sn(K,I,q,z,k&&k.submission,k&&k.fetcherSubmission,k&&k.replace,Y,W);_e||(v=null,V(I,ue({matches:q},Y?{actionData:Y}:{},{loaderData:de,errors:nn})))}async function $n(S,I,k,U,z){Ch();let q=ue({state:"submitting",location:I},k);j({navigation:q});let K,Y=xf(U,I);if(!Y.route.action&&!Y.route.lazy)K={type:Ue.error,error:Tn(405,{method:S.method,pathname:I.pathname,routeId:Y.route.id})};else if(K=await io("action",S,Y,U,n,t,_.basename),S.signal.aborted)return{shortCircuited:!0};if(ls(K)){let W;return z&&z.replace!=null?W=z.replace:W=K.location===m.location.pathname+m.location.search,await Hs(m,K,{submission:k,replace:W}),{shortCircuited:!0}}if(bo(K)){let W=Xi(U,Y.route.id);return(z&&z.replace)!==!0&&(p=$e.Push),{pendingActionData:{},pendingActionError:{[W.route.id]:K.error}}}if(ii(K))throw Tn(400,{type:"defer-action"});return{pendingActionData:{[Y.route.id]:K.data}}}async function Sn(S,I,k,U,z,q,K,Y,W){let _e=U;_e||(_e=ue({state:"loading",location:I,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},z));let de=z||q?z||q:_e.formMethod&&_e.formAction&&_e.formData&&_e.formEncType?{formMethod:_e.formMethod,formAction:_e.formAction,formData:_e.formData,formEncType:_e.formEncType}:void 0,nn=i||r,[Be,Je]=My(e.history,m,k,de,I,C,T,A,ke,nn,e.basename,Y,W);if(kh(at=>!(k&&k.some(sn=>sn.route.id===at))||Be&&Be.some(sn=>sn.route.id===at)),Be.length===0&&Je.length===0)return V(I,ue({matches:k,loaderData:{},errors:W||null},Y?{actionData:Y}:{})),{shortCircuited:!0};if(!w){Je.forEach(sn=>{let Qr=m.fetchers.get(sn.key),Qs={state:"loading",data:Qr&&Qr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(sn.key,Qs)});let at=Y||m.actionData;j(ue({navigation:_e},at?Object.keys(at).length===0?{actionData:null}:{actionData:at}:{},Je.length>0?{fetchers:new Map(m.fetchers)}:{}))}$=++J,Je.forEach(at=>R.set(at.key,v));let{results:rn,loaderResults:qs,fetcherResults:Rh}=await mv(m.matches,k,Be,Je,S);if(S.signal.aborted)return{shortCircuited:!0};Je.forEach(at=>R.delete(at.key));let Ks=zy(rn);if(Ks)return await Hs(m,Ks,{replace:K}),{shortCircuited:!0};let{loaderData:bi,errors:Nh}=Fy(m,k,Be,qs,W,Je,Rh,b);b.forEach((at,sn)=>{at.subscribe(Qr=>{(Qr||at.done)&&b.delete(sn)})}),XI();let Ph=vv($);return ue({loaderData:bi,errors:Nh},Ph||Je.length>0?{fetchers:new Map(m.fetchers)}:{})}function tn(S){return m.fetchers.get(S)||dN}function ya(S,I,k,U){if(fN)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(S)&&_a(S);let q=Yi(i||r,k,e.basename);if(!q){Ih(S,I,Tn(404,{pathname:k}));return}let{path:K,submission:Y}=by(k,s,U,!0),W=xf(q,K);if(f=(U&&U.preventScrollReset)===!0,Y&&jn(Y.formMethod)){QI(S,I,K,W,q,Y);return}ke.set(S,{routeId:I,path:K}),YI(S,I,K,W,q,Y)}async function QI(S,I,k,U,z,q){if(Ch(),ke.delete(S),!U.route.action&&!U.route.lazy){let Fn=Tn(405,{method:q.formMethod,pathname:k,routeId:I});Ih(S,I,Fn);return}let K=m.fetchers.get(S),Y=ue({state:"submitting"},q,{data:K&&K.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(S,Y),j({fetchers:new Map(m.fetchers)});let W=new AbortController,_e=so(e.history,k,W.signal,q);R.set(S,W);let de=await io("action",_e,U,z,n,t,_.basename);if(_e.signal.aborted){R.get(S)===W&&R.delete(S);return}if(ls(de)){R.delete(S),Ce.add(S);let Fn=ue({state:"loading"},q,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(S,Fn),j({fetchers:new Map(m.fetchers)}),Hs(m,de,{submission:q,isFetchActionRedirect:!0})}if(bo(de)){Ih(S,I,de.error);return}if(ii(de))throw Tn(400,{type:"defer-action"});let nn=m.navigation.location||m.location,Be=so(e.history,nn,W.signal),Je=i||r,rn=m.navigation.state!=="idle"?Yi(Je,m.navigation.location,e.basename):m.matches;ee(rn,"Didn't find any matches after fetcher action");let qs=++J;ye.set(S,qs);let Rh=ue({state:"loading",data:de.data},q,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(S,Rh);let[Ks,bi]=My(e.history,m,rn,q,nn,C,T,A,ke,Je,e.basename,{[U.route.id]:de.data},void 0);bi.filter(Fn=>Fn.key!==S).forEach(Fn=>{let Ah=Fn.key,wv=m.fetchers.get(Ah),iT={state:"loading",data:wv&&wv.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Ah,iT),R.set(Ah,W)}),j({fetchers:new Map(m.fetchers)});let{results:Nh,loaderResults:Ph,fetcherResults:at}=await mv(m.matches,rn,Ks,bi,Be);if(W.signal.aborted)return;ye.delete(S),R.delete(S),bi.forEach(Fn=>R.delete(Fn.key));let sn=zy(Nh);if(sn)return Hs(m,sn);let{loaderData:Qr,errors:Qs}=Fy(m,m.matches,Ks,Ph,void 0,bi,at,b),nT={state:"idle",data:de.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(S,nT);let rT=vv(qs);m.navigation.state==="loading"&&qs>$?(ee(p,"Expected pending action"),v&&v.abort(),V(m.navigation.location,{matches:rn,loaderData:Qr,errors:Qs,fetchers:new Map(m.fetchers)})):(j(ue({errors:Qs,loaderData:Uy(m.loaderData,Qr,rn,Qs)},rT?{fetchers:new Map(m.fetchers)}:{})),C=!1)}async function YI(S,I,k,U,z,q){let K=m.fetchers.get(S),Y=ue({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},q,{data:K&&K.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(S,Y),j({fetchers:new Map(m.fetchers)});let W=new AbortController,_e=so(e.history,k,W.signal);R.set(S,W);let de=await io("loader",_e,U,z,n,t,_.basename);if(ii(de)&&(de=await oE(de,_e.signal,!0)||de),R.get(S)===W&&R.delete(S),_e.signal.aborted)return;if(ls(de)){await Hs(m,de);return}if(bo(de)){let Be=Xi(m.matches,I);m.fetchers.delete(S),j({fetchers:new Map(m.fetchers),errors:{[Be.route.id]:de.error}});return}ee(!ii(de),"Unhandled fetcher deferred data");let nn={state:"idle",data:de.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(S,nn),j({fetchers:new Map(m.fetchers)})}async function Hs(S,I,k){var U;let{submission:z,replace:q,isFetchActionRedirect:K}=k===void 0?{}:k;I.revalidate&&(C=!0);let Y=ul(S.location,I.location,ue({_isRedirect:!0},K?{_isFetchActionRedirect:!0}:{}));if(ee(Y,"Expected a location on the redirect navigation"),tE.test(I.location)&&nE&&typeof((U=window)==null?void 0:U.location)<"u"){let Je=e.history.createURL(I.location),rn=Oc(Je.pathname,e.basename||"/")==null;if(window.location.origin!==Je.origin||rn){q?window.location.replace(I.location):window.location.assign(I.location);return}}v=null;let W=q===!0?$e.Replace:$e.Push,{formMethod:_e,formAction:de,formEncType:nn,formData:Be}=S.navigation;!z&&_e&&de&&Be&&nn&&(z={formMethod:_e,formAction:de,formEncType:nn,formData:Be}),hN.has(I.status)&&z&&jn(z.formMethod)?await he(W,Y,{submission:ue({},z,{formAction:I.location}),preventScrollReset:f}):K?await he(W,Y,{overrideNavigation:{state:"loading",location:Y,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:z,preventScrollReset:f}):await he(W,Y,{overrideNavigation:{state:"loading",location:Y,formMethod:z?z.formMethod:void 0,formAction:z?z.formAction:void 0,formEncType:z?z.formEncType:void 0,formData:z?z.formData:void 0},preventScrollReset:f})}async function mv(S,I,k,U,z){let q=await Promise.all([...k.map(W=>io("loader",z,W,I,n,t,_.basename)),...U.map(W=>W.matches&&W.match?io("loader",so(e.history,W.path,z.signal),W.match,W.matches,n,t,_.basename):{type:Ue.error,error:Tn(404,{pathname:W.path})})]),K=q.slice(0,k.length),Y=q.slice(k.length);return await Promise.all([By(S,k,K,z.signal,!1,m.loaderData),By(S,U.map(W=>W.match),Y,z.signal,!0)]),{results:q,loaderResults:K,fetcherResults:Y}}function Ch(){C=!0,T.push(...kh()),ke.forEach((S,I)=>{R.has(I)&&(A.push(I),_a(I))})}function Ih(S,I,k){let U=Xi(m.matches,I);Th(S),j({errors:{[U.route.id]:k},fetchers:new Map(m.fetchers)})}function Th(S){R.has(S)&&_a(S),ke.delete(S),ye.delete(S),Ce.delete(S),m.fetchers.delete(S)}function _a(S){let I=R.get(S);ee(I,"Expected fetch controller: "+S),I.abort(),R.delete(S)}function gv(S){for(let I of S){let U={state:"idle",data:tn(I).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(I,U)}}function XI(){let S=[];for(let I of Ce){let k=m.fetchers.get(I);ee(k,"Expected fetcher: "+I),k.state==="loading"&&(Ce.delete(I),S.push(I))}gv(S)}function vv(S){let I=[];for(let[k,U]of ye)if(U<S){let z=m.fetchers.get(k);ee(z,"Expected fetcher: "+k),z.state==="loading"&&(_a(k),ye.delete(k),I.push(k))}return gv(I),I.length>0}function JI(S,I){let k=m.blockers.get(S)||Oy;return Z.get(S)!==I&&Z.set(S,I),k}function Gs(S){m.blockers.delete(S),Z.delete(S)}function wa(S,I){let k=m.blockers.get(S)||Oy;ee(k.state==="unblocked"&&I.state==="blocked"||k.state==="blocked"&&I.state==="blocked"||k.state==="blocked"&&I.state==="proceeding"||k.state==="blocked"&&I.state==="unblocked"||k.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+k.state+" -> "+I.state),m.blockers.set(S,I),j({blockers:new Map(m.blockers)})}function yv(S){let{currentLocation:I,nextLocation:k,historyAction:U}=S;if(Z.size===0)return;Z.size>1&&yi(!1,"A router only supports one blocker at a time");let z=Array.from(Z.entries()),[q,K]=z[z.length-1],Y=m.blockers.get(q);if(!(Y&&Y.state==="proceeding")&&K({currentLocation:I,nextLocation:k,historyAction:U}))return q}function kh(S){let I=[];return b.forEach((k,U)=>{(!S||S(U))&&(k.cancel(),I.push(U),b.delete(U))}),I}function ZI(S,I,k){if(a=S,c=I,u=k||(U=>U.key),!h&&m.navigation===id){h=!0;let U=_v(m.location,m.matches);U!=null&&j({restoreScrollPosition:U})}return()=>{a=null,c=null,u=null}}function eT(S,I){if(a&&u&&c){let k=I.map(z=>Vy(z,m.loaderData)),U=u(S,k)||S.key;a[U]=c()}}function _v(S,I){if(a&&u&&c){let k=I.map(q=>Vy(q,m.loaderData)),U=u(S,k)||S.key,z=a[U];if(typeof z=="number")return z}return null}function tT(S){i=S}return _={get basename(){return e.basename},get state(){return m},get routes(){return r},initialize:Xe,subscribe:B,enableScrollRestoration:ZI,navigate:oe,fetch:ya,revalidate:lt,createHref:S=>e.history.createHref(S),encodeLocation:S=>e.history.encodeLocation(S),getFetcher:tn,deleteFetcher:Th,dispose:O,getBlocker:JI,deleteBlocker:Gs,_internalFetchControllers:R,_internalActiveDeferreds:b,_internalSetRoutes:tT},_}function gN(e){return e!=null&&"formData"in e}function by(e,t,n,r){r===void 0&&(r=!1);let i=typeof e=="string"?e:_i(e);if(!n||!gN(n))return{path:i};if(n.formMethod&&!CN(n.formMethod))return{path:i,error:Tn(405,{method:n.formMethod})};let s;if(n.formData){let a=n.formMethod||"get";if(s={formMethod:t.v7_normalizeFormMethod?a.toUpperCase():a.toLowerCase(),formAction:sE(i),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData},jn(s.formMethod))return{path:i,submission:s}}let o=Mn(i),l=iE(n.formData);return r&&o.search&&lE(o.search)&&l.append("index",""),o.search="?"+l,{path:_i(o),submission:s}}function vN(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function My(e,t,n,r,i,s,o,l,a,u,c,h,d){let y=d?Object.values(d)[0]:h?Object.values(h)[0]:void 0,g=e.createURL(t.location),_=e.createURL(i),m=s||g.toString()===_.toString()||g.search!==_.search,p=d?Object.keys(d)[0]:void 0,v=vN(n,p).filter((C,T)=>{if(C.route.lazy)return!0;if(C.route.loader==null)return!1;if(yN(t.loaderData,t.matches[T],C)||o.some(J=>J===C.route.id))return!0;let A=t.matches[T],R=C;return Ly(C,ue({currentUrl:g,currentParams:A.params,nextUrl:_,nextParams:R.params},r,{actionResult:y,defaultShouldRevalidate:m||rE(A,R)}))}),w=[];return a.forEach((C,T)=>{if(!n.some($=>$.route.id===C.routeId))return;let A=Yi(u,C.path,c);if(!A){w.push(ue({key:T},C,{matches:null,match:null}));return}let R=xf(A,C.path);if(l.includes(T)){w.push(ue({key:T,matches:A,match:R},C));return}Ly(R,ue({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:y,defaultShouldRevalidate:m}))&&w.push(ue({key:T,matches:A,match:R},C))}),[v,w]}function yN(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function rE(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ly(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function $y(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ee(i,"No route found in manifest");let s={};for(let o in r){let a=i[o]!==void 0&&o!=="hasErrorBoundary";yi(!a,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!a&&!jR.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:t(ue({},i)),lazy:void 0})}async function io(e,t,n,r,i,s,o,l,a,u){o===void 0&&(o="/"),l===void 0&&(l=!1),a===void 0&&(a=!1);let c,h,d,y=m=>{let p,f=new Promise((v,w)=>p=w);return d=()=>p(),t.signal.addEventListener("abort",d),Promise.race([m({request:t,params:n.params,context:u}),f])};try{let m=n.route[e];if(n.route.lazy)if(m)h=(await Promise.all([y(m),$y(n.route,s,i)]))[0];else if(await $y(n.route,s,i),m=n.route[e],m)h=await y(m);else{if(e==="action")throw Tn(405,{method:t.method,pathname:new URL(t.url).pathname,routeId:n.route.id});return{type:Ue.data,data:void 0}}else ee(m,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),h=await y(m);ee(h!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(m){c=Ue.error,h=m}finally{d&&t.signal.removeEventListener("abort",d)}if(SN(h)){let m=h.status;if(cN.has(m)){let v=h.headers.get("Location");if(ee(v,"Redirects returned/thrown from loaders/actions must have a Location header"),tE.test(v)){if(!l){let w=new URL(t.url),C=v.startsWith("//")?new URL(w.protocol+v):new URL(v),T=Oc(C.pathname,o)!=null;C.origin===w.origin&&T&&(v=C.pathname+C.search+C.hash)}}else{let w=r.slice(0,r.indexOf(n)+1),C=Cm(w).map(A=>A.pathnameBase),T=J1(v,C,new URL(t.url).pathname);if(ee(_i(T),"Unable to resolve redirect location: "+v),o){let A=T.pathname;T.pathname=A==="/"?o:xr([o,A])}v=_i(T)}if(l)throw h.headers.set("Location",v),h;return{type:Ue.redirect,status:m,location:v,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(a)throw{type:c||Ue.data,response:h};let p,f=h.headers.get("Content-Type");return f&&/\bapplication\/json\b/.test(f)?p=await h.json():p=await h.text(),c===Ue.error?{type:c,error:new Im(m,h.statusText,p),headers:h.headers}:{type:Ue.data,data:p,statusCode:h.status,headers:h.headers}}if(c===Ue.error)return{type:c,error:h};if(EN(h)){var g,_;return{type:Ue.deferred,deferredData:h,statusCode:(g=h.init)==null?void 0:g.status,headers:((_=h.init)==null?void 0:_.headers)&&new Headers(h.init.headers)}}return{type:Ue.data,data:h}}function so(e,t,n,r){let i=e.createURL(sE(t)).toString(),s={signal:n};if(r&&jn(r.formMethod)){let{formMethod:o,formEncType:l,formData:a}=r;s.method=o.toUpperCase(),s.body=l==="application/x-www-form-urlencoded"?iE(a):a}return new Request(i,s)}function iE(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,r instanceof File?r.name:r);return t}function _N(e,t,n,r,i){let s={},o=null,l,a=!1,u={};return n.forEach((c,h)=>{let d=t[h].route.id;if(ee(!ls(c),"Cannot handle redirect results in processLoaderData"),bo(c)){let y=Xi(e,d),g=c.error;r&&(g=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=g),s[d]=void 0,a||(a=!0,l=Z1(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else ii(c)?(i.set(d,c.deferredData),s[d]=c.deferredData.data):s[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!a&&(l=c.statusCode),c.headers&&(u[d]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:u}}function Fy(e,t,n,r,i,s,o,l){let{loaderData:a,errors:u}=_N(t,n,r,i,l);for(let c=0;c<s.length;c++){let{key:h,match:d}=s[c];ee(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let y=o[c];if(bo(y)){let g=Xi(e.matches,d==null?void 0:d.route.id);u&&u[g.route.id]||(u=ue({},u,{[g.route.id]:y.error})),e.fetchers.delete(h)}else if(ls(y))ee(!1,"Unhandled fetcher revalidation redirect");else if(ii(y))ee(!1,"Unhandled fetcher deferred data");else{let g={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(h,g)}}return{loaderData:a,errors:u}}function Uy(e,t,n,r){let i=ue({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Xi(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function jy(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Tn(e,t){let{pathname:n,routeId:r,method:i,type:s}=t===void 0?{}:t,o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(l="defer() is not supported in actions")):e===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",l='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Im(e||500,o,new Error(l),!0)}function zy(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(ls(n))return n}}function sE(e){let t=typeof e=="string"?Mn(e):e;return _i(ue({},t,{hash:""}))}function wN(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function ii(e){return e.type===Ue.deferred}function bo(e){return e.type===Ue.error}function ls(e){return(e&&e.type)===Ue.redirect}function EN(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function SN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function CN(e){return uN.has(e.toLowerCase())}function jn(e){return lN.has(e.toLowerCase())}async function By(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],a=t[o];if(!a)continue;let u=e.find(h=>h.route.id===a.route.id),c=u!=null&&!rE(u,a)&&(s&&s[a.route.id])!==void 0;ii(l)&&(i||c)&&await oE(l,r,i).then(h=>{h&&(n[o]=h||n[o])})}}async function oE(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Ue.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Ue.error,error:i}}return{type:Ue.data,data:e.deferredData.data}}}function lE(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Vy(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function xf(e,t){let n=typeof t=="string"?Mn(t).search:t.search;if(e[e.length-1].route.index&&lE(n||""))return e[e.length-1];let r=Cm(e);return r[r.length-1]}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const TN=typeof Object.is=="function"?Object.is:IN,{useState:kN,useEffect:RN,useLayoutEffect:NN,useDebugValue:PN}=Md;function AN(e,t,n){const r=t(),[{inst:i},s]=kN({inst:{value:r,getSnapshot:t}});return NN(()=>{i.value=r,i.getSnapshot=t,sd(i)&&s({inst:i})},[e,r,t]),RN(()=>(sd(i)&&s({inst:i}),e(()=>{sd(i)&&s({inst:i})})),[e]),PN(r),r}function sd(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!TN(n,r)}catch{return!0}}function xN(e,t,n){return t()}const DN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ON=!DN,bN=ON?xN:AN,MN="useSyncExternalStore"in Md?(e=>e.useSyncExternalStore)(Md):bN,Tm=E.createContext(null),km=E.createContext(null),Rm=E.createContext(null),bc=E.createContext(null),Bl=E.createContext({outlet:null,matches:[]}),aE=E.createContext(null);function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(this,arguments)}function Mc(){return E.useContext(bc)!=null}function Nm(){return Mc()||ee(!1),E.useContext(bc).location}function Vl(){Mc()||ee(!1);let{basename:e,navigator:t}=E.useContext(Rm),{matches:n}=E.useContext(Bl),{pathname:r}=Nm(),i=JSON.stringify(Cm(n).map(l=>l.pathnameBase)),s=E.useRef(!1);return E.useEffect(()=>{s.current=!0}),E.useCallback(function(l,a){if(a===void 0&&(a={}),!s.current)return;if(typeof l=="number"){t.go(l);return}let u=J1(l,JSON.parse(i),r,a.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:xr([e,u.pathname])),(a.replace?t.replace:t.push)(u,a.state,a)},[e,t,i,r])}function LN(e,t){Mc()||ee(!1);let{navigator:n}=E.useContext(Rm),r=E.useContext(km),{matches:i}=E.useContext(Bl),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let a=Nm(),u;if(t){var c;let _=typeof t=="string"?Mn(t):t;l==="/"||(c=_.pathname)!=null&&c.startsWith(l)||ee(!1),u=_}else u=a;let h=u.pathname||"/",d=l==="/"?h:h.slice(l.length)||"/",y=Yi(e,{pathname:d}),g=jN(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:xr([l,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:xr([l,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r||void 0);return t&&g?E.createElement(bc.Provider,{value:{location:Df({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:$e.Pop}},g):g}function $N(){let e=WN(),t=Z1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,s)}class FN extends E.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?E.createElement(Bl.Provider,{value:this.props.routeContext},E.createElement(aE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UN(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(Tm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Bl.Provider,{value:t},r)}function jN(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||ee(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,l)=>{let a=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=E.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=E.createElement($N,null));let c=t.concat(r.slice(0,l+1)),h=()=>{let d=s;return a?d=u:o.route.Component?d=E.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),E.createElement(UN,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||l===0)?E.createElement(FN,{location:n.location,component:u,error:a,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var Wy;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(Wy||(Wy={}));var Fu;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Fu||(Fu={}));function zN(e){let t=E.useContext(km);return t||ee(!1),t}function BN(e){let t=E.useContext(Bl);return t||ee(!1),t}function VN(e){let t=BN(),n=t.matches[t.matches.length-1];return n.route.id||ee(!1),n.route.id}function WN(){var e;let t=E.useContext(aE),n=zN(Fu.UseRouteError),r=VN(Fu.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function HN(e){let{fallbackElement:t,router:n}=e,r=E.useCallback(()=>n.state,[n]),i=MN(n.subscribe,r,r),s=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:a=>n.navigate(a),push:(a,u,c)=>n.navigate(a,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(a,u,c)=>n.navigate(a,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",l=E.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return E.createElement(E.Fragment,null,E.createElement(Tm.Provider,{value:l},E.createElement(km.Provider,{value:i},E.createElement(qN,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?E.createElement(KN,null):t))),null)}function GN(e){ee(!1)}function qN(e){let{basename:t="/",children:n=null,location:r,navigationType:i=$e.Pop,navigator:s,static:o=!1}=e;Mc()&&ee(!1);let l=t.replace(/^\/*/,"/"),a=E.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=Mn(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:y="default"}=r,g=E.useMemo(()=>{let _=Oc(u,l);return _==null?null:{location:{pathname:_,search:c,hash:h,state:d,key:y},navigationType:i}},[l,u,c,h,d,y,i]);return g==null?null:E.createElement(Rm.Provider,{value:a},E.createElement(bc.Provider,{children:n,value:g}))}function KN(e){let{children:t,location:n}=e,r=E.useContext(Tm),i=r&&!t?r.router.routes:Of(t);return LN(i,n)}var Hy;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Hy||(Hy={}));new Promise(()=>{});function Of(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let s=[...t,i];if(r.type===E.Fragment){n.push.apply(n,Of(r.props.children,s));return}r.type!==GN&&ee(!1),!r.props.index||!r.props.children||ee(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Of(r.props.children,s)),n.push(o)}),n}function QN(e){return!!e.ErrorBoundary||!!e.errorElement}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bf.apply(this,arguments)}function YN(e,t){return mN({basename:t==null?void 0:t.basename,future:t==null?void 0:t.future,history:$R({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||XN(),routes:e,detectErrorBoundary:QN}).initialize()}function XN(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=bf({},t,{errors:JN(t.errors)})),t}function JN(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Im(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}var Gy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Gy||(Gy={}));var qy;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qy||(qy={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P=function(e,t){if(!e)throw bs(t)},bs=function(e){return new Error("Firebase Database ("+uE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ZN=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Pm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,h=(s&3)<<4|l>>4;let d=(l&15)<<2|u>>6,y=u&63;a||(y=64,o||(d=64)),r.push(n[c],n[h],n[d],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ZN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new eP;const d=s<<2|l>>4;if(r.push(d),u!==64){const y=l<<4&240|u>>2;if(r.push(y),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hE=function(e){const t=cE(e);return Pm.encodeByteArray(t,!0)},Uu=function(e){return hE(e).replace(/\./g,"")},ju=function(e){try{return Pm.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(e){return dE(void 0,e)}function dE(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!nP(n)||(e[n]=dE(e[n],t[n]));return e}function nP(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=()=>rP().__FIREBASE_DEFAULTS__,sP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},oP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ju(e[1]);return t&&JSON.parse(t)},Am=()=>{try{return iP()||sP()||oP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},fE=e=>{var t,n;return(n=(t=Am())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},pE=e=>{const t=fE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},lP=()=>{var e;return(e=Am())===null||e===void 0?void 0:e.config},mE=e=>{var t;return(t=Am())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Uu(JSON.stringify(n)),Uu(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function aP(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function vE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uP(){const e=gt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function yE(){return uE.NODE_ADMIN===!0}function cP(){try{return typeof indexedDB=="object"}catch{return!1}}function hP(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="FirebaseError";class sr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=dP,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?fP(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new sr(i,l,r)}}function fP(e,t){return e.replace(pP,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const pP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(e){return JSON.parse(e)}function Ke(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=cl(ju(s[0])||""),n=cl(ju(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},mP=function(e){const t=_E(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},gP=function(e){const t=_E(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Cs(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Mf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function zu(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Bu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Ky(s)&&Ky(o)){if(!Bu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ky(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function wo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Eo(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let h=0;h<16;h++)r[h]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):h<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const d=(i<<5|i>>>27)+u+a+c+r[h]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function yP(e,t){const n=new _P(e,t);return n.subscribe.bind(n)}class _P{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wP(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=od),i.error===void 0&&(i.error=od),i.complete===void 0&&(i.complete=od);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wP(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function od(){}function Gl(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,P(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Lc=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(e){return e&&e._delegate?e._delegate:e}class Ur{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Wl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(IP(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CP(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CP(e){return e===Jr?void 0:e}function IP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new SP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(me||(me={}));const kP={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},RP=me.INFO,NP={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},PP=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=NP[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $c{constructor(t){this.name=t,this._logLevel=RP,this._logHandler=PP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...t),this._logHandler(this,me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...t),this._logHandler(this,me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,me.INFO,...t),this._logHandler(this,me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,me.WARN,...t),this._logHandler(this,me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...t),this._logHandler(this,me.ERROR,...t)}}const AP=(e,t)=>t.some(n=>e instanceof n);let Qy,Yy;function xP(){return Qy||(Qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DP(){return Yy||(Yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,Lf=new WeakMap,EE=new WeakMap,ld=new WeakMap,Dm=new WeakMap;function OP(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Dr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&wE.set(n,e)}).catch(()=>{}),Dm.set(t,e),t}function bP(e){if(Lf.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Lf.set(e,t)}let $f={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Lf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||EE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function MP(e){$f=e($f)}function LP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ad(this),t,...n);return EE.set(r,t.sort?t.sort():[t]),Dr(r)}:DP().includes(e)?function(...t){return e.apply(ad(this),t),Dr(wE.get(this))}:function(...t){return Dr(e.apply(ad(this),t))}}function $P(e){return typeof e=="function"?LP(e):(e instanceof IDBTransaction&&bP(e),AP(e,xP())?new Proxy(e,$f):e)}function Dr(e){if(e instanceof IDBRequest)return OP(e);if(ld.has(e))return ld.get(e);const t=$P(e);return t!==e&&(ld.set(e,t),Dm.set(t,e)),t}const ad=e=>Dm.get(e);function FP(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Dr(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Dr(o.result),a.oldVersion,a.newVersion,Dr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const UP=["get","getKey","getAll","getAllKeys","count"],jP=["put","add","delete","clear"],ud=new Map;function Xy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ud.get(t))return ud.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=jP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UP.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return ud.set(t,s),s}MP(e=>({...e,get:(t,n,r)=>Xy(t,n)||e.get(t,n,r),has:(t,n)=>!!Xy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BP(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ff="@firebase/app",Jy="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new $c("@firebase/app"),VP="@firebase/app-compat",WP="@firebase/analytics-compat",HP="@firebase/analytics",GP="@firebase/app-check-compat",qP="@firebase/app-check",KP="@firebase/auth",QP="@firebase/auth-compat",YP="@firebase/database",XP="@firebase/database-compat",JP="@firebase/functions",ZP="@firebase/functions-compat",eA="@firebase/installations",tA="@firebase/installations-compat",nA="@firebase/messaging",rA="@firebase/messaging-compat",iA="@firebase/performance",sA="@firebase/performance-compat",oA="@firebase/remote-config",lA="@firebase/remote-config-compat",aA="@firebase/storage",uA="@firebase/storage-compat",cA="@firebase/firestore",hA="@firebase/firestore-compat",dA="firebase",fA="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="[DEFAULT]",pA={[Ff]:"fire-core",[VP]:"fire-core-compat",[HP]:"fire-analytics",[WP]:"fire-analytics-compat",[qP]:"fire-app-check",[GP]:"fire-app-check-compat",[KP]:"fire-auth",[QP]:"fire-auth-compat",[YP]:"fire-rtdb",[XP]:"fire-rtdb-compat",[JP]:"fire-fn",[ZP]:"fire-fn-compat",[eA]:"fire-iid",[tA]:"fire-iid-compat",[nA]:"fire-fcm",[rA]:"fire-fcm-compat",[iA]:"fire-perf",[sA]:"fire-perf-compat",[oA]:"fire-rc",[lA]:"fire-rc-compat",[aA]:"fire-gcs",[uA]:"fire-gcs-compat",[cA]:"fire-fst",[hA]:"fire-fst-compat","fire-js":"fire-js",[dA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new Map,jf=new Map;function mA(e,t){try{e.container.addComponent(t)}catch(n){wi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ei(e){const t=e.name;if(jf.has(t))return wi.debug(`There were multiple attempts to register component ${t}.`),!1;jf.set(t,e);for(const n of Vu.values())mA(n,e);return!0}function Fc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Or=new Hl("app","Firebase",gA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=fA;function SE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Uf,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Or.create("bad-app-name",{appName:String(i)});if(n||(n=lP()),!n)throw Or.create("no-options");const s=Vu.get(i);if(s){if(Bu(n,s.options)&&Bu(r,s.config))return s;throw Or.create("duplicate-app",{appName:i})}const o=new TP(i);for(const a of jf.values())o.addComponent(a);const l=new vA(n,r,o);return Vu.set(i,l),l}function Om(e=Uf){const t=Vu.get(e);if(!t&&e===Uf)return SE();if(!t)throw Or.create("no-app",{appName:e});return t}function xn(e,t,n){var r;let i=(r=pA[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),wi.warn(l.join(" "));return}Ei(new Ur(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firebase-heartbeat-database",_A=1,hl="firebase-heartbeat-store";let cd=null;function CE(){return cd||(cd=FP(yA,_A,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(hl)}}}).catch(e=>{throw Or.create("idb-open",{originalErrorMessage:e.message})})),cd}async function wA(e){try{return(await CE()).transaction(hl).objectStore(hl).get(IE(e))}catch(t){if(t instanceof sr)wi.warn(t.message);else{const n=Or.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});wi.warn(n.message)}}}async function Zy(e,t){try{const r=(await CE()).transaction(hl,"readwrite");return await r.objectStore(hl).put(t,IE(e)),r.done}catch(n){if(n instanceof sr)wi.warn(n.message);else{const r=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wi.warn(r.message)}}}function IE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=1024,SA=30*24*60*60*1e3;class CA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=e_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=SA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=e_(),{heartbeatsToSend:n,unsentEntries:r}=IA(this._heartbeatsCache.heartbeats),i=Uu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function e_(){return new Date().toISOString().substring(0,10)}function IA(e,t=EA){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),t_(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),t_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cP()?hP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await wA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function t_(e){return Uu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(e){Ei(new Ur("platform-logger",t=>new zP(t),"PRIVATE")),Ei(new Ur("heartbeat",t=>new CA(t),"PRIVATE")),xn(Ff,Jy,e),xn(Ff,Jy,"esm2017"),xn("fire-js","")}kA("");var RA="firebase",NA="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(RA,NA,"app");var PA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,bm=bm||{},Q=PA||self;function Wu(){}function Uc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ql(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function AA(e){return Object.prototype.hasOwnProperty.call(e,hd)&&e[hd]||(e[hd]=++xA)}var hd="closure_uid_"+(1e9*Math.random()>>>0),xA=0;function DA(e,t,n){return e.call.apply(e.bind,arguments)}function OA(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function ft(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ft=DA:ft=OA,ft.apply(null,arguments)}function Fa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function ot(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function qr(){this.s=this.s,this.o=this.o}var bA=0;qr.prototype.s=!1;qr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),bA!=0)&&AA(this)};qr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const TE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Mm(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function n_(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Uc(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function pt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var MA=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Q.addEventListener("test",Wu,t),Q.removeEventListener("test",Wu,t)}catch{}return e}();function Hu(e){return/^[\s\xa0]*$/.test(e)}var r_=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function dd(e,t){return e<t?-1:e>t?1:0}function jc(){var e=Q.navigator;return e&&(e=e.userAgent)?e:""}function Nn(e){return jc().indexOf(e)!=-1}function Lm(e){return Lm[" "](e),e}Lm[" "]=Wu;function LA(e){var t=UA;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var $A=Nn("Opera"),dl=Nn("Trident")||Nn("MSIE"),kE=Nn("Edge"),zf=kE||dl,RE=Nn("Gecko")&&!(jc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),FA=jc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function NE(){var e=Q.document;return e?e.documentMode:void 0}var Bf;e:{var fd="",pd=function(){var e=jc();if(RE)return/rv:([^\);]+)(\)|;)/.exec(e);if(kE)return/Edge\/([\d\.]+)/.exec(e);if(dl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(FA)return/WebKit\/(\S+)/.exec(e);if($A)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(pd&&(fd=pd?pd[1]:""),dl){var md=NE();if(md!=null&&md>parseFloat(fd)){Bf=String(md);break e}}Bf=fd}var UA={};function jA(){return LA(function(){let e=0;const t=r_(String(Bf)).split("."),n=r_("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=dd(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||dd(i[2].length==0,s[2].length==0)||dd(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}Q.document&&dl&&NE();function fl(e,t){if(pt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(RE){e:{try{Lm(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:zA[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&fl.X.h.call(this)}}ot(fl,pt);var zA={2:"touch",3:"pen",4:"mouse"};fl.prototype.h=function(){fl.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Kl="closure_listenable_"+(1e6*Math.random()|0),BA=0;function VA(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++BA,this.ba=this.ea=!1}function zc(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $m(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function PE(e){const t={};for(const n in e)t[n]=e[n];return t}const i_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AE(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<i_.length;s++)n=i_[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bc(e){this.src=e,this.g={},this.h=0}Bc.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Wf(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new VA(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function Vf(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=TE(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Wf(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var Fm="closure_lm_"+(1e6*Math.random()|0),gd={};function xE(e,t,n,r,i){if(r&&r.once)return OE(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)xE(e,t[s],n,r,i);return null}return n=zm(n),e&&e[Kl]?e.N(t,n,ql(r)?!!r.capture:!!r,i):DE(e,t,n,!1,r,i)}function DE(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ql(i)?!!i.capture:!!i,l=jm(e);if(l||(e[Fm]=l=new Bc(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=WA(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)MA||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ME(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function WA(){function e(n){return t.call(e.src,e.listener,n)}const t=HA;return e}function OE(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)OE(e,t[s],n,r,i);return null}return n=zm(n),e&&e[Kl]?e.O(t,n,ql(r)?!!r.capture:!!r,i):DE(e,t,n,!0,r,i)}function bE(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)bE(e,t[s],n,r,i);else r=ql(r)?!!r.capture:!!r,n=zm(n),e&&e[Kl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Wf(s,n,r,i),-1<n&&(zc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=jm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wf(t,n,r,i)),(n=-1<e?t[e]:null)&&Um(n))}function Um(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[Kl])Vf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ME(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jm(t))?(Vf(n,e),n.h==0&&(n.src=null,t[Fm]=null)):zc(e)}}}function ME(e){return e in gd?gd[e]:gd[e]="on"+e}function HA(e,t){if(e.ba)e=!0;else{t=new fl(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Um(e),e=n.call(r,t)}return e}function jm(e){return e=e[Fm],e instanceof Bc?e:null}var vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function zm(e){return typeof e=="function"?e:(e[vd]||(e[vd]=function(t){return e.handleEvent(t)}),e[vd])}function Ye(){qr.call(this),this.i=new Bc(this),this.P=this,this.I=null}ot(Ye,qr);Ye.prototype[Kl]=!0;Ye.prototype.removeEventListener=function(e,t,n,r){bE(this,e,t,n,r)};function rt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new pt(t,e);else if(t instanceof pt)t.target=t.target||e;else{var i=t;t=new pt(r,e),AE(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ua(o,r,!0,t)&&i}if(o=t.g=e,i=Ua(o,r,!0,t)&&i,i=Ua(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Ua(o,r,!1,t)&&i}Ye.prototype.M=function(){if(Ye.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)zc(n[r]);delete e.g[t],e.h--}}this.I=null};Ye.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ye.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ua(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var l=o.listener,a=o.ha||o.src;o.ea&&Vf(e.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Bm=Q.JSON.stringify;function GA(){var e=FE;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class qA{constructor(){this.h=this.g=null}add(t,n){const r=LE.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var LE=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new KA,e=>e.reset());class KA{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function QA(e){Q.setTimeout(()=>{throw e},0)}function $E(e,t){Hf||YA(),Gf||(Hf(),Gf=!0),FE.add(e,t)}var Hf;function YA(){var e=Q.Promise.resolve(void 0);Hf=function(){e.then(XA)}}var Gf=!1,FE=new qA;function XA(){for(var e;e=GA();){try{e.h.call(e.g)}catch(n){QA(n)}var t=LE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Gf=!1}function Vc(e,t){Ye.call(this),this.h=e||1,this.g=t||Q,this.j=ft(this.lb,this),this.l=Date.now()}ot(Vc,Ye);F=Vc.prototype;F.ca=!1;F.R=null;F.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),rt(this,"tick"),this.ca&&(Vm(this),this.start()))}};F.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vm(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}F.M=function(){Vc.X.M.call(this),Vm(this),delete this.g};function Wm(e,t,n){if(typeof e=="function")n&&(e=ft(e,n));else if(e&&typeof e.handleEvent=="function")e=ft(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Q.setTimeout(e,t||0)}function UE(e){e.g=Wm(()=>{e.g=null,e.i&&(e.i=!1,UE(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class JA extends qr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:UE(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pl(e){qr.call(this),this.h=e,this.g={}}ot(pl,qr);var s_=[];function jE(e,t,n,r){Array.isArray(n)||(n&&(s_[0]=n.toString()),n=s_);for(var i=0;i<n.length;i++){var s=xE(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function zE(e){$m(e.g,function(t,n){this.g.hasOwnProperty(n)&&Um(t)},e),e.g={}}pl.prototype.M=function(){pl.X.M.call(this),zE(this)};pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Wc(){this.g=!0}Wc.prototype.Aa=function(){this.g=!1};function ZA(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function ex(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Ji(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+nx(e,n)+(r?" "+r:"")})}function tx(e,t){e.info(function(){return"TIMEOUT: "+t})}Wc.prototype.info=function(){};function nx(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Bm(n)}catch{return t}}var $s={},o_=null;function Hm(){return o_=o_||new Ye}$s.Pa="serverreachability";function BE(e){pt.call(this,$s.Pa,e)}ot(BE,pt);function ml(e){const t=Hm();rt(t,new BE(t))}$s.STAT_EVENT="statevent";function VE(e,t){pt.call(this,$s.STAT_EVENT,e),this.stat=t}ot(VE,pt);function _t(e){const t=Hm();rt(t,new VE(t,e))}$s.Qa="timingevent";function WE(e,t){pt.call(this,$s.Qa,e),this.size=t}ot(WE,pt);function Ql(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){e()},t)}var Gm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},rx={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function qm(){}qm.prototype.h=null;function l_(e){return e.h||(e.h=e.i())}function ix(){}var Yl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Km(){pt.call(this,"d")}ot(Km,pt);function Qm(){pt.call(this,"c")}ot(Qm,pt);var qf;function Hc(){}ot(Hc,qm);Hc.prototype.g=function(){return new XMLHttpRequest};Hc.prototype.i=function(){return{}};qf=new Hc;function Xl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new pl(this),this.O=sx,e=zf?125:void 0,this.T=new Vc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new HE}function HE(){this.i=null,this.g="",this.h=!1}var sx=45e3,Kf={},Gu={};F=Xl.prototype;F.setTimeout=function(e){this.O=e};function Qf(e,t,n){e.K=1,e.v=qc(tr(t)),e.s=n,e.P=!0,GE(e,null)}function GE(e,t){e.F=Date.now(),Jl(e),e.A=tr(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),eS(n.i,"t",r),e.C=0,n=e.l.H,e.h=new HE,e.g=ES(e.l,n?t:null,!e.s),0<e.N&&(e.L=new JA(ft(e.La,e,e.g),e.N)),jE(e.S,e.g,"readystatechange",e.ib),t=e.H?PE(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),ml(),ZA(e.j,e.u,e.A,e.m,e.U,e.s)}F.ib=function(e){e=e.target;const t=this.L;t&&Hn(e)==3?t.l():this.La(e)};F.La=function(e){try{if(e==this.g)e:{const c=Hn(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||zf||this.g&&(this.h.h||this.g.fa()||h_(this.g)))){this.I||c!=4||t==7||(t==8||0>=h?ml(3):ml(2)),Gc(this);var n=this.g.aa();this.Y=n;t:if(qE(this)){var r=h_(this.g);e="";var i=r.length,s=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),Mo(this);var o="";break t}this.h.i=new Q.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,ex(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hu(l)){var u=l;break t}}u=null}if(n=u)Ji(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yf(this,n);else{this.i=!1,this.o=3,_t(12),si(this),Mo(this);break e}}this.P?(KE(this,c,o),zf&&this.i&&c==3&&(jE(this.S,this.T,"tick",this.hb),this.T.start())):(Ji(this.j,this.m,o,null),Yf(this,o)),c==4&&si(this),this.i&&!this.I&&(c==4?vS(this.l,this):(this.i=!1,Jl(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,_t(12)):(this.o=0,_t(13)),si(this),Mo(this)}}}catch{}finally{}};function qE(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function KE(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=ox(e,n),i==Gu){t==4&&(e.o=4,_t(14),r=!1),Ji(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Kf){e.o=4,_t(15),Ji(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Ji(e.j,e.m,i,null),Yf(e,i);qE(e)&&i!=Gu&&i!=Kf&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,_t(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ng(t),t.K=!0,_t(11))):(Ji(e.j,e.m,n,"[Invalid Chunked Response]"),si(e),Mo(e))}F.hb=function(){if(this.g){var e=Hn(this.g),t=this.g.fa();this.C<t.length&&(Gc(this),KE(this,e,t),this.i&&e!=4&&Jl(this))}};function ox(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Gu:(n=Number(t.substring(n,r)),isNaN(n)?Kf:(r+=1,r+n>t.length?Gu:(t=t.substr(r,n),e.C=r+n,t)))}F.cancel=function(){this.I=!0,si(this)};function Jl(e){e.V=Date.now()+e.O,QE(e,e.O)}function QE(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ql(ft(e.gb,e),t)}function Gc(e){e.B&&(Q.clearTimeout(e.B),e.B=null)}F.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(tx(this.j,this.A),this.K!=2&&(ml(),_t(17)),si(this),this.o=2,Mo(this)):QE(this,this.V-e)};function Mo(e){e.l.G==0||e.I||vS(e.l,e)}function si(e){Gc(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Vm(e.T),zE(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Yf(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Xf(n.h,e))){if(!e.J&&Xf(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Qu(n),Xc(n);else break e;tg(n),_t(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ql(ft(n.cb,n),6e3));if(1>=rS(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else oi(n,11)}else if((e.J||n.g==e)&&Qu(n),!Hu(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=e.g;if(y){const g=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.h;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ym(s,s.h),s.h=null))}if(r.D){const _=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.za=_,Ne(r.F,r.D,_))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=wS(r,r.H?r.ka:null,r.V),o.J){iS(r.h,o);var l=o,a=r.J;a&&l.setTimeout(a),l.B&&(Gc(l),Jl(l)),r.g=o}else mS(r);0<n.i.length&&Jc(n)}else u[0]!="stop"&&u[0]!="close"||oi(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?oi(n,7):eg(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}ml(4)}catch{}}function lx(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Uc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ax(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Uc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function YE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Uc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=ax(e),r=lx(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var XE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ux(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ci(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ci){this.h=t!==void 0?t:e.h,qu(this,e.j),this.s=e.s,this.g=e.g,Ku(this,e.m),this.l=e.l,t=e.i;var n=new gl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),a_(this,n),this.o=e.o}else e&&(n=String(e).match(XE))?(this.h=!!t,qu(this,n[1]||"",!0),this.s=So(n[2]||""),this.g=So(n[3]||"",!0),Ku(this,n[4]),this.l=So(n[5]||"",!0),a_(this,n[6]||"",!0),this.o=So(n[7]||"")):(this.h=!!t,this.i=new gl(null,this.h))}ci.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Co(t,u_,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Co(t,u_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Co(n,n.charAt(0)=="/"?dx:hx,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Co(n,px)),e.join("")};function tr(e){return new ci(e)}function qu(e,t,n){e.j=n?So(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ku(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function a_(e,t,n){t instanceof gl?(e.i=t,mx(e.i,e.h)):(n||(t=Co(t,fx)),e.i=new gl(t,e.h))}function Ne(e,t,n){e.i.set(t,n)}function qc(e){return Ne(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function So(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Co(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,cx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cx(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var u_=/[#\/\?@]/g,hx=/[#\?:]/g,dx=/[#\?]/g,fx=/[#\?@]/g,px=/#/g;function gl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Kr(e){e.g||(e.g=new Map,e.h=0,e.i&&ux(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}F=gl.prototype;F.add=function(e,t){Kr(this),this.i=null,e=Fs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function JE(e,t){Kr(e),t=Fs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ZE(e,t){return Kr(e),t=Fs(e,t),e.g.has(t)}F.forEach=function(e,t){Kr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};F.oa=function(){Kr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};F.W=function(e){Kr(this);let t=[];if(typeof e=="string")ZE(this,e)&&(t=t.concat(this.g.get(Fs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};F.set=function(e,t){return Kr(this),this.i=null,e=Fs(this,e),ZE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};F.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function eS(e,t,n){JE(e,t),0<n.length&&(e.i=null,e.g.set(Fs(e,t),Mm(n)),e.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Fs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function mx(e,t){t&&!e.j&&(Kr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(JE(this,r),eS(this,i,n))},e)),e.j=t}var gx=class{constructor(e,t){this.h=e,this.g=t}};function tS(e){this.l=e||vx,Q.PerformanceNavigationTiming?(e=Q.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vx=10;function nS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function rS(e){return e.h?1:e.g?e.g.size:0}function Xf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ym(e,t){e.g?e.g.add(t):e.h=t}function iS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}tS.prototype.cancel=function(){if(this.i=sS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function sS(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Mm(e.i)}function Xm(){}Xm.prototype.stringify=function(e){return Q.JSON.stringify(e,void 0)};Xm.prototype.parse=function(e){return Q.JSON.parse(e,void 0)};function yx(){this.g=new Xm}function _x(e,t,n){const r=n||"";try{YE(e,function(i,s){let o=i;ql(i)&&(o=Bm(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function wx(e,t){const n=new Wc;if(Q.Image){const r=new Image;r.onload=Fa(ja,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fa(ja,n,r,"TestLoadImage: error",!1,t),r.onabort=Fa(ja,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fa(ja,n,r,"TestLoadImage: timeout",!1,t),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ja(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Kc(e){this.l=e.ac||null,this.j=e.jb||!1}ot(Kc,qm);Kc.prototype.g=function(){return new Qc(this.l,this.j)};Kc.prototype.i=function(e){return function(){return e}}({});function Qc(e,t){Ye.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Jm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(Qc,Ye);var Jm=0;F=Qc.prototype;F.open=function(e,t){if(this.readyState!=Jm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vl(this)};F.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Q).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zl(this)),this.readyState=Jm};F.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vl(this)),this.g&&(this.readyState=3,vl(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oS(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function oS(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}F.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zl(this):vl(this),this.readyState==3&&oS(this)}};F.Va=function(e){this.g&&(this.response=this.responseText=e,Zl(this))};F.Ua=function(e){this.g&&(this.response=e,Zl(this))};F.ga=function(){this.g&&Zl(this)};function Zl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vl(e)}F.setRequestHeader=function(e,t){this.v.append(e,t)};F.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function vl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Ex=Q.JSON.parse;function Le(e){Ye.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lS,this.K=this.L=!1}ot(Le,Ye);var lS="",Sx=/^https?$/i,Cx=["POST","PUT"];F=Le.prototype;F.Ka=function(e){this.L=e};F.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qf.g(),this.C=this.u?l_(this.u):l_(qf),this.g.onreadystatechange=ft(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){c_(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Q.FormData&&e instanceof Q.FormData,!(0<=TE(Cx,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cS(this),0<this.B&&((this.K=Ix(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ft(this.qa,this)):this.A=Wm(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){c_(this,s)}};function Ix(e){return dl&&jA()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}F.qa=function(){typeof bm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))};function c_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,aS(e),Yc(e)}function aS(e){e.D||(e.D=!0,rt(e,"complete"),rt(e,"error"))}F.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,rt(this,"complete"),rt(this,"abort"),Yc(this))};F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yc(this,!0)),Le.X.M.call(this)};F.Ha=function(){this.s||(this.F||this.v||this.l?uS(this):this.fb())};F.fb=function(){uS(this)};function uS(e){if(e.h&&typeof bm<"u"&&(!e.C[1]||Hn(e)!=4||e.aa()!=2)){if(e.v&&Hn(e)==4)Wm(e.Ha,0,e);else if(rt(e,"readystatechange"),Hn(e)==4){e.h=!1;try{const l=e.aa();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=l===0){var i=String(e.H).match(XE)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!Sx.test(i?i.toLowerCase():"")}n=r}if(n)rt(e,"complete"),rt(e,"success");else{e.m=6;try{var o=2<Hn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",aS(e)}}finally{Yc(e)}}}}function Yc(e,t){if(e.g){cS(e);const n=e.g,r=e.C[0]?Wu:null;e.g=null,e.C=null,t||rt(e,"ready");try{n.onreadystatechange=r}catch{}}}function cS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Q.clearTimeout(e.A),e.A=null)}function Hn(e){return e.g?e.g.readyState:0}F.aa=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}};F.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Ex(t)}};function h_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case lS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}F.Ea=function(){return this.m};F.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function hS(e){let t="";return $m(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Zm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hS(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ne(e,t,n))}function oo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function dS(e){this.Ca=0,this.i=[],this.j=new Wc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=oo("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=oo("baseRetryDelayMs",5e3,e),this.bb=oo("retryDelaySeedMs",1e4,e),this.$a=oo("forwardChannelMaxRetries",2,e),this.ta=oo("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new tS(e&&e.concurrentRequestLimit),this.Fa=new yx,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}F=dS.prototype;F.ma=8;F.G=1;function eg(e){if(fS(e),e.G==3){var t=e.U++,n=tr(e.F);Ne(n,"SID",e.I),Ne(n,"RID",t),Ne(n,"TYPE","terminate"),ea(e,n),t=new Xl(e,e.j,t,void 0),t.K=2,t.v=qc(tr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(t.v.toString(),"")),!n&&Q.Image&&(new Image().src=t.v,n=!0),n||(t.g=ES(t.l,null),t.g.da(t.v)),t.F=Date.now(),Jl(t)}_S(e)}function Xc(e){e.g&&(ng(e),e.g.cancel(),e.g=null)}function fS(e){Xc(e),e.u&&(Q.clearTimeout(e.u),e.u=null),Qu(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&Q.clearTimeout(e.m),e.m=null)}function Jc(e){nS(e.h)||e.m||(e.m=!0,$E(e.Ja,e),e.C=0)}function Tx(e,t){return rS(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=Ql(ft(e.Ja,e,t),yS(e,e.C)),e.C++,!0)}F.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Xl(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=PE(s),AE(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pS(this,i,t),n=tr(this.F),Ne(n,"RID",e),Ne(n,"CVER",22),this.D&&Ne(n,"X-HTTP-Session-Id",this.D),ea(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(hS(s)))+"&"+t:this.o&&Zm(n,this.o,s)),Ym(this.h,i),this.Ya&&Ne(n,"TYPE","init"),this.O?(Ne(n,"$req",t),Ne(n,"SID","null"),i.Z=!0,Qf(i,n,null)):Qf(i,n,t),this.G=2}}else this.G==3&&(e?d_(this,e):this.i.length==0||nS(this.h)||d_(this))};function d_(e,t){var n;t?n=t.m:n=e.U++;const r=tr(e.F);Ne(r,"SID",e.I),Ne(r,"RID",n),Ne(r,"AID",e.T),ea(e,r),e.o&&e.s&&Zm(r,e.o,e.s),n=new Xl(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=pS(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Ym(e.h,n),Qf(n,r,t)}function ea(e,t){e.ia&&$m(e.ia,function(n,r){Ne(t,r,n)}),e.l&&YE({},function(n,r){Ne(t,r,n)})}function pS(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ft(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let u=i[a].h;const c=i[a].g;if(u-=s,0>u)s=Math.max(0,i[a].h-100),l=!1;else try{_x(c,o,"req"+u+"_")}catch{r&&r(c)}}if(l){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function mS(e){e.g||e.u||(e.Z=1,$E(e.Ia,e),e.A=0)}function tg(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=Ql(ft(e.Ia,e),yS(e,e.A)),e.A++,!0)}F.Ia=function(){if(this.u=null,gS(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ql(ft(this.eb,this),e)}};F.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,_t(10),Xc(this),gS(this))};function ng(e){e.B!=null&&(Q.clearTimeout(e.B),e.B=null)}function gS(e){e.g=new Xl(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=tr(e.sa);Ne(t,"RID","rpc"),Ne(t,"SID",e.I),Ne(t,"CI",e.L?"0":"1"),Ne(t,"AID",e.T),Ne(t,"TYPE","xmlhttp"),ea(e,t),e.o&&e.s&&Zm(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=qc(tr(t)),n.s=null,n.P=!0,GE(n,e)}F.cb=function(){this.v!=null&&(this.v=null,Xc(this),tg(this),_t(19))};function Qu(e){e.v!=null&&(Q.clearTimeout(e.v),e.v=null)}function vS(e,t){var n=null;if(e.g==t){Qu(e),ng(e),e.g=null;var r=2}else if(Xf(e.h,t))n=t.D,iS(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Hm(),rt(r,new WE(r,n)),Jc(e)}else mS(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&Tx(e,t)||r==2&&tg(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:oi(e,5);break;case 4:oi(e,10);break;case 3:oi(e,6);break;default:oi(e,2)}}}function yS(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function oi(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=ft(e.kb,e);n||(n=new ci("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||qu(n,"https"),qc(n)),wx(n.toString(),r)}else _t(2);e.G=0,e.l&&e.l.va(t),_S(e),fS(e)}F.kb=function(e){e?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function _S(e){if(e.G=0,e.la=[],e.l){const t=sS(e.h);(t.length!=0||e.i.length!=0)&&(n_(e.la,t),n_(e.la,e.i),e.h.i.length=0,Mm(e.i),e.i.length=0),e.l.ua()}}function wS(e,t,n){var r=n instanceof ci?tr(n):new ci(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),Ku(r,r.m);else{var i=Q.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ci(null,void 0);r&&qu(s,r),t&&(s.g=t),i&&Ku(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&Ne(r,n,t),Ne(r,"VER",e.ma),ea(e,r),r}function ES(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new Le(new Kc({jb:!0})):new Le(e.ra),t.Ka(e.H),t}function SS(){}F=SS.prototype;F.xa=function(){};F.wa=function(){};F.va=function(){};F.ua=function(){};F.Ra=function(){};function en(e,t){Ye.call(this),this.g=new dS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Hu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hu(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Us(this)}ot(en,Ye);en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;_t(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=wS(e,null,e.V),Jc(e)};en.prototype.close=function(){eg(this.g)};en.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Bm(e),e=n);t.i.push(new gx(t.ab++,e)),t.G==3&&Jc(t)};en.prototype.M=function(){this.g.l=null,delete this.j,eg(this.g),delete this.g,en.X.M.call(this)};function CS(e){Km.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ot(CS,Km);function IS(){Qm.call(this),this.status=1}ot(IS,Qm);function Us(e){this.g=e}ot(Us,SS);Us.prototype.xa=function(){rt(this.g,"a")};Us.prototype.wa=function(e){rt(this.g,new CS(e))};Us.prototype.va=function(e){rt(this.g,new IS)};Us.prototype.ua=function(){rt(this.g,"b")};en.prototype.send=en.prototype.u;en.prototype.open=en.prototype.m;en.prototype.close=en.prototype.close;Gm.NO_ERROR=0;Gm.TIMEOUT=8;Gm.HTTP_ERROR=6;rx.COMPLETE="complete";ix.EventType=Yl;Yl.OPEN="a";Yl.CLOSE="b";Yl.ERROR="c";Yl.MESSAGE="d";Ye.prototype.listen=Ye.prototype.N;Le.prototype.listenOnce=Le.prototype.O;Le.prototype.getLastError=Le.prototype.Oa;Le.prototype.getLastErrorCode=Le.prototype.Ea;Le.prototype.getStatus=Le.prototype.aa;Le.prototype.getResponseJson=Le.prototype.Sa;Le.prototype.getResponseText=Le.prototype.fa;Le.prototype.send=Le.prototype.da;Le.prototype.setWithCredentials=Le.prototype.Ka;const f_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ht=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new $c("@firebase/firestore");function $t(e,...t){if(Is.logLevel<=me.DEBUG){const n=t.map(ig);Is.debug(`Firestore (${ta}): ${e}`,...n)}}function rg(e,...t){if(Is.logLevel<=me.ERROR){const n=t.map(ig);Is.error(`Firestore (${ta}): ${e}`,...n)}}function kx(e,...t){if(Is.logLevel<=me.WARN){const n=t.map(ig);Is.warn(`Firestore (${ta}): ${e}`,...n)}}function ig(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(e="Unexpected state"){const t=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+e;throw rg(t),new Error(t)}function Jf(e,t){e||sg()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let zt=class extends sr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as=class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TS=class{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Rx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}},Nx=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Px=class{constructor(t){this.t=t,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new as;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new as,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;t.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{$t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):($t("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new as)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?($t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jf(typeof r.accessToken=="string"),new TS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Jf(t===null||typeof t=="string"),new ht(t)}},Ax=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},xx=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new Ax(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dx=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ox=class{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&$t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,$t("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{$t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):$t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Jf(typeof n.token=="string"),this.T=n.token,new Dx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mx=class{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=bx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}};function kS(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lx=class{constructor(t,n,r,i,s,o,l,a){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.useFetchStreams=a}},$x=class Zf{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Zf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Zf&&t.projectId===this.projectId&&t.database===this.database}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p_,ae;(ae=p_||(p_={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";function yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&$t("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new og(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zt(jt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ux(e,t){if(rg("AsyncQueue",`${t}: ${e}`),kS(e))return new zt(jt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=Mx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{$t("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>($t("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zt(jt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ux(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;function zx(e,t,n,r){if(t===!0&&r===!0)throw new zt(jt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Bx(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":sg()}function Vx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new zt(jt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bx(e);throw new zt(jt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new zt(jt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new zt(jt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,zx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new zt(jt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new zt(jt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g_(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Rx;switch(n.type){case"firstParty":return new xx(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new zt(jt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=m_.get(t);n&&($t("ComponentProvider","Removing Datastore"),m_.delete(t),n.terminate())}(this),Promise.resolve()}}function Wx(e,t,n,r={}){var i;const s=(e=Vx(e,RS))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&kx("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=ht.MOCK_USER;else{o=gE(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new zt(jt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ht(a)}e._authCredentials=new Nx(new TS(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Fx(this,"async_queue_retry"),this.qc=()=>{const n=yd();n&&$t("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const t=yd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const n=yd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new as;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(t){if(!kS(t))throw t;$t("AsyncQueue","Operation failed with retryable error: "+t)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(t){const n=this.Nc.then(()=>(this.Fc=!0,t().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw rg("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(t,n,r){this.Uc(),this.Lc.indexOf(t)>-1&&(n=0);const i=og.createAndSchedule(this,t,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&sg()}verifyOperationInProgress(){}async zc(){let t;do t=this.Nc,await t;while(t!==this.Nc)}jc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}class Gx extends RS{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Hx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Kx(this),this._firestoreClient.terminate()}}function qx(e,t){const n=typeof e=="object"?e:Om(),r=typeof e=="string"?e:t||"(default)",i=Fc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pE("firestore");s&&Wx(i,...s)}return i}function Kx(e){var t,n,r;const i=e._freezeSettings(),s=function(o,l,a,u){return new Lx(o,l,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new jx(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(function(e,t=!0){(function(n){ta=n})(Ls),Ei(new Ur("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Gx(new Px(n.getProvider("auth-internal")),new Ox(n.getProvider("app-check-internal")),function(l,a){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new zt(jt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $x(l.options.projectId,a)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xn(f_,"3.10.0",e),xn(f_,"3.10.0","esm2017")})();function lg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function NS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qx=NS,PS=new Hl("auth","Firebase",NS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new $c("@firebase/auth");function su(e,...t){v_.logLevel<=me.ERROR&&v_.error(`Auth (${Ls}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(e,...t){throw ag(e,...t)}function Dn(e,...t){return ag(e,...t)}function Yx(e,t,n){const r=Object.assign(Object.assign({},Qx()),{[t]:n});return new Hl("auth","Firebase",r).create(t,{appName:e.name})}function ag(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return PS.create(e,...t)}function G(e,t,...n){if(!e)throw ag(t,...n)}function Gn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw su(t),new Error(t)}function nr(e,t){e||Gn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;function qn(e){nr(e instanceof Function,"Expected a class definition");let t=y_.get(e);return t?(nr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,y_.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(e,t){const n=Fc(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bu(s,t??{}))return i;_n(i,"already-initialized")}return n.initialize({options:t})}function Jx(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Zx(){return __()==="http:"||__()==="https:"}function __(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zx()||aP()||"connection"in navigator)?navigator.onLine:!0}function tD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,n){this.shortDelay=t,this.longDelay=n,nr(n>t,"Short delay should be less than long delay!"),this.isMobile=xm()||vE()}get(){return eD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(e,t){nr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new na(3e4,6e4);function ra(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ia(e,t,n,r,i={}){return xS(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ms(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),AS.fetch()(DS(e,e.config.apiHost,n,l),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},s))})}async function xS(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},nD),t);try{const i=new iD(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw za(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw za(e,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw za(e,"email-already-in-use",o);if(a==="USER_DISABLED")throw za(e,"user-disabled",o);const c=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Yx(e,c,u);_n(e,c)}}catch(i){if(i instanceof sr)throw i;_n(e,"network-request-failed",{message:String(i)})}}async function sa(e,t,n,r,i={}){const s=await ia(e,t,n,r,i);return"mfaPendingCredential"in s&&_n(e,"multi-factor-auth-required",{_serverResponse:s}),s}function DS(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?ug(e.config,i):`${e.config.apiScheme}://${i}`}class iD{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),rD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function za(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dn(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(e,t){return ia(e,"POST","/v1/accounts:delete",t)}async function oD(e,t){return ia(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lD(e,t=!1){const n=Dt(e),r=await n.getIdToken(t),i=cg(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lo(_d(i.auth_time)),issuedAtTime:Lo(_d(i.iat)),expirationTime:Lo(_d(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _d(e){return Number(e)*1e3}function cg(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return su("JWT malformed, contained fewer than 3 sections"),null;try{const i=ju(n);return i?JSON.parse(i):(su("Failed to decode base64 JWT payload"),null)}catch(i){return su("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aD(e){const t=cg(e);return G(t,"internal-error"),G(typeof t.exp<"u","internal-error"),G(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof sr&&uD(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function uD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(e){var t;const n=e.auth,r=await e.getIdToken(),i=await yl(e,oD(n,{idToken:r}));G(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?fD(s.providerUserInfo):[],l=dD(e.providerData,o),a=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),c=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new OS(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function hD(e){const t=Dt(e);await Yu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function dD(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function fD(e){return e.map(t=>{var{providerId:n}=t,r=lg(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(e,t){const n=await xS(e,{},async()=>{const r=Ms({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=DS(e,i,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",AS.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){G(t.idToken,"internal-error"),G(typeof t.idToken<"u","internal-error"),G(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):aD(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return G(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await pD(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _l;return r&&(G(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(e,t){G(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class hi{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=lg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new OS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await yl(this,this.stsTokenManager.getToken(this.auth,t));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return lD(this,t)}reload(){return hD(this)}_assign(t){this!==t&&(G(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new hi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Yu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await yl(this,sD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,l,a,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(l=n.tenantId)!==null&&l!==void 0?l:void 0,m=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,p=(u=n.createdAt)!==null&&u!==void 0?u:void 0,f=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:w,isAnonymous:C,providerData:T,stsTokenManager:A}=n;G(v&&A,t,"internal-error");const R=_l.fromJSON(this.name,A);G(typeof v=="string",t,"internal-error"),ar(h,t.name),ar(d,t.name),G(typeof w=="boolean",t,"internal-error"),G(typeof C=="boolean",t,"internal-error"),ar(y,t.name),ar(g,t.name),ar(_,t.name),ar(m,t.name),ar(p,t.name),ar(f,t.name);const J=new hi({uid:v,auth:t,email:d,emailVerified:w,displayName:h,isAnonymous:C,photoURL:g,phoneNumber:y,tenantId:_,stsTokenManager:R,createdAt:p,lastLoginAt:f});return T&&Array.isArray(T)&&(J.providerData=T.map($=>Object.assign({},$))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(t,n,r=!1){const i=new _l;i.updateFromServerResponse(n);const s=new hi({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Yu(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}bS.type="NONE";const w_=bS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(e,t,n){return`firebase:${e}:${t}:${n}`}class us{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ou(this.userKey,i.apiKey,s),this.fullPersistenceKey=ou("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?hi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new us(qn(w_),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||qn(w_);const o=ou(r,t.config.apiKey,t.name);let l=null;for(const u of n)try{const c=await u._get(o);if(c){const h=hi._fromJSON(t,c);u!==s&&(l=h),s=u;break}}catch{}const a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new us(s,t,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new us(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($S(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(US(t))return"Blackberry";if(jS(t))return"Webos";if(hg(t))return"Safari";if((t.includes("chrome/")||LS(t))&&!t.includes("edge/"))return"Chrome";if(FS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MS(e=gt()){return/firefox\//i.test(e)}function hg(e=gt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function LS(e=gt()){return/crios\//i.test(e)}function $S(e=gt()){return/iemobile/i.test(e)}function FS(e=gt()){return/android/i.test(e)}function US(e=gt()){return/blackberry/i.test(e)}function jS(e=gt()){return/webos/i.test(e)}function Zc(e=gt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mD(e=gt()){var t;return Zc(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function gD(){return uP()&&document.documentMode===10}function zS(e=gt()){return Zc(e)||FS(e)||jS(e)||US(e)||/windows phone/i.test(e)||$S(e)}function vD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(e,t=[]){let n;switch(e){case"Browser":n=E_(gt());break;case"Worker":n=`${E_(gt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ls}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,l)=>{try{const a=t(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t,n,r){this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new yD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await us.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(t);(!o||o===l)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Yu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Dt(t):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&G(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qn(t)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await us.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return G(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function oa(e){return Dt(e)}class S_{constructor(t){this.auth=t,this.observer=null,this.addObserver=yP(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wD(e,t,n){const r=oa(e);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=VS(t),{host:o,port:l}=ED(t),a=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||SD()}function VS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ED(e){const t=VS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:C_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:C_(o)}}}function C_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function SD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(t){return Gn("not implemented")}_linkToIdToken(t,n){return Gn("not implemented")}_getReauthenticationResolver(t){return Gn("not implemented")}}async function CD(e,t){return ia(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(e,t){return sa(e,"POST","/v1/accounts:signInWithPassword",ra(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(e,t){return sa(e,"POST","/v1/accounts:signInWithEmailLink",ra(e,t))}async function kD(e,t){return sa(e,"POST","/v1/accounts:signInWithEmailLink",ra(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends dg{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new wl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new wl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return ID(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return TD(t,{email:this._email,oobCode:this._password});default:_n(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return CD(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return kD(t,{idToken:n,email:this._email,oobCode:this._password});default:_n(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cs(e,t){return sa(e,"POST","/v1/accounts:signInWithIdp",ra(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="http://localhost";class Si extends dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Si(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=lg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Si(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return cs(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,cs(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,cs(t,n)}buildRequest(){const t={requestUri:RD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ms(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PD(e){const t=wo(Eo(e)).link,n=t?wo(Eo(t)).deep_link_id:null,r=wo(Eo(e)).deep_link_id;return(r?wo(Eo(r)).link:null)||r||n||t||e}class fg{constructor(t){var n,r,i,s,o,l;const a=wo(Eo(t)),u=(n=a.apiKey)!==null&&n!==void 0?n:null,c=(r=a.oobCode)!==null&&r!==void 0?r:null,h=ND((i=a.mode)!==null&&i!==void 0?i:null);G(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const n=PD(t);try{return new fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.providerId=js.PROVIDER_ID}static credential(t,n){return wl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=fg.parseLink(n);return G(r,"argument-error"),wl._fromEmailAndCode(t,r.code,r.tenantId)}}js.PROVIDER_ID="password";js.EMAIL_PASSWORD_SIGN_IN_METHOD="password";js.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends WS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends la{constructor(){super("facebook.com")}static credential(t){return Si._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends la{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Si._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends la{constructor(){super("github.com")}static credential(t){return Si._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gr.credential(t.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends la{constructor(){super("twitter.com")}static credential(t,n){return Si._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(e,t){return sa(e,"POST","/v1/accounts:signUp",ra(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await hi._fromIdTokenResponse(t,r,i),o=I_(r);return new jr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=I_(r);return new jr({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function I_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(e){var t;const n=oa(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new jr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await AD(n,{returnSecureToken:!0}),i=await jr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends sr{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Xu(t,n,r,i)}}function HS(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(e,s,t,r):s})}async function DD(e,t,n=!1){const r=await yl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return jr._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await yl(e,HS(r,i,t,e),n);G(s.idToken,r,"internal-error");const o=cg(s.idToken);G(o,r,"internal-error");const{sub:l}=o;return G(e.uid===l,r,"user-mismatch"),jr._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(e,t,n=!1){const r="signIn",i=await HS(e,r,t),s=await jr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function bD(e,t){return GS(oa(e),t)}function MD(e,t,n){return bD(Dt(e),js.credential(t,n))}function LD(e,t,n,r){return Dt(e).onIdTokenChanged(t,n,r)}function $D(e,t,n){return Dt(e).beforeAuthStateChanged(t,n)}const Ju="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ju,"1"),this.storage.removeItem(Ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){const e=gt();return hg(e)||Zc(e)}const UD=1e3,jD=10;class KS extends qS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=FD()&&vD(),this.fallbackToPolling=zS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);gD()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,jD):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}KS.type="LOCAL";const zD=KS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends qS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}QS.type="SESSION";const YS=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new eh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),a=await BD(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const u=pg("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(d.data.response);break;default:clearTimeout(c),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function WD(e){On().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function HD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GD(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function qD(){return XS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebaseLocalStorageDb",KD=1,Zu="firebaseLocalStorage",ZS="fbase_key";class aa{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function th(e,t){return e.transaction([Zu],t?"readwrite":"readonly").objectStore(Zu)}function QD(){const e=indexedDB.deleteDatabase(JS);return new aa(e).toPromise()}function tp(){const e=indexedDB.open(JS,KD);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Zu,{keyPath:ZS})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Zu)?t(r):(r.close(),await QD(),t(await tp()))})})}async function T_(e,t,n){const r=th(e,!0).put({[ZS]:t,value:n});return new aa(r).toPromise()}async function YD(e,t){const n=th(e,!1).get(t),r=await new aa(n).toPromise();return r===void 0?null:r.value}function k_(e,t){const n=th(e,!0).delete(t);return new aa(n).toPromise()}const XD=800,JD=3;class eC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>JD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(qD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await HD(),!this.activeServiceWorker)return;this.sender=new VD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tp();return await T_(t,Ju,"1"),await k_(t,Ju),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>T_(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>YD(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>k_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=th(i,!1).getAll();return new aa(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eC.type="LOCAL";const ZD=eC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function tO(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Dn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",eO().appendChild(r)})}function nO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new na(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(e,t){return t?qn(t):(G(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends dg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return cs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return cs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return cs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function iO(e){return GS(e.auth,new mg(e),e.bypassAuthState)}function sO(e){const{auth:t,user:n}=e;return G(n,t,"internal-error"),OD(n,new mg(e),e.bypassAuthState)}async function oO(e){const{auth:t,user:n}=e;return G(n,t,"internal-error"),DD(n,new mg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=t;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iO;case"linkViaPopup":case"linkViaRedirect":return oO;case"reauthViaPopup":case"reauthViaRedirect":return sO;default:_n(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new na(2e3,1e4);class Zi extends tC{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return G(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,lO.get())};t()}}Zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="pendingRedirect",lu=new Map;class uO extends tC{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=lu.get(this.auth._key());if(!t){try{const r=await cO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}lu.set(this.auth._key(),t)}return this.bypassAuthState||lu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cO(e,t){const n=fO(t),r=dO(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hO(e,t){lu.set(e._key(),t)}function dO(e){return qn(e._redirectPersistence)}function fO(e){return ou(aO,e.config.apiKey,e.name)}async function pO(e,t,n=!1){const r=oa(e),i=rO(r,t),o=await new uO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=10*60*1e3;class gO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!nC(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mO&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(t))}saveEventToCache(t){this.cachedEventUids.add(R_(t)),this.lastProcessedEventTime=Date.now()}}function R_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function nC({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function vO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nC(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(e,t={}){return ia(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wO=/^https?/;async function EO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await yO(e);for(const n of t)try{if(SO(n))return}catch{}_n(e,"unauthorized-domain")}function SO(e){const t=ep(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wO.test(n))return!1;if(_O.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new na(3e4,6e4);function N_(){const e=On().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function IO(e){return new Promise((t,n)=>{var r,i,s;function o(){N_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{N_(),n(Dn(e,"network-request-failed"))},timeout:CO.get()})}if(!((i=(r=On().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=On().gapi)===null||s===void 0)&&s.load)o();else{const l=nO("iframefcb");return On()[l]=()=>{gapi.load?o():n(Dn(e,"network-request-failed"))},tO(`https://apis.google.com/js/api.js?onload=${l}`).catch(a=>n(a))}}).catch(t=>{throw au=null,t})}let au=null;function TO(e){return au=au||IO(e),au}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new na(5e3,15e3),RO="__/auth/iframe",NO="emulator/auth/iframe",PO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xO(e){const t=e.config;G(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ug(t,NO):`https://${e.config.authDomain}/${RO}`,r={apiKey:t.apiKey,appName:e.name,v:Ls},i=AO.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ms(r).slice(1)}`}async function DO(e){const t=await TO(e),n=On().gapi;return G(n,e,"internal-error"),t.open({where:document.body,url:xO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(e,"network-request-failed"),l=On().setTimeout(()=>{s(o)},kO.get());function a(){On().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bO=500,MO=600,LO="_blank",$O="http://localhost";class P_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FO(e,t,n,r=bO,i=MO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},OO),{width:r.toString(),height:i.toString(),top:s,left:o}),u=gt().toLowerCase();n&&(l=LS(u)?LO:n),MS(u)&&(t=t||$O,a.scrollbars="yes");const c=Object.entries(a).reduce((d,[y,g])=>`${d}${y}=${g},`,"");if(mD(u)&&l!=="_self")return UO(t||"",l),new P_(null);const h=window.open(t||"",l,c);G(h,e,"popup-blocked");try{h.focus()}catch{}return new P_(h)}function UO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="__/auth/handler",zO="emulator/auth/handler";function A_(e,t,n,r,i,s){G(e.config.authDomain,e,"auth-domain-config-required"),G(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ls,eventId:i};if(t instanceof WS){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Mf(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[a,u]of Object.entries(s||{}))o[a]=u}if(t instanceof la){const a=t.getScopes().filter(u=>u!=="");a.length>0&&(o.scopes=a.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const a of Object.keys(l))l[a]===void 0&&delete l[a];return`${BO(e)}?${Ms(l).slice(1)}`}function BO({config:e}){return e.emulator?ug(e,zO):`https://${e.authDomain}/${jO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="webStorageSupport";class VO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YS,this._completeRedirectFn=pO,this._overrideRedirectResult=hO}async _openPopup(t,n,r,i){var s;nr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=A_(t,n,r,ep(),i);return FO(t,o,pg())}async _openRedirect(t,n,r,i){return await this._originValidation(t),WD(A_(t,n,r,ep(),i)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(nr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await DO(t),r=new gO(t);return n.register("authEvent",i=>(G(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wd,{type:wd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wd];o!==void 0&&n(!!o),_n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return zS()||hg()||Zc()}}const WO=VO;var x_="@firebase/auth",D_="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function qO(e){Ei(new Ur("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((l,a)=>{G(s&&!s.includes(":"),"invalid-api-key",{appName:l.name}),G(!(o!=null&&o.includes(":")),"argument-error",{appName:l.name});const u={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BS(e)},c=new _D(l,a,u);return Jx(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ei(new Ur("auth-internal",t=>{const n=oa(t.getProvider("auth").getImmediate());return(r=>new HO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(x_,D_,GO(e)),xn(x_,D_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=5*60,QO=mE("authIdTokenMaxAge")||KO;let O_=null;const YO=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QO)return;const i=n==null?void 0:n.token;O_!==i&&(O_=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XO(e=Om()){const t=Fc(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Xx(e,{popupRedirectResolver:WO,persistence:[ZD,zD,YS]}),r=mE("authTokenSyncURL");if(r){const s=YO(r);$D(n,s,()=>s(n.currentUser)),LD(n,o=>s(o))}const i=fE("auth");return i&&wD(n,`http://${i}`),n}qO("Browser");const b_="@firebase/database",M_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rC="";function JO(e){rC=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ke(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:cl(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Ln(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ZO(t)}}catch{}return new eb},li=iC("localStorage"),np=iC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new $c("@firebase/database"),tb=function(){let e=1;return function(){return e++}}(),sC=function(e){const t=EP(e),n=new vP;n.update(t);const r=n.digest();return Pm.encodeByteArray(r)},ua=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ua.apply(null,r):typeof r=="object"?t+=Ke(r):t+=r,t+=" "}return t};let di=null,L_=!0;const nb=function(e,t){P(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(hs.logLevel=me.VERBOSE,di=hs.log.bind(hs),t&&np.set("logging_enabled",!0)):typeof e=="function"?di=e:(di=null,np.remove("logging_enabled"))},tt=function(...e){if(L_===!0&&(L_=!1,di===null&&np.get("logging_enabled")===!0&&nb(!0)),di){const t=ua.apply(null,e);di(t)}},ca=function(e){return function(...t){tt(e,...t)}},rp=function(...e){const t="FIREBASE INTERNAL ERROR: "+ua(...e);hs.error(t)},rr=function(...e){const t=`FIREBASE FATAL ERROR: ${ua(...e)}`;throw hs.error(t),new Error(t)},Et=function(...e){const t="FIREBASE WARNING: "+ua(...e);hs.warn(t)},rb=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gg=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ib=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ci="[MIN_NAME]",zr="[MAX_NAME]",xi=function(e,t){if(e===t)return 0;if(e===Ci||t===zr)return-1;if(t===Ci||e===zr)return 1;{const n=$_(e),r=$_(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},sb=function(e,t){return e===t?0:e<t?-1:1},lo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ke(t))},vg=function(e){if(typeof e!="object"||e===null)return Ke(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Ke(t[r]),n+=":",n+=vg(e[t[r]]);return n+="}",n},oC=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function st(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const lC=function(e){P(!gg(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(a=0;a<64;a+=8){let d=parseInt(c.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},ob=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ab(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const ub=new RegExp("^-?(0*)\\d{1,10}$"),cb=-2147483648,hb=2147483647,$_=function(e){if(ub.test(e)){const t=Number(e);if(t>=cb&&t<=hb)return t}return null},zs=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Et("Exception was thrown by user callback.",n),t},Math.floor(0))}},db=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$o=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(t)}}class ds{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ds.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="5",aC="v",uC="s",cC="r",hC="f",dC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fC="ls",pC="p",ip="ac",mC="websocket",gC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=li.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&li.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function mb(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function yC(e,t,n){P(typeof t=="string","typeof type must == string"),P(typeof n=="object","typeof params must == object");let r;if(t===mC)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===gC)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);mb(e)&&(n.ns=e.namespace);const i=[];return st(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.counters_={}}incrementCounter(t,n=1){Ln(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return tP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed={},Sd={};function _g(e){const t=e.toString();return Ed[t]||(Ed[t]=new gb),Ed[t]}function vb(e,t){const n=e.toString();return Sd[n]||(Sd[n]=t()),Sd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&zs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="start",_b="close",wb="pLPCommand",Eb="pRTLPCB",_C="id",wC="pw",EC="ser",Sb="cb",Cb="seg",Ib="ts",Tb="d",kb="dframe",SC=1870,CC=30,Rb=SC-CC,Nb=25e3,Pb=3e4;class es{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ca(t),this.stats_=_g(n),this.urlFn=a=>(this.appCheckToken&&(a[ip]=this.appCheckToken),yC(n,gC,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yb(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Pb)),ib(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wg((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===F_)this.id=l,this.password=a;else if(o===_b)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[F_]="t",r[EC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Sb]=this.scriptTagHolder.uniqueCallbackIdentifier),r[aC]=yg,this.transportSessionId&&(r[uC]=this.transportSessionId),this.lastSessionId&&(r[fC]=this.lastSessionId),this.applicationId&&(r[pC]=this.applicationId),this.appCheckToken&&(r[ip]=this.appCheckToken),typeof location<"u"&&location.hostname&&dC.test(location.hostname)&&(r[cC]=hC);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){es.forceAllow_=!0}static forceDisallow(){es.forceDisallow_=!0}static isAvailable(){return es.forceAllow_?!0:!es.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ob()&&!lb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Ke(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hE(n),i=oC(r,Rb);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[kb]="t",r[_C]=t,r[wC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Ke(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class wg{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tb(),window[wb+this.uniqueCallbackIdentifier]=t,window[Eb+this.uniqueCallbackIdentifier]=n,this.myIFrame=wg.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){tt("frame writing exception"),l.stack&&tt(l.stack),tt(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||tt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[_C]=this.myID,t[wC]=this.myPW,t[EC]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+CC+r.length<=SC;){const o=this.pendingSegs.shift();r=r+"&"+Cb+i+"="+o.seg+"&"+Ib+i+"="+o.ts+"&"+Tb+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Nb)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{tt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=16384,xb=45e3;let ec=null;typeof MozWebSocket<"u"?ec=MozWebSocket:typeof WebSocket<"u"&&(ec=WebSocket);class dn{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ca(this.connId),this.stats_=_g(n),this.connURL=dn.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[aC]=yg,typeof location<"u"&&location.hostname&&dC.test(location.hostname)&&(o[cC]=hC),n&&(o[uC]=n),r&&(o[fC]=r),i&&(o[ip]=i),s&&(o[pC]=s),yC(t,mC,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,li.set("previous_websocket_failure",!0);try{let r;yE(),this.mySock=new ec(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){dn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&ec!==null&&!dn.forceDisallow_}static previouslyFailed(){return li.isInMemoryStorage||li.get("previous_websocket_failure")===!0}markConnectionHealthy(){li.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=cl(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(P(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Ke(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=oC(n,Ab);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xb))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}dn.responsesRequiredToBeHealthy=2;dn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[es,dn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=dn&&dn.isAvailable();let r=n&&!dn.previouslyFailed();if(t.webSocketOnly&&(n||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[dn];else{const i=this.transports_=[];for(const s of El.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);El.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}El.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=6e4,Ob=5e3,bb=10*1024,Mb=100*1024,Cd="t",U_="d",Lb="s",j_="r",$b="e",z_="o",B_="a",V_="n",W_="p",Fb="h";class Ub{constructor(t,n,r,i,s,o,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ca("c:"+this.id+":"),this.transportManager_=new El(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=$o(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Mb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Cd in t){const n=t[Cd];n===B_?this.upgradeIfSecondaryHealthy_():n===j_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===z_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=lo("t",t),r=lo("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:W_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:B_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:V_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=lo("t",t),r=lo("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=lo(Cd,t);if(U_ in t){const r=t[U_];if(n===Fb){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===V_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Lb?this.onConnectionShutdown_(r):n===j_?this.onReset_(r):n===$b?rp("Server Error: "+r):n===z_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rp("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yg!==r&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$o(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Db))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$o(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ob))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:W_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(li.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t){this.allowedEvents_=t,this.listeners_={},P(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){P(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends TC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tc}getInitialEvent(t){return P(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=32,G_=768;class ve{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function fe(){return new ve("")}function te(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Br(e){return e.pieces_.length-e.pieceNum_}function Ee(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ve(e.pieces_,t)}function Eg(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function jb(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Sl(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function kC(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ve(t,0)}function be(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ve)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ve(n,0)}function ne(e){return e.pieceNum_>=e.pieces_.length}function Rt(e,t){const n=te(e),r=te(t);if(n===null)return t;if(n===r)return Rt(Ee(e),Ee(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function zb(e,t){const n=Sl(e,0),r=Sl(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=xi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Sg(e,t){if(Br(e)!==Br(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Yt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Br(e)>Br(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Bb{constructor(t,n){this.errorPrefix_=n,this.parts_=Sl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Lc(this.parts_[r]);RC(this)}}function Vb(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Lc(t),RC(e)}function Wb(e){const t=e.parts_.pop();e.byteLength_-=Lc(t),e.parts_.length>0&&(e.byteLength_-=1)}function RC(e){if(e.byteLength_>G_)throw new Error(e.errorPrefix_+"has a key path longer than "+G_+" bytes ("+e.byteLength_+").");if(e.parts_.length>H_)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+H_+") or object contains a cycle "+Zr(e))}function Zr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends TC{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Cg}getInitialEvent(t){return P(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=1e3,Hb=60*5*1e3,q_=30*1e3,Gb=1.3,qb=3e4,Kb="server_kill",K_=3;class Yn extends IC{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Yn.nextPersistentConnectionId_++,this.log_=ca("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ao,this.maxReconnectDelay_=Hb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!yE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cg.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&tc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(Ke(s)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Wl,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Yn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Ln(t,"w")){const r=Cs(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||gP(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=q_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=mP(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ke(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):rp("Unrecognized action received from server: "+Ke(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ao,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ao,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>qb&&(this.reconnectDelay_=ao),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Gb)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Yn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(h){P(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?tt("getToken() completed but was canceled"):(tt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,l=new Ub(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,y=>{Et(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(Kb)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Et(h),a())}}}interrupt(t){tt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){tt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Mf(this.interruptReasons_)&&(this.reconnectDelay_=ao,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>vg(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new ve(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){tt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=K_&&(this.reconnectDelay_=q_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){tt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=K_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+rC.replace(/\./g,"-")]=1,xm()?t["framework.cordova"]=1:vE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=tc.getInstance().currentlyOnline();return Mf(this.interruptReasons_)&&t}}Yn.nextPersistentConnectionId_=0;Yn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new re(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new re(Ci,t),i=new re(Ci,n);return this.compare(r,i)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba;class NC extends nh{static get __EMPTY_NODE(){return Ba}static set __EMPTY_NODE(t){Ba=t}compare(t,n){return xi(t.name,n.name)}isDefinedOn(t){throw bs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return re.MIN}maxPost(){return new re(zr,Ba)}makePost(t,n){return P(typeof t=="string","KeyIndex indexValue must always be a string."),new re(t,Ba)}toString(){return".key"}}const br=new NC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ge{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ge.RED,this.left=i??Nt.EMPTY_NODE,this.right=s??Nt.EMPTY_NODE}copy(t,n,r,i,s){return new Ge(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Nt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ge.RED=!0;Ge.BLACK=!1;class Qb{copy(t,n,r,i,s){return this}insert(t,n,r){return new Ge(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nt{constructor(t,n=Nt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Nt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ge.BLACK,null,null))}remove(t){return new Nt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ge.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Va(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Va(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Va(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Va(this.root_,null,this.comparator_,!0,t)}}Nt.EMPTY_NODE=new Qb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(e,t){return xi(e.name,t.name)}function Ig(e,t){return xi(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp;function Xb(e){sp=e}const PC=function(e){return typeof e=="number"?"number:"+lC(e):"string:"+e},AC=function(e){if(e.isLeafNode()){const t=e.val();P(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ln(t,".sv"),"Priority must be a string or number.")}else P(e===sp||e.isEmpty(),"priority of unexpected type.");P(e===sp||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q_;class We{constructor(t,n=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),AC(this.priorityNode_)}static set __childrenNodeConstructor(t){Q_=t}static get __childrenNodeConstructor(){return Q_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new We(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ne(t)?this:te(t)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=te(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(P(r!==".priority"||Br(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ee(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+PC(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=lC(this.value_):t+=this.value_,this.lazyHash_=sC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===We.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof We.__childrenNodeConstructor?-1:(P(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=We.VALUE_TYPE_ORDER.indexOf(n),s=We.VALUE_TYPE_ORDER.indexOf(r);return P(i>=0,"Unknown leaf type: "+n),P(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xC,DC;function Jb(e){xC=e}function Zb(e){DC=e}class eM extends nh{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?xi(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return re.MIN}maxPost(){return new re(zr,new We("[PRIORITY-POST]",DC))}makePost(t,n){const r=xC(t);return new re(n,new We("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ae=new eM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=Math.log(2);class nM{constructor(t){const n=s=>parseInt(Math.log(s)/tM,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const nc=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let h,d;if(c===0)return null;if(c===1)return h=e[a],d=n?n(h):h,new Ge(d,h.node,Ge.BLACK,null,null);{const y=parseInt(c/2,10)+a,g=i(a,y),_=i(y+1,u);return h=e[y],d=n?n(h):h,new Ge(d,h.node,Ge.BLACK,g,_)}},s=function(a){let u=null,c=null,h=e.length;const d=function(g,_){const m=h-g,p=h;h-=g;const f=i(m+1,p),v=e[m],w=n?n(v):v;y(new Ge(w,v.node,_,null,f))},y=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<a.count;++g){const _=a.nextBitIsOne(),m=Math.pow(2,a.count-(g+1));_?d(m,Ge.BLACK):(d(m,Ge.BLACK),d(m,Ge.RED))}return c},o=new nM(e.length),l=s(o);return new Nt(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id;const Li={};class Kn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return P(Li&&Ae,"ChildrenNode.ts has not been loaded"),Id=Id||new Kn({".priority":Li},{".priority":Ae}),Id}get(t){const n=Cs(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Nt?n:null}hasIndex(t){return Ln(this.indexSet_,t.toString())}addIndex(t,n){P(t!==br,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(re.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=nc(r,t.getCompare()):l=Li;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new Kn(c,u)}addToIndexes(t,n){const r=zu(this.indexes_,(i,s)=>{const o=Cs(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),i===Li)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(re.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),nc(l,o.getCompare())}else return Li;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new re(t.name,l))),a.insert(t,t.node)}});return new Kn(r,this.indexSet_)}removeFromIndexes(t,n){const r=zu(this.indexes_,i=>{if(i===Li)return i;{const s=n.get(t.name);return s?i.remove(new re(t.name,s)):i}});return new Kn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo;class H{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&AC(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return uo||(uo=new H(new Nt(Ig),null,Kn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||uo}updatePriority(t){return this.children_.isEmpty()?this:new H(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?uo:n}}getChild(t){const n=te(t);return n===null?this:this.getImmediateChild(n).getChild(Ee(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(P(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new re(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?uo:this.priorityNode_;return new H(i,o,s)}}updateChild(t,n){const r=te(t);if(r===null)return n;{P(te(t)!==".priority"||Br(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ee(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ae,(o,l)=>{n[o]=l.val(t),r++,s&&H.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+PC(this.getPriority().val())+":"),this.forEachChild(Ae,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":sC(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new re(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new re(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new re(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ha?-1:0}withIndex(t){if(t===br||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new H(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===br||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ae),i=n.getIterator(Ae);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===br?null:this.indexMap_.get(t.toString())}}H.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class rM extends H{constructor(){super(new Nt(Ig),H.EMPTY_NODE,Kn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return H.EMPTY_NODE}isEmpty(){return!1}}const ha=new rM;Object.defineProperties(re,{MIN:{value:new re(Ci,H.EMPTY_NODE)},MAX:{value:new re(zr,ha)}});NC.__EMPTY_NODE=H.EMPTY_NODE;We.__childrenNodeConstructor=H;Xb(ha);Zb(ha);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=!0;function qe(e,t=null){if(e===null)return H.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),P(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new We(n,qe(t))}if(!(e instanceof Array)&&iM){const n=[];let r=!1;if(st(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=qe(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new re(o,a)))}}),n.length===0)return H.EMPTY_NODE;const s=nc(n,Yb,o=>o.name,Ig);if(r){const o=nc(n,Ae.getCompare());return new H(s,qe(t),new Kn({".priority":o},{".priority":Ae}))}else return new H(s,qe(t),Kn.Default)}else{let n=H.EMPTY_NODE;return st(e,(r,i)=>{if(Ln(e,r)&&r.substring(0,1)!=="."){const s=qe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(qe(t))}}Jb(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends nh{constructor(t){super(),this.indexPath_=t,P(!ne(t)&&te(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?xi(t.name,n.name):s}makePost(t,n){const r=qe(t),i=H.EMPTY_NODE.updateChild(this.indexPath_,r);return new re(n,i)}maxPost(){const t=H.EMPTY_NODE.updateChild(this.indexPath_,ha);return new re(zr,t)}toString(){return Sl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM extends nh{compare(t,n){const r=t.node.compareTo(n.node);return r===0?xi(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(t,n){const r=qe(t);return new re(n,r)}toString(){return".value"}}const OC=new sM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(e){return{type:"value",snapshotNode:e}}function Ts(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Cl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Il(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function oM(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){P(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(Cl(n,l)):P(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Ts(n,r)):o.trackChildChange(Il(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ae,(i,s)=>{n.hasChild(i)||r.trackChildChange(Cl(i,s))}),n.isLeafNode()||n.forEachChild(Ae,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(Il(i,s,o))}else r.trackChildChange(Ts(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?H.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t){this.indexedFilter_=new kg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Tl.getStartPost_(t),this.endPost_=Tl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new re(n,r))||(r=H.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=H.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(H.EMPTY_NODE);const s=this;return n.forEachChild(Ae,(o,l)=>{s.matches(new re(o,l))||(i=i.updateImmediateChild(o,H.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Tl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new re(n,r))||(r=H.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=H.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=H.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(H.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,H.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,y)=>h(y,d)}else o=this.index_.getCompare();const l=t;P(l.numChildren()===this.limit_,"");const a=new re(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const h=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const y=d==null?1:o(d,a);if(c&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(Il(n,r,h)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Cl(n,h));const _=l.updateImmediateChild(n,H.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(Ts(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}}else return r.isEmpty()?t:c&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Cl(u.name,u.node)),s.trackChildChange(Ts(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,H.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ci}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ae}copy(){const t=new Rg;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function aM(e){return e.loadsAllData()?new kg(e.getIndex()):e.hasLimit()?new lM(e):new Tl(e)}function uM(e,t,n){const r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function cM(e,t,n){const r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function MC(e,t){const n=e.copy();return n.index_=t,n}function Y_(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ae?n="$priority":e.index_===OC?n="$value":e.index_===br?n="$key":(P(e.index_ instanceof Tg,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ke(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Ke(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Ke(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Ke(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Ke(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function X_(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ae&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends IC{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ca("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(P(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=rc.getListenId_(t,r),l={};this.listens_[o]=l;const a=Y_(t._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Cs(this.listens_,o)===l){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(t,n){const r=rc.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Y_(t._queryParams),r=t._path.toString(),i=new Wl;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ms(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=cl(l.responseText)}catch{Et("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Et("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(){return{value:null,children:new Map}}function LC(e,t,n){if(ne(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=te(t);e.children.has(r)||e.children.set(r,ic());const i=e.children.get(r);t=Ee(t),LC(i,t,n)}}function op(e,t,n){e.value!==null?n(t,e.value):dM(e,(r,i)=>{const s=new ve(t.toString()+"/"+r);op(i,s,n)})}function dM(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&st(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=10*1e3,pM=30*1e3,mM=5*60*1e3;class gM{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fM(t);const r=J_+(pM-J_)*Math.random();$o(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;st(t,(i,s)=>{s>0&&Ln(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),$o(this.reportStats_.bind(this),Math.floor(Math.random()*2*mM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fn||(fn={}));function Ng(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Pg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ag(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=fn.ACK_USER_WRITE,this.source=Ng()}operationForChild(t){if(ne(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ve(t));return new sc(fe(),n,this.revert)}}else return P(te(this.path)===t,"operationForChild called for unrelated child."),new sc(Ee(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n){this.source=t,this.path=n,this.type=fn.LISTEN_COMPLETE}operationForChild(t){return ne(this.path)?new kl(this.source,fe()):new kl(this.source,Ee(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=fn.OVERWRITE}operationForChild(t){return ne(this.path)?new Ii(this.source,fe(),this.snap.getImmediateChild(t)):new Ii(this.source,Ee(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=fn.MERGE}operationForChild(t){if(ne(this.path)){const n=this.children.subtree(new ve(t));return n.isEmpty()?null:n.value?new Ii(this.source,fe(),n.value):new ks(this.source,fe(),n)}else return P(te(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ks(this.source,Ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ne(t))return this.isFullyInitialized()&&!this.filtered_;const n=te(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function yM(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(oM(o.childName,o.snapshotNode))}),co(e,i,"child_removed",t,r,n),co(e,i,"child_added",t,r,n),co(e,i,"child_moved",s,r,n),co(e,i,"child_changed",t,r,n),co(e,i,"value",t,r,n),i}function co(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>wM(e,l,a)),o.forEach(l=>{const a=_M(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function _M(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function wM(e,t,n){if(t.childName==null||n.childName==null)throw bs("Should only compare child_ events.");const r=new re(t.childName,t.snapshotNode),i=new re(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(e,t){return{eventCache:e,serverCache:t}}function Fo(e,t,n,r){return rh(new Ti(t,n,r),e.serverCache)}function $C(e,t,n,r){return rh(e.eventCache,new Ti(t,n,r))}function lp(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ki(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td;const EM=()=>(Td||(Td=new Nt(sb)),Td);class we{constructor(t,n=EM()){this.value=t,this.children=n}static fromObject(t){let n=new we(null);return st(t,(r,i)=>{n=n.set(new ve(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:fe(),value:this.value};if(ne(t))return null;{const r=te(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ee(t),n);return s!=null?{path:be(new ve(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ne(t))return this;{const n=te(t),r=this.children.get(n);return r!==null?r.subtree(Ee(t)):new we(null)}}set(t,n){if(ne(t))return new we(n,this.children);{const r=te(t),s=(this.children.get(r)||new we(null)).set(Ee(t),n),o=this.children.insert(r,s);return new we(this.value,o)}}remove(t){if(ne(t))return this.children.isEmpty()?new we(null):new we(null,this.children);{const n=te(t),r=this.children.get(n);if(r){const i=r.remove(Ee(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new we(null):new we(this.value,s)}else return this}}get(t){if(ne(t))return this.value;{const n=te(t),r=this.children.get(n);return r?r.get(Ee(t)):null}}setTree(t,n){if(ne(t))return n;{const r=te(t),s=(this.children.get(r)||new we(null)).setTree(Ee(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new we(this.value,o)}}fold(t){return this.fold_(fe(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(be(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,fe(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ne(t))return null;{const s=te(t),o=this.children.get(s);return o?o.findOnPath_(Ee(t),be(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,fe(),n)}foreachOnPath_(t,n,r){if(ne(t))return this;{this.value&&r(n,this.value);const i=te(t),s=this.children.get(i);return s?s.foreachOnPath_(Ee(t),be(n,i),r):new we(null)}}foreach(t){this.foreach_(fe(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.writeTree_=t}static empty(){return new vn(new we(null))}}function Uo(e,t,n){if(ne(t))return new vn(new we(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Rt(i,t);return s=s.updateChild(o,n),new vn(e.writeTree_.set(i,s))}else{const i=new we(n),s=e.writeTree_.setTree(t,i);return new vn(s)}}}function ap(e,t,n){let r=e;return st(n,(i,s)=>{r=Uo(r,be(t,i),s)}),r}function Z_(e,t){if(ne(t))return vn.empty();{const n=e.writeTree_.setTree(t,new we(null));return new vn(n)}}function up(e,t){return Di(e,t)!=null}function Di(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Rt(n.path,t)):null}function e0(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ae,(r,i)=>{t.push(new re(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new re(r,i.value))}),t}function Mr(e,t){if(ne(t))return e;{const n=Di(e,t);return n!=null?new vn(new we(n)):new vn(e.writeTree_.subtree(t))}}function cp(e){return e.writeTree_.isEmpty()}function Rs(e,t){return FC(fe(),e.writeTree_,t)}function FC(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(P(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=FC(be(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(be(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(e,t){return BC(t,e)}function SM(e,t,n,r,i){P(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Uo(e.visibleWrites,t,n)),e.lastWriteId=r}function CM(e,t,n,r){P(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=ap(e.visibleWrites,t,n),e.lastWriteId=r}function IM(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function TM(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);P(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&kM(l,r.path)?i=!1:Yt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return RM(e),!0;if(r.snap)e.visibleWrites=Z_(e.visibleWrites,r.path);else{const l=r.children;st(l,a=>{e.visibleWrites=Z_(e.visibleWrites,be(r.path,a))})}return!0}else return!1}function kM(e,t){if(e.snap)return Yt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Yt(be(e.path,n),t))return!0;return!1}function RM(e){e.visibleWrites=UC(e.allWrites,NM,fe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function NM(e){return e.visible}function UC(e,t,n){let r=vn.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)Yt(n,o)?(l=Rt(n,o),r=Uo(r,l,s.snap)):Yt(o,n)&&(l=Rt(o,n),r=Uo(r,fe(),s.snap.getChild(l)));else if(s.children){if(Yt(n,o))l=Rt(n,o),r=ap(r,l,s.children);else if(Yt(o,n))if(l=Rt(o,n),ne(l))r=ap(r,fe(),s.children);else{const a=Cs(s.children,te(l));if(a){const u=a.getChild(Ee(l));r=Uo(r,fe(),u)}}}else throw bs("WriteRecord should have .snap or .children")}}return r}function jC(e,t,n,r,i){if(!r&&!i){const s=Di(e.visibleWrites,t);if(s!=null)return s;{const o=Mr(e.visibleWrites,t);if(cp(o))return n;if(n==null&&!up(o,fe()))return null;{const l=n||H.EMPTY_NODE;return Rs(o,l)}}}else{const s=Mr(e.visibleWrites,t);if(!i&&cp(s))return n;if(!i&&n==null&&!up(s,fe()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Yt(u.path,t)||Yt(t,u.path))},l=UC(e.allWrites,o,t),a=n||H.EMPTY_NODE;return Rs(l,a)}}}function PM(e,t,n){let r=H.EMPTY_NODE;const i=Di(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ae,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Mr(e.visibleWrites,t);return n.forEachChild(Ae,(o,l)=>{const a=Rs(Mr(s,new ve(o)),l);r=r.updateImmediateChild(o,a)}),e0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Mr(e.visibleWrites,t);return e0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function AM(e,t,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=be(t,n);if(up(e.visibleWrites,s))return null;{const o=Mr(e.visibleWrites,s);return cp(o)?i.getChild(n):Rs(o,i.getChild(n))}}function xM(e,t,n,r){const i=be(t,n),s=Di(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Mr(e.visibleWrites,i);return Rs(o,r.getNode().getImmediateChild(n))}else return null}function DM(e,t){return Di(e.visibleWrites,t)}function OM(e,t,n,r,i,s,o){let l;const a=Mr(e.visibleWrites,t),u=Di(a,fe());if(u!=null)l=u;else if(n!=null)l=Rs(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],h=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let y=d.getNext();for(;y&&c.length<i;)h(y,r)!==0&&c.push(y),y=d.getNext();return c}else return[]}function bM(){return{visibleWrites:vn.empty(),allWrites:[],lastWriteId:-1}}function oc(e,t,n,r){return jC(e.writeTree,e.treePath,t,n,r)}function Dg(e,t){return PM(e.writeTree,e.treePath,t)}function t0(e,t,n,r){return AM(e.writeTree,e.treePath,t,n,r)}function lc(e,t){return DM(e.writeTree,be(e.treePath,t))}function MM(e,t,n,r,i,s){return OM(e.writeTree,e.treePath,t,n,r,i,s)}function Og(e,t,n){return xM(e.writeTree,e.treePath,t,n)}function zC(e,t){return BC(be(e.treePath,t),e.writeTree)}function BC(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;P(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),P(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Il(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Cl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ts(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Il(r,t.snapshotNode,i.oldSnap));else throw bs("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const VC=new $M;class bg{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Ti(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Og(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ki(this.viewCache_),s=MM(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(e){return{filter:e}}function UM(e,t){P(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),P(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function jM(e,t,n,r,i){const s=new LM;let o,l;if(n.type===fn.OVERWRITE){const u=n;u.source.fromUser?o=hp(e,t,u.path,u.snap,r,i,s):(P(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!ne(u.path),o=ac(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===fn.MERGE){const u=n;u.source.fromUser?o=BM(e,t,u.path,u.children,r,i,s):(P(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=dp(e,t,u.path,u.children,r,i,l,s))}else if(n.type===fn.ACK_USER_WRITE){const u=n;u.revert?o=HM(e,t,u.path,r,i,s):o=VM(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===fn.LISTEN_COMPLETE)o=WM(e,t,n.path,r,s);else throw bs("Unknown operation type: "+n.type);const a=s.getChanges();return zM(t,o,a),{viewCache:o,changes:a}}function zM(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=lp(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(bC(lp(t)))}}function WC(e,t,n,r,i,s){const o=t.eventCache;if(lc(r,n)!=null)return t;{let l,a;if(ne(n))if(P(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=ki(t),c=u instanceof H?u:H.EMPTY_NODE,h=Dg(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),h,s)}else{const u=oc(r,ki(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=te(n);if(u===".priority"){P(Br(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=t.serverCache.getNode();const h=t0(r,n,c,a);h!=null?l=e.filter.updatePriority(c,h):l=o.getNode()}else{const c=Ee(n);let h;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const d=t0(r,n,o.getNode(),a);d!=null?h=o.getNode().getImmediateChild(u).updateChild(c,d):h=o.getNode().getImmediateChild(u)}else h=Og(r,u,t.serverCache);h!=null?l=e.filter.updateChild(o.getNode(),u,h,c,i,s):l=o.getNode()}}return Fo(t,l,o.isFullyInitialized()||ne(n),e.filter.filtersNodes())}}function ac(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(ne(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const y=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),y,null)}else{const y=te(n);if(!a.isCompleteForPath(n)&&Br(n)>1)return t;const g=Ee(n),m=a.getNode().getImmediateChild(y).updateChild(g,r);y===".priority"?u=c.updatePriority(a.getNode(),m):u=c.updateChild(a.getNode(),y,m,g,VC,null)}const h=$C(t,u,a.isFullyInitialized()||ne(n),c.filtersNodes()),d=new bg(i,h,s);return WC(e,h,n,i,d,l)}function hp(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const c=new bg(i,t,s);if(ne(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=Fo(t,u,!0,e.filter.filtersNodes());else{const h=te(n);if(h===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=Fo(t,u,l.isFullyInitialized(),l.isFiltered());else{const d=Ee(n),y=l.getNode().getImmediateChild(h);let g;if(ne(d))g=r;else{const _=c.getCompleteChild(h);_!=null?Eg(d)===".priority"&&_.getChild(kC(d)).isEmpty()?g=_:g=_.updateChild(d,r):g=H.EMPTY_NODE}if(y.equals(g))a=t;else{const _=e.filter.updateChild(l.getNode(),h,g,d,c,o);a=Fo(t,_,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function n0(e,t){return e.eventCache.isCompleteForChild(t)}function BM(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const c=be(n,a);n0(t,te(c))&&(l=hp(e,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=be(n,a);n0(t,te(c))||(l=hp(e,l,c,u,i,s,o))}),l}function r0(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function dp(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;ne(n)?u=r:u=new we(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((h,d)=>{if(c.hasChild(h)){const y=t.serverCache.getNode().getImmediateChild(h),g=r0(e,y,d);a=ac(e,a,new ve(h),g,i,s,o,l)}}),u.children.inorderTraversal((h,d)=>{const y=!t.serverCache.isCompleteForChild(h)&&d.value===null;if(!c.hasChild(h)&&!y){const g=t.serverCache.getNode().getImmediateChild(h),_=r0(e,g,d);a=ac(e,a,new ve(h),_,i,s,o,l)}}),a}function VM(e,t,n,r,i,s,o){if(lc(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(ne(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return ac(e,t,n,a.getNode().getChild(n),i,s,l,o);if(ne(n)){let u=new we(null);return a.getNode().forEachChild(br,(c,h)=>{u=u.set(new ve(c),h)}),dp(e,t,n,u,i,s,l,o)}else return t}else{let u=new we(null);return r.foreach((c,h)=>{const d=be(n,c);a.isCompleteForPath(d)&&(u=u.set(c,a.getNode().getChild(d)))}),dp(e,t,n,u,i,s,l,o)}}function WM(e,t,n,r,i){const s=t.serverCache,o=$C(t,s.getNode(),s.isFullyInitialized()||ne(n),s.isFiltered());return WC(e,o,n,r,VC,i)}function HM(e,t,n,r,i,s){let o;if(lc(r,n)!=null)return t;{const l=new bg(r,t,i),a=t.eventCache.getNode();let u;if(ne(n)||te(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=oc(r,ki(t));else{const h=t.serverCache.getNode();P(h instanceof H,"serverChildren would be complete if leaf node"),c=Dg(r,h)}c=c,u=e.filter.updateFullNode(a,c,s)}else{const c=te(n);let h=Og(r,c,t.serverCache);h==null&&t.serverCache.isCompleteForChild(c)&&(h=a.getImmediateChild(c)),h!=null?u=e.filter.updateChild(a,c,h,Ee(n),l,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,H.EMPTY_NODE,Ee(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=oc(r,ki(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||lc(r,fe())!=null,Fo(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new kg(r.getIndex()),s=aM(r);this.processor_=FM(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(H.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(H.EMPTY_NODE,l.getNode(),null),c=new Ti(a,o.isFullyInitialized(),i.filtersNodes()),h=new Ti(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=rh(h,c),this.eventGenerator_=new vM(this.query_)}get query(){return this.query_}}function qM(e){return e.viewCache_.serverCache.getNode()}function KM(e,t){const n=ki(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ne(t)&&!n.getImmediateChild(te(t)).isEmpty())?n.getChild(t):null}function i0(e){return e.eventRegistrations_.length===0}function QM(e,t){e.eventRegistrations_.push(t)}function s0(e,t,n){const r=[];if(n){P(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function o0(e,t,n,r){t.type===fn.MERGE&&t.source.queryId!==null&&(P(ki(e.viewCache_),"We should always have a full cache before handling merges"),P(lp(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=jM(e.processor_,i,t,n,r);return UM(e.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,HC(e,s.changes,s.viewCache.eventCache.getNode(),null)}function YM(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ae,(s,o)=>{r.push(Ts(s,o))}),n.isFullyInitialized()&&r.push(bC(n.getNode())),HC(e,r,n.getNode(),t)}function HC(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return yM(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc;class XM{constructor(){this.views=new Map}}function JM(e){P(!uc,"__referenceConstructor has already been defined"),uc=e}function ZM(){return P(uc,"Reference.ts has not been loaded"),uc}function eL(e){return e.views.size===0}function Mg(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return P(s!=null,"SyncTree gave us an op for an invalid query."),o0(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(o0(o,t,n,r));return s}}function tL(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=oc(n,i?r:null),a=!1;l?a=!0:r instanceof H?(l=Dg(n,r),a=!1):(l=H.EMPTY_NODE,a=!1);const u=rh(new Ti(l,a,!1),new Ti(r,i,!1));return new GM(t,u)}return o}function nL(e,t,n,r,i,s){const o=tL(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),QM(o,n),YM(o,n)}function rL(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=Vr(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(s0(u,n,r)),i0(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(s0(a,n,r)),i0(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Vr(e)&&s.push(new(ZM())(t._repo,t._path)),{removed:s,events:o}}function GC(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function fs(e,t){let n=null;for(const r of e.views.values())n=n||KM(r,t);return n}function qC(e,t){if(t._queryParams.loadsAllData())return ih(e);{const r=t._queryIdentifier;return e.views.get(r)}}function KC(e,t){return qC(e,t)!=null}function Vr(e){return ih(e)!=null}function ih(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc;function iL(e){P(!cc,"__referenceConstructor has already been defined"),cc=e}function sL(){return P(cc,"Reference.ts has not been loaded"),cc}let oL=1;class l0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new we(null),this.pendingWriteTree_=bM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function QC(e,t,n,r,i){return SM(e.pendingWriteTree_,t,n,r,i),i?Bs(e,new Ii(Ng(),t,n)):[]}function lL(e,t,n,r){CM(e.pendingWriteTree_,t,n,r);const i=we.fromObject(n);return Bs(e,new ks(Ng(),t,i))}function wr(e,t,n=!1){const r=IM(e.pendingWriteTree_,t);if(TM(e.pendingWriteTree_,t)){let s=new we(null);return r.snap!=null?s=s.set(fe(),!0):st(r.children,o=>{s=s.set(new ve(o),!0)}),Bs(e,new sc(r.path,s,n))}else return[]}function sh(e,t,n){return Bs(e,new Ii(Pg(),t,n))}function aL(e,t,n){const r=we.fromObject(n);return Bs(e,new ks(Pg(),t,r))}function uL(e,t){return Bs(e,new kl(Pg(),t))}function cL(e,t,n){const r=$g(e,n);if(r){const i=Fg(r),s=i.path,o=i.queryId,l=Rt(s,t),a=new kl(Ag(o),l);return Ug(e,s,a)}else return[]}function fp(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||KC(o,t))){const a=rL(o,t,n,r);eL(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=e.syncPointTree_.findOnPath(s,(d,y)=>Vr(y));if(c&&!h){const d=e.syncPointTree_.subtree(s);if(!d.isEmpty()){const y=fL(d);for(let g=0;g<y.length;++g){const _=y[g],m=_.query,p=JC(e,_);e.listenProvider_.startListening(jo(m),hc(e,m),p.hashFn,p.onComplete)}}}!h&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(jo(t),null):u.forEach(d=>{const y=e.queryToTagMap.get(oh(d));e.listenProvider_.stopListening(jo(d),y)}))}pL(e,u)}return l}function hL(e,t,n,r){const i=$g(e,r);if(i!=null){const s=Fg(i),o=s.path,l=s.queryId,a=Rt(o,t),u=new Ii(Ag(l),a,n);return Ug(e,o,u)}else return[]}function dL(e,t,n,r){const i=$g(e,r);if(i){const s=Fg(i),o=s.path,l=s.queryId,a=Rt(o,t),u=we.fromObject(n),c=new ks(Ag(l),a,u);return Ug(e,o,c)}else return[]}function a0(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(d,y)=>{const g=Rt(d,i);s=s||fs(y,g),o=o||Vr(y)});let l=e.syncPointTree_.get(i);l?(o=o||Vr(l),s=s||fs(l,fe())):(l=new XM,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=H.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((y,g)=>{const _=fs(g,fe());_&&(s=s.updateImmediateChild(y,_))}));const u=KC(l,t);if(!u&&!t._queryParams.loadsAllData()){const d=oh(t);P(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");const y=mL();e.queryToTagMap.set(d,y),e.tagToQueryMap.set(y,d)}const c=xg(e.pendingWriteTree_,i);let h=nL(l,t,n,c,s,a);if(!u&&!o&&!r){const d=qC(l,t);h=h.concat(gL(e,t,d))}return h}function Lg(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=Rt(o,t),u=fs(l,a);if(u)return u});return jC(i,t,s,n,!0)}function Bs(e,t){return YC(t,e.syncPointTree_,null,xg(e.pendingWriteTree_,fe()))}function YC(e,t,n,r){if(ne(e.path))return XC(e,t,n,r);{const i=t.get(fe());n==null&&i!=null&&(n=fs(i,fe()));let s=[];const o=te(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=zC(r,o);s=s.concat(YC(l,a,u,c))}return i&&(s=s.concat(Mg(i,e,r,n))),s}}function XC(e,t,n,r){const i=t.get(fe());n==null&&i!=null&&(n=fs(i,fe()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=zC(r,o),c=e.operationForChild(o);c&&(s=s.concat(XC(c,l,a,u)))}),i&&(s=s.concat(Mg(i,e,r,n))),s}function JC(e,t){const n=t.query,r=hc(e,n);return{hashFn:()=>(qM(t)||H.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?cL(e,n._path,r):uL(e,n._path);{const s=ab(i,n);return fp(e,n,null,s)}}}}function hc(e,t){const n=oh(t);return e.queryToTagMap.get(n)}function oh(e){return e._path.toString()+"$"+e._queryIdentifier}function $g(e,t){return e.tagToQueryMap.get(t)}function Fg(e){const t=e.indexOf("$");return P(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ve(e.substr(0,t))}}function Ug(e,t,n){const r=e.syncPointTree_.get(t);P(r,"Missing sync point for query tag that we're tracking");const i=xg(e.pendingWriteTree_,t);return Mg(r,n,i,null)}function fL(e){return e.fold((t,n,r)=>{if(n&&Vr(n))return[ih(n)];{let i=[];return n&&(i=GC(n)),st(r,(s,o)=>{i=i.concat(o)}),i}})}function jo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(sL())(e._repo,e._path):e}function pL(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=oh(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function mL(){return oL++}function gL(e,t,n){const r=t._path,i=hc(e,t),s=JC(e,n),o=e.listenProvider_.startListening(jo(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)P(!Vr(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,h)=>{if(!ne(u)&&c&&Vr(c))return[ih(c).query];{let d=[];return c&&(d=d.concat(GC(c).map(y=>y.query))),st(h,(y,g)=>{d=d.concat(g)}),d}});for(let u=0;u<a.length;++u){const c=a[u];e.listenProvider_.stopListening(jo(c),hc(e,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new jg(n)}node(){return this.node_}}class zg{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=be(this.path_,t);return new zg(this.syncTree_,n)}node(){return Lg(this.syncTree_,this.path_)}}const vL=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},u0=function(e,t,n){if(!e||typeof e!="object")return e;if(P(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return yL(e[".sv"],t,n);if(typeof e[".sv"]=="object")return _L(e[".sv"],t);P(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},yL=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:P(!1,"Unexpected server value: "+e)}},_L=function(e,t,n){e.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&P(!1,"Unexpected increment value: "+r);const i=t.node();if(P(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},ZC=function(e,t,n,r){return Bg(t,new zg(n,e),r)},eI=function(e,t,n){return Bg(e,new jg(t),n)};function Bg(e,t,n){const r=e.getPriority().val(),i=u0(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=u0(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new We(l,qe(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new We(i))),o.forEachChild(Ae,(l,a)=>{const u=Bg(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Wg(e,t){let n=t instanceof ve?t:new ve(t),r=e,i=te(n);for(;i!==null;){const s=Cs(r.node.children,i)||{children:{},childCount:0};r=new Vg(i,r,s),n=Ee(n),i=te(n)}return r}function Vs(e){return e.node.value}function tI(e,t){e.node.value=t,pp(e)}function nI(e){return e.node.childCount>0}function wL(e){return Vs(e)===void 0&&!nI(e)}function lh(e,t){st(e.node.children,(n,r)=>{t(new Vg(n,e,r))})}function rI(e,t,n,r){n&&!r&&t(e),lh(e,i=>{rI(i,t,!0,r)}),n&&r&&t(e)}function EL(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function da(e){return new ve(e.parent===null?e.name:da(e.parent)+"/"+e.name)}function pp(e){e.parent!==null&&SL(e.parent,e.name,e)}function SL(e,t,n){const r=wL(n),i=Ln(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,pp(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,pp(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=/[\[\].#$\/\u0000-\u001F\u007F]/,IL=/[\[\].#$\u0000-\u001F\u007F]/,kd=10*1024*1024,ah=function(e){return typeof e=="string"&&e.length!==0&&!CL.test(e)},iI=function(e){return typeof e=="string"&&e.length!==0&&!IL.test(e)},TL=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),iI(e)},mp=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!gg(e)||e&&typeof e=="object"&&Ln(e,".sv")},fa=function(e,t,n,r){r&&t===void 0||uh(Gl(e,"value"),t,n)},uh=function(e,t,n){const r=n instanceof ve?new Bb(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Zr(r));if(typeof t=="function")throw new Error(e+"contains a function "+Zr(r)+" with contents = "+t.toString());if(gg(t))throw new Error(e+"contains "+t.toString()+" "+Zr(r));if(typeof t=="string"&&t.length>kd/3&&Lc(t)>kd)throw new Error(e+"contains a string greater than "+kd+" utf8 bytes "+Zr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(st(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!ah(o)))throw new Error(e+" contains an invalid key ("+o+") "+Zr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Vb(r,o),uh(e,l,r),Wb(r)}),i&&s)throw new Error(e+' contains ".value" child '+Zr(r)+" in addition to actual children.")}},kL=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=Sl(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!ah(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(zb);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Yt(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},RL=function(e,t,n,r){if(r&&t===void 0)return;const i=Gl(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];st(t,(o,l)=>{const a=new ve(o);if(uh(i,l,be(n,a)),Eg(a)===".priority"&&!mp(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),kL(i,s)},NL=function(e,t,n,r){if(!(r&&n===void 0)&&!ah(n))throw new Error(Gl(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Hg=function(e,t,n,r){if(!(r&&n===void 0)&&!iI(n))throw new Error(Gl(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},PL=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Hg(e,t,n,r)},Gg=function(e,t){if(te(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},AL=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!ah(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!TL(n))throw new Error(Gl(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ch(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!Sg(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function sI(e,t,n){ch(e,n),oI(e,r=>Sg(r,t))}function wn(e,t,n){ch(e,n),oI(e,r=>Yt(r,t)||Yt(t,r))}function oI(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(DL(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function DL(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();di&&tt("event: "+n.toString()),zs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="repo_interrupt",bL=25;class ML{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ic(),this.transactionQueueTree_=new Vg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function LL(e,t,n){if(e.stats_=_g(e.repoInfo_),e.forceRestClient_||db())e.server_=new rc(e.repoInfo_,(r,i,s,o)=>{c0(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>h0(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Yn(e.repoInfo_,t,(r,i,s,o)=>{c0(e,r,i,s,o)},r=>{h0(e,r)},r=>{$L(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=vb(e.repoInfo_,()=>new gM(e.stats_,e.server_)),e.infoData_=new hM,e.infoSyncTree_=new l0({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=sh(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),qg(e,"connected",!1),e.serverSyncTree_=new l0({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);wn(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function lI(e){const n=e.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hh(e){return vL({timestamp:lI(e)})}function c0(e,t,n,r,i){e.dataUpdateCount++;const s=new ve(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=zu(n,u=>qe(u));o=dL(e.serverSyncTree_,s,a,i)}else{const a=qe(n);o=hL(e.serverSyncTree_,s,a,i)}else if(r){const a=zu(n,u=>qe(u));o=aL(e.serverSyncTree_,s,a)}else{const a=qe(n);o=sh(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Ns(e,s)),wn(e.eventQueue_,l,o)}function h0(e,t){qg(e,"connected",t),t===!1&&jL(e)}function $L(e,t){st(t,(n,r)=>{qg(e,n,r)})}function qg(e,t,n){const r=new ve("/.info/"+t),i=qe(n);e.infoData_.updateSnapshot(r,i);const s=sh(e.infoSyncTree_,r,i);wn(e.eventQueue_,r,s)}function Kg(e){return e.nextWriteId_++}function FL(e,t,n,r,i){dh(e,"set",{path:t.toString(),value:n,priority:r});const s=hh(e),o=qe(n,r),l=Lg(e.serverSyncTree_,t),a=eI(o,l,s),u=Kg(e),c=QC(e.serverSyncTree_,t,a,u,!0);ch(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(d,y)=>{const g=d==="ok";g||Et("set at "+t+" failed: "+d);const _=wr(e.serverSyncTree_,u,!g);wn(e.eventQueue_,t,_),gp(e,i,d,y)});const h=Yg(e,t);Ns(e,h),wn(e.eventQueue_,h,[])}function UL(e,t,n,r){dh(e,"update",{path:t.toString(),value:n});let i=!0;const s=hh(e),o={};if(st(n,(l,a)=>{i=!1,o[l]=ZC(be(t,l),qe(a),e.serverSyncTree_,s)}),i)tt("update() called with empty data.  Don't do anything."),gp(e,r,"ok",void 0);else{const l=Kg(e),a=lL(e.serverSyncTree_,t,o,l);ch(e.eventQueue_,a),e.server_.merge(t.toString(),n,(u,c)=>{const h=u==="ok";h||Et("update at "+t+" failed: "+u);const d=wr(e.serverSyncTree_,l,!h),y=d.length>0?Ns(e,t):t;wn(e.eventQueue_,y,d),gp(e,r,u,c)}),st(n,u=>{const c=Yg(e,be(t,u));Ns(e,c)}),wn(e.eventQueue_,t,[])}}function jL(e){dh(e,"onDisconnectEvents");const t=hh(e),n=ic();op(e.onDisconnect_,fe(),(i,s)=>{const o=ZC(i,s,e.serverSyncTree_,t);LC(n,i,o)});let r=[];op(n,fe(),(i,s)=>{r=r.concat(sh(e.serverSyncTree_,i,s));const o=Yg(e,i);Ns(e,o)}),e.onDisconnect_=ic(),wn(e.eventQueue_,fe(),r)}function zL(e,t,n){let r;te(t._path)===".info"?r=a0(e.infoSyncTree_,t,n):r=a0(e.serverSyncTree_,t,n),sI(e.eventQueue_,t._path,r)}function d0(e,t,n){let r;te(t._path)===".info"?r=fp(e.infoSyncTree_,t,n):r=fp(e.serverSyncTree_,t,n),sI(e.eventQueue_,t._path,r)}function BL(e){e.persistentConnection_&&e.persistentConnection_.interrupt(OL)}function dh(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),tt(n,...t)}function gp(e,t,n,r){t&&zs(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function aI(e,t,n){return Lg(e.serverSyncTree_,t,n)||H.EMPTY_NODE}function Qg(e,t=e.transactionQueueTree_){if(t||fh(e,t),Vs(t)){const n=cI(e,t);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&VL(e,da(t),n)}else nI(t)&&lh(t,n=>{Qg(e,n)})}function VL(e,t,n){const r=n.map(u=>u.currentWriteId),i=aI(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];P(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=Rt(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{dh(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(wr(e.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();fh(e,Wg(e.transactionQueueTree_,t)),Qg(e,e.transactionQueueTree_),wn(e.eventQueue_,t,c);for(let d=0;d<h.length;d++)zs(h[d])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Et("transaction at "+a.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Ns(e,t)}},o)}function Ns(e,t){const n=uI(e,t),r=da(n),i=cI(e,n);return WL(e,i,r),r}function WL(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=Rt(n,a.path);let c=!1,h;if(P(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,h=a.abortReason,i=i.concat(wr(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=bL)c=!0,h="maxretry",i=i.concat(wr(e.serverSyncTree_,a.currentWriteId,!0));else{const d=aI(e,a.path,o);a.currentInputSnapshot=d;const y=t[l].update(d.val());if(y!==void 0){uh("transaction failed: Data returned ",y,a.path);let g=qe(y);typeof y=="object"&&y!=null&&Ln(y,".priority")||(g=g.updatePriority(d.getPriority()));const m=a.currentWriteId,p=hh(e),f=eI(g,d,p);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=f,a.currentWriteId=Kg(e),o.splice(o.indexOf(m),1),i=i.concat(QC(e.serverSyncTree_,a.path,f,a.currentWriteId,a.applyLocally)),i=i.concat(wr(e.serverSyncTree_,m,!0))}else c=!0,h="nodata",i=i.concat(wr(e.serverSyncTree_,a.currentWriteId,!0))}wn(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(d){setTimeout(d,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(h==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(h),!1,null))))}fh(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)zs(r[l]);Qg(e,e.transactionQueueTree_)}function uI(e,t){let n,r=e.transactionQueueTree_;for(n=te(t);n!==null&&Vs(r)===void 0;)r=Wg(r,n),t=Ee(t),n=te(t);return r}function cI(e,t){const n=[];return hI(e,t,n),n.sort((r,i)=>r.order-i.order),n}function hI(e,t,n){const r=Vs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);lh(t,i=>{hI(e,i,n)})}function fh(e,t){const n=Vs(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,tI(t,n.length>0?n:void 0)}lh(t,r=>{fh(e,r)})}function Yg(e,t){const n=da(uI(e,t)),r=Wg(e.transactionQueueTree_,t);return EL(r,i=>{Rd(e,i)}),Rd(e,r),rI(r,i=>{Rd(e,i)}),n}function Rd(e,t){const n=Vs(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(P(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(wr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?tI(t,void 0):n.length=s+1,wn(e.eventQueue_,da(t),i);for(let o=0;o<r.length;o++)zs(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function GL(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Et(`Invalid query segment '${n}' in query '${e}'`)}return t}const f0=function(e,t){const n=qL(e),r=n.namespace;n.domain==="firebase.com"&&rr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&rr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rb();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new vC(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ve(n.pathString)}},qL=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let h=e.indexOf("?");h===-1&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=HL(e.substring(c,h)));const d=GL(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const y=t.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",KL=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=p0.charAt(n%64),n=Math.floor(n/64);P(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=p0.charAt(t[i]);return P(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class fI{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ne(this._path)?null:Eg(this._path)}get ref(){return new or(this._repo,this._path)}get _queryIdentifier(){const t=X_(this._queryParams),n=vg(t);return n==="{}"?"default":n}get _queryObject(){return X_(this._queryParams)}isEqual(t){if(t=Dt(t),!(t instanceof Oi))return!1;const n=this._repo===t._repo,r=Sg(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+jb(this._path)}}function pI(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ph(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===br){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Ci)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==zr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Ae){if(t!=null&&!mp(t)||n!=null&&!mp(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(P(e.getIndex()instanceof Tg||e.getIndex()===OC,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function mI(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class or extends Oi{constructor(t,n){super(t,n,new Rg,!1)}get parent(){const t=kC(this._path);return t===null?null:new or(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Rl{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ve(t),r=Ps(this.ref,t);return new Rl(this._node.getChild(n),r,Ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Rl(i,Ps(this.ref,r),Ae)))}hasChild(t){const n=new ve(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function et(e,t){return e=Dt(e),e._checkNotDeleted("ref"),t!==void 0?Ps(e._root,t):e._root}function Ps(e,t){return e=Dt(e),te(e._path)===null?PL("child","path",t,!1):Hg("child","path",t,!1),new or(e._repo,be(e._path,t))}function YL(e,t){e=Dt(e),Gg("push",e._path),fa("push",t,e._path,!0);const n=lI(e._repo),r=KL(n),i=Ps(e,r),s=Ps(e,r);let o;return t!=null?o=Xg(s,t).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function XL(e){return Gg("remove",e._path),Xg(e,null)}function Xg(e,t){e=Dt(e),Gg("set",e._path),fa("set",t,e._path,!1);const n=new Wl;return FL(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function ho(e,t){RL("update",t,e._path,!1);const n=new Wl;return UL(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class Jg{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new dI("value",this,new Rl(t.snapshotNode,new or(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new fI(this,t,n):null}matches(t){return t instanceof Jg?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Zg{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new fI(this,t,n):null}createEvent(t,n){P(t.childName!=null,"Child events should have a childName.");const r=Ps(new or(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new dI(t.type,this,new Rl(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Zg?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function JL(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(c,h)=>{d0(e._repo,e,l),a(c,h)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new QL(n,s||void 0),l=t==="value"?new Jg(o):new Zg(t,o);return zL(e._repo,e,l),()=>d0(e._repo,e,l)}function bt(e,t,n,r){return JL(e,"value",t,n,r)}class pa{}class ZL extends pa{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){fa("endAt",this._value,t._path,!0);const n=cM(t._queryParams,this._value,this._key);if(mI(n),ph(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Oi(t._repo,t._path,n,t._orderByCalled)}}class e2 extends pa{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){fa("startAt",this._value,t._path,!0);const n=uM(t._queryParams,this._value,this._key);if(mI(n),ph(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Oi(t._repo,t._path,n,t._orderByCalled)}}class t2 extends pa{constructor(t){super(),this._path=t}_apply(t){pI(t,"orderByChild");const n=new ve(this._path);if(ne(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Tg(n),i=MC(t._queryParams,r);return ph(i),new Oi(t._repo,t._path,i,!0)}}function vp(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Hg("orderByChild","path",e,!1),new t2(e)}class n2 extends pa{_apply(t){pI(t,"orderByKey");const n=MC(t._queryParams,br);return ph(n),new Oi(t._repo,t._path,n,!0)}}function r2(){return new n2}class i2 extends pa{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){if(fa("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ZL(this._value,this._key)._apply(new e2(this._value,this._key)._apply(t))}}function uu(e,t){return NL("equalTo","key",t,!0),new i2(e,t)}function cu(e,...t){let n=Dt(e);for(const r of t)n=r._apply(n);return n}JM(or);iL(or);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="FIREBASE_DATABASE_EMULATOR_HOST",yp={};let o2=!1;function l2(e,t,n,r){e.repoInfo_=new vC(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function a2(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||rr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tt("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=f0(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[s2]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=f0(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new ds(ds.OWNER):new pb(e.name,e.options,t);AL("Invalid Firebase Database URL",o),ne(o.path)||rr("Database URL must point to the root of a Firebase Database (not including a child path).");const h=c2(l,e,c,new fb(e.name,n));return new h2(h,e)}function u2(e,t){const n=yp[t];(!n||n[e.key]!==e)&&rr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),BL(e),delete n[e.key]}function c2(e,t,n,r){let i=yp[t.name];i||(i={},yp[t.name]=i);let s=i[e.toURLString()];return s&&rr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ML(e,o2,n,r),i[e.toURLString()]=s,s}class h2{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(LL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new or(this._repo,fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(u2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&rr("Cannot call "+t+" on a deleted database.")}}function d2(e=Om(),t){const n=Fc(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=pE("database");r&&f2(n,...r)}return n}function f2(e,t,n,r={}){e=Dt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&rr("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&rr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ds(ds.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:gE(r.mockUserToken,e.app.options.projectId);s=new ds(o)}l2(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(e){JO(Ls),Ei(new Ur("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return a2(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),xn(b_,M_,e),xn(b_,M_,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={".sv":"timestamp"};function gI(){return m2}Yn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Yn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};p2();const g2={apiKey:"AIzaSyCxkEpY6LJ9FbYzES_U1PwspMUvYpKXAhE",authDomain:"gamebox-49a20.firebaseapp.com",projectId:"gamebox-49a20",storageBucket:"gamebox-49a20.appspot.com",messagingSenderId:"642607547473",appId:"1:642607547473:web:489525b258e92f3837a470",databaseURL:"https://gamebox-49a20-default-rtdb.firebaseio.com/"},ev=SE(g2);qx(ev);const Ve=d2(ev),Nl=XO(ev),v2=()=>{Nl.signOut().then(()=>{xD(Nl).then(e=>{const t=e.user;t&&t.accessToken&&(window.localStorage.setItem("token",t.accessToken),console.log("Authenticated"))}).catch(e=>{e.code;const t=e.message;console.log(t)})})},y2=(e,t)=>{MD(Nl,e,t).then(n=>{const r=n.user;r&&r.accessToken&&window.localStorage.setItem("token",r.accessToken)}).catch(n=>{n.code,n.message})};var tv=ga(),X=e=>ma(e,tv),nv=ga();X.write=e=>ma(e,nv);var mh=ga();X.onStart=e=>ma(e,mh);var rv=ga();X.onFrame=e=>ma(e,rv);var iv=ga();X.onFinish=e=>ma(e,iv);var ps=[];X.setTimeout=(e,t)=>{let n=X.now()+t,r=()=>{let s=ps.findIndex(o=>o.cancel==r);~s&&ps.splice(s,1),Sr-=~s?1:0},i={time:n,handler:e,cancel:r};return ps.splice(vI(n),0,i),Sr+=1,yI(),i};var vI=e=>~(~ps.findIndex(t=>t.time>e)||~ps.length);X.cancel=e=>{mh.delete(e),rv.delete(e),iv.delete(e),tv.delete(e),nv.delete(e)};X.sync=e=>{_p=!0,X.batchedUpdates(e),_p=!1};X.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,X.onStart(n)}return r.handler=e,r.cancel=()=>{mh.delete(n),t=null},r};var sv=typeof window<"u"?window.requestAnimationFrame:()=>{};X.use=e=>sv=e;X.now=typeof performance<"u"?()=>performance.now():Date.now;X.batchedUpdates=e=>e();X.catch=console.error;X.frameLoop="always";X.advance=()=>{X.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):wI()};var Er=-1,Sr=0,_p=!1;function ma(e,t){_p?(t.delete(e),e(0)):(t.add(e),yI())}function yI(){Er<0&&(Er=0,X.frameLoop!=="demand"&&sv(_I))}function _2(){Er=-1}function _I(){~Er&&(sv(_I),X.batchedUpdates(wI))}function wI(){let e=Er;Er=X.now();let t=vI(Er);if(t&&(EI(ps.splice(0,t),n=>n.handler()),Sr-=t),!Sr){_2();return}mh.flush(),tv.flush(e?Math.min(64,Er-e):16.667),rv.flush(),nv.flush(),iv.flush()}function ga(){let e=new Set,t=e;return{add(n){Sr+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Sr-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Sr-=t.size,EI(t,r=>r(n)&&e.add(r)),Sr+=e.size,t=e)}}}function EI(e,t){e.forEach(n=>{try{t(n)}catch(r){X.catch(r)}})}var w2=Object.defineProperty,E2=(e,t)=>{for(var n in t)w2(e,n,{get:t[n],enumerable:!0})},En={};E2(En,{assign:()=>C2,colors:()=>Lr,createStringInterpolator:()=>lv,skipAnimation:()=>CI,to:()=>SI,willAdvance:()=>av});function wp(){}var S2=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),x={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function zn(e,t){if(x.arr(e)){if(!x.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var le=(e,t)=>e.forEach(t);function bn(e,t,n){if(x.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(let r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Ft=e=>x.und(e)?[]:x.arr(e)?e:[e];function zo(e,t){if(e.size){let n=Array.from(e);e.clear(),le(n,t)}}var Io=(e,...t)=>zo(e,n=>n(...t)),ov=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),lv,SI,Lr=null,CI=!1,av=wp,C2=e=>{e.to&&(SI=e.to),e.now&&(X.now=e.now),e.colors!==void 0&&(Lr=e.colors),e.skipAnimation!=null&&(CI=e.skipAnimation),e.createStringInterpolator&&(lv=e.createStringInterpolator),e.requestAnimationFrame&&X.use(e.requestAnimationFrame),e.batchedUpdates&&(X.batchedUpdates=e.batchedUpdates),e.willAdvance&&(av=e.willAdvance),e.frameLoop&&(X.frameLoop=e.frameLoop)},Bo=new Set,Kt=[],Nd=[],dc=0,gh={get idle(){return!Bo.size&&!Kt.length},start(e){dc>e.priority?(Bo.add(e),X.onStart(I2)):(II(e),X(Ep))},advance:Ep,sort(e){if(dc)X.onFrame(()=>gh.sort(e));else{let t=Kt.indexOf(e);~t&&(Kt.splice(t,1),TI(e))}},clear(){Kt=[],Bo.clear()}};function I2(){Bo.forEach(II),Bo.clear(),X(Ep)}function II(e){Kt.includes(e)||TI(e)}function TI(e){Kt.splice(T2(Kt,t=>t.priority>e.priority),0,e)}function Ep(e){let t=Nd;for(let n=0;n<Kt.length;n++){let r=Kt[n];dc=r.priority,r.idle||(av(r),r.advance(e),r.idle||t.push(r))}return dc=0,Nd=Kt,Nd.length=0,Kt=t,Kt.length>0}function T2(e,t){let n=e.findIndex(t);return n<0?e.length:n}var k2=(e,t,n)=>Math.min(Math.max(n,e),t),R2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},pn="[-+]?\\d*\\.?\\d+",fc=pn+"%";function vh(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var N2=new RegExp("rgb"+vh(pn,pn,pn)),P2=new RegExp("rgba"+vh(pn,pn,pn,pn)),A2=new RegExp("hsl"+vh(pn,fc,fc)),x2=new RegExp("hsla"+vh(pn,fc,fc,pn)),D2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,O2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,b2=/^#([0-9a-fA-F]{6})$/,M2=/^#([0-9a-fA-F]{8})$/;function L2(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=b2.exec(e))?parseInt(t[1]+"ff",16)>>>0:Lr&&Lr[e]!==void 0?Lr[e]:(t=N2.exec(e))?($i(t[1])<<24|$i(t[2])<<16|$i(t[3])<<8|255)>>>0:(t=P2.exec(e))?($i(t[1])<<24|$i(t[2])<<16|$i(t[3])<<8|v0(t[4]))>>>0:(t=D2.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=M2.exec(e))?parseInt(t[1],16)>>>0:(t=O2.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=A2.exec(e))?(m0(g0(t[1]),Wa(t[2]),Wa(t[3]))|255)>>>0:(t=x2.exec(e))?(m0(g0(t[1]),Wa(t[2]),Wa(t[3]))|v0(t[4]))>>>0:null}function Pd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function m0(e,t,n){let r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=Pd(i,r,e+1/3),o=Pd(i,r,e),l=Pd(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(l*255)<<8}function $i(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function g0(e){return(parseFloat(e)%360+360)%360/360}function v0(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Wa(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function y0(e){let t=L2(e);if(t===null)return e;t=t||0;let n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var Pl=(e,t,n)=>{if(x.fun(e))return e;if(x.arr(e))return Pl({range:e,output:t,extrapolate:n});if(x.str(e.output[0]))return lv(e);let r=e,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",a=r.easing||(u=>u);return u=>{let c=F2(u,s);return $2(u,s[c],s[c+1],i[c],i[c+1],a,o,l,r.map)}};function $2(e,t,n,r,i,s,o,l,a){let u=a?a(e):e;if(u<t){if(o==="identity")return u;o==="clamp"&&(u=t)}if(u>n){if(l==="identity")return u;l==="clamp"&&(u=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function F2(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var U2=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);let r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return k2(0,1,i/e)},pc=1.70158,Ha=pc*1.525,_0=pc+1,w0=2*Math.PI/3,E0=2*Math.PI/4.5,Ga=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,j2={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>_0*e*e*e-pc*e*e,easeOutBack:e=>1+_0*Math.pow(e-1,3)+pc*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((Ha+1)*2*e-Ha)/2:(Math.pow(2*e-2,2)*((Ha+1)*(e*2-2)+Ha)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*w0),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*w0)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*E0))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*E0)/2+1,easeInBounce:e=>1-Ga(1-e),easeOutBounce:Ga,easeInOutBounce:e=>e<.5?(1-Ga(1-2*e))/2:(1+Ga(2*e-1))/2,steps:U2},As=Symbol.for("FluidValue.get"),Ri=Symbol.for("FluidValue.observers"),qt=e=>!!(e&&e[As]),It=e=>e&&e[As]?e[As]():e,S0=e=>e[Ri]||null;function z2(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Al(e,t){let n=e[Ri];n&&n.forEach(r=>{z2(r,t)})}var Q$,Y$,j0,kI=(j0=class{constructor(e){M(this,Q$);M(this,Y$);if(!e&&!(e=this.get))throw Error("Unknown getter");B2(this,e)}},Q$=As,Y$=Ri,j0),B2=(e,t)=>RI(e,As,t);function Ws(e,t){if(e[As]){let n=e[Ri];n||RI(e,Ri,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function xl(e,t){let n=e[Ri];if(n&&n.has(t)){let r=n.size-1;r?n.delete(t):e[Ri]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var RI=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),hu=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,V2=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,C0=new RegExp(`(${hu.source})(%|[a-z]+)`,"i"),W2=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,yh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,NI=e=>{let[t,n]=H2(e);if(!t||ov())return e;let r=window.getComputedStyle(document.documentElement).getPropertyValue(t);return r?r.trim():n&&n.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(n)||e:n&&yh.test(n)?NI(n):n||e},H2=e=>{let t=yh.exec(e);if(!t)return[,];let[,n,r]=t;return[n,r]},Ad,G2=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,PI=e=>{Ad||(Ad=Lr?new RegExp(`(${Object.keys(Lr).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(i=>It(i).replace(yh,NI).replace(V2,y0).replace(Ad,y0)),n=t.map(i=>i.match(hu).map(Number)),r=n[0].map((i,s)=>n.map(o=>{if(!(s in o))throw Error('The arity of each "output" value must be equal');return o[s]})).map(i=>Pl({...e,output:i}));return i=>{var l;let s=!C0.test(t[0])&&((l=t.find(a=>C0.test(a)))==null?void 0:l.replace(hu,"")),o=0;return t[0].replace(hu,()=>`${r[o++](i)}${s||""}`).replace(W2,G2)}},uv="react-spring: ",AI=e=>{let t=e,n=!1;if(typeof t!="function")throw new TypeError(`${uv}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},q2=AI(console.warn);function K2(){q2(`${uv}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Q2=AI(console.warn);function Y2(){Q2(`${uv}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function _h(e){return x.str(e)&&(e[0]=="#"||/\d/.test(e)||!ov()&&yh.test(e)||e in(Lr||{}))}var cv=ov()?E.useEffect:E.useLayoutEffect,X2=()=>{let e=E.useRef(!1);return cv(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function xI(){let e=E.useState()[1],t=X2();return()=>{t.current&&e(Math.random())}}function J2(e,t){let[n]=E.useState(()=>({inputs:t,result:e()})),r=E.useRef(),i=r.current,s=i;return s?t&&s.inputs&&Z2(t,s.inputs)||(s={inputs:t,result:e()}):s=n,E.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function Z2(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var DI=e=>E.useEffect(e,e$),e$=[];function I0(e){let t=E.useRef();return E.useEffect(()=>{t.current=e}),t.current}var Dl=Symbol.for("Animated:node"),t$=e=>!!e&&e[Dl]===e,kn=e=>e&&e[Dl],hv=(e,t)=>S2(e,Dl,t),wh=e=>e&&e[Dl]&&e[Dl].getPayload(),OI=class{constructor(){M(this,"payload");hv(this,this)}getPayload(){return this.payload||[]}},va=class extends OI{constructor(t){super();M(this,"done",!0);M(this,"elapsedTime");M(this,"lastPosition");M(this,"lastVelocity");M(this,"v0");M(this,"durationProgress",0);this._value=t,x.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new va(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return x.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){let{done:t}=this;this.done=!1,x.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Ol=class extends va{constructor(t){super(0);M(this,"_string",null);M(this,"_toString");this._toString=Pl({output:[t,t]})}static create(t){return new Ol(t)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(t){if(x.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Pl({output:[this.getValue(),t]})),this._value=0,super.reset()}},mc={dependencies:null},Eh=class extends OI{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return bn(this.source,(n,r)=>{t$(n)?t[r]=n.getValue(e):qt(n)?t[r]=It(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&le(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return bn(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){mc.dependencies&&qt(e)&&mc.dependencies.add(e);let t=wh(e);t&&le(t,n=>this.add(n))}},bI=class extends Eh{constructor(t){super(t)}static create(t){return new bI(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){let n=this.getPayload();return t.length==n.length?n.map((r,i)=>r.setValue(t[i])).some(Boolean):(super.setValue(t.map(n$)),!0)}};function n$(e){return(_h(e)?Ol:va).create(e)}function Sp(e){let t=kn(e);return t?t.constructor:x.arr(e)?bI:_h(e)?Ol:va}var T0=(e,t)=>{let n=!x.fun(e)||e.prototype&&e.prototype.isReactComponent;return E.forwardRef((r,i)=>{let s=E.useRef(null),o=n&&E.useCallback(g=>{s.current=s$(i,g)},[i]),[l,a]=i$(r,t),u=xI(),c=()=>{let g=s.current;n&&!g||(g?t.applyAnimatedValues(g,l.getValue(!0)):!1)===!1&&u()},h=new r$(c,a),d=E.useRef();cv(()=>(d.current=h,le(a,g=>Ws(g,h)),()=>{d.current&&(le(d.current.deps,g=>xl(g,d.current)),X.cancel(d.current.update))})),E.useEffect(c,[]),DI(()=>()=>{let g=d.current;le(g.deps,_=>xl(_,g))});let y=t.getComponentProps(l.getValue());return E.createElement(e,{...y,ref:o})})},r$=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&X.write(this.update)}};function i$(e,t){let n=new Set;return mc.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Eh(e),mc.dependencies=null,[e,n]}function s$(e,t){return e&&(x.fun(e)?e(t):e.current=t),t}var k0=Symbol.for("AnimatedComponent"),o$=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new Eh(i),getComponentProps:r=i=>i}={})=>{let i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=o=>{let l=R0(o)||"Anonymous";return x.str(o)?o=s[o]||(s[o]=T0(o,i)):o=o[k0]||(o[k0]=T0(o,i)),o.displayName=`Animated(${l})`,o};return bn(e,(o,l)=>{x.arr(e)&&(l=R0(o)),s[l]=s(o)}),{animated:s}},R0=e=>x.str(e)?e:e&&x.str(e.displayName)?e.displayName:x.fun(e)&&e.name||null;function ei(e,...t){return x.fun(e)?e(...t):e}var Vo=(e,t)=>e===!0||!!(t&&e&&(x.fun(e)?e(t):Ft(e).includes(t))),MI=(e,t)=>x.obj(e)?t&&e[t]:e,LI=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,l$=e=>e,dv=(e,t=l$)=>{let n=a$;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));let r={};for(let i of n){let s=t(e[i],i);x.und(s)||(r[i]=s)}return r},a$=["config","onProps","onStart","onChange","onPause","onResume","onRest"],u$={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function c$(e){let t={},n=0;if(bn(e,(r,i)=>{u$[i]||(t[i]=r,n++)}),n)return t}function $I(e){let t=c$(e);if(t){let n={to:t};return bn(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function bl(e){return e=It(e),x.arr(e)?e.map(bl):_h(e)?En.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function h$(e){for(let t in e)return!0;return!1}function Cp(e){return x.fun(e)||x.arr(e)&&x.obj(e[0])}function d$(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function f$(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var p$={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Ip={...p$.default,mass:1,damping:1,easing:j2.linear,clamp:!1},m$=class{constructor(){M(this,"tension");M(this,"friction");M(this,"frequency");M(this,"damping");M(this,"mass");M(this,"velocity",0);M(this,"restVelocity");M(this,"precision");M(this,"progress");M(this,"duration");M(this,"easing");M(this,"clamp");M(this,"bounce");M(this,"decay");M(this,"round");Object.assign(this,Ip)}};function g$(e,t,n){n&&(n={...n},N0(n,t),t={...n,...t}),N0(e,t),Object.assign(e,t);for(let o in Ip)e[o]==null&&(e[o]=Ip[o]);let{frequency:r,damping:i}=e,{mass:s}=e;return x.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function N0(e,t){if(!x.und(t.decay))e.duration=void 0;else{let n=!x.und(t.tension)||!x.und(t.friction);(n||!x.und(t.frequency)||!x.und(t.damping)||!x.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var P0=[],v$=class{constructor(){M(this,"changed",!1);M(this,"values",P0);M(this,"toValues",null);M(this,"fromValues",P0);M(this,"to");M(this,"from");M(this,"config",new m$);M(this,"immediate",!1)}};function FI(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,l)=>{let a,u,c=Vo(n.cancel??(r==null?void 0:r.cancel),t);if(c)y();else{x.und(n.pause)||(i.paused=Vo(n.pause,t));let g=r==null?void 0:r.pause;g!==!0&&(g=i.paused||Vo(g,t)),a=ei(n.delay||0,t),g?(i.resumeQueue.add(d),s.pause()):(s.resume(),d())}function h(){i.resumeQueue.add(d),i.timeouts.delete(u),u.cancel(),a=u.time-X.now()}function d(){a>0&&!En.skipAnimation?(i.delayed=!0,u=X.setTimeout(y,a),i.pauseQueue.add(h),i.timeouts.add(u)):y()}function y(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(u),e<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:e,cancel:c},o)}catch(g){l(g)}}})}var fv=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?ms(e.get()):t.every(n=>n.noop)?UI(e.get()):hn(e.get(),t.every(n=>n.finished)),UI=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),hn=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),ms=e=>({value:e,cancelled:!0,finished:!1});function jI(e,t,n,r){let{callId:i,parentId:s,onRest:o}=t,{asyncTo:l,promise:a}=n;return!s&&e===l&&!t.reset?a:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;let u=dv(t,(m,p)=>p==="onRest"?void 0:m),c,h,d=new Promise((m,p)=>(c=m,h=p)),y=m=>{let p=i<=(n.cancelId||0)&&ms(r)||i!==n.asyncId&&hn(r,!1);if(p)throw m.result=p,h(m),m},g=(m,p)=>{let f=new A0,v=new x0;return(async()=>{if(En.skipAnimation)throw Ml(n),v.result=hn(r,!1),h(v),v;y(f);let w=x.obj(m)?{...m}:{...p,to:m};w.parentId=i,bn(u,(T,A)=>{x.und(w[A])&&(w[A]=T)});let C=await r.start(w);return y(f),n.paused&&await new Promise(T=>{n.resumeQueue.add(T)}),C})()},_;if(En.skipAnimation)return Ml(n),hn(r,!1);try{let m;x.arr(e)?m=(async p=>{for(let f of p)await g(f)})(e):m=Promise.resolve(e(g,r.stop.bind(r))),await Promise.all([m.then(c),d]),_=hn(r.get(),!0,!1)}catch(m){if(m instanceof A0)_=m.result;else if(m instanceof x0)_=m.result;else throw m}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?l:void 0,n.promise=s?a:void 0)}return x.fun(o)&&X.batchedUpdates(()=>{o(_,r,r.item)}),_})()}function Ml(e,t){zo(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var A0=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");M(this,"result")}},x0=class extends Error{constructor(){super("SkipAnimationSignal");M(this,"result")}},Tp=e=>e instanceof pv,y$=1,pv=class extends kI{constructor(){super(...arguments);M(this,"id",y$++);M(this,"_priority",0)}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){let t=kn(this);return t&&t.getValue()}to(...t){return En.to(this,t)}interpolate(...t){return K2(),En.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,n=!1){Al(this,{type:"change",parent:this,value:t,idle:n})}_onPriorityChange(t){this.idle||gh.sort(this),Al(this,{type:"priority",parent:this,priority:t})}},Ni=Symbol.for("SpringPhase"),zI=1,kp=2,Rp=4,xd=e=>(e[Ni]&zI)>0,ur=e=>(e[Ni]&kp)>0,fo=e=>(e[Ni]&Rp)>0,D0=(e,t)=>t?e[Ni]|=kp|zI:e[Ni]&=~kp,O0=(e,t)=>t?e[Ni]|=Rp:e[Ni]&=~Rp,_$=class extends pv{constructor(t,n){super();M(this,"key");M(this,"animation",new v$);M(this,"queue");M(this,"defaultProps",{});M(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});M(this,"_pendingCalls",new Set);M(this,"_lastCallId",0);M(this,"_lastToId",0);M(this,"_memoizedDuration",0);if(!x.und(t)||!x.und(n)){let r=x.obj(t)?{...t}:{...n,from:t};x.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(ur(this)||this._state.asyncTo)||fo(this)}get goal(){return It(this.animation.to)}get velocity(){let t=kn(this);return t instanceof va?t.lastVelocity||0:t.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return xd(this)}get isAnimating(){return ur(this)}get isPaused(){return fo(this)}get isDelayed(){return this._state.delayed}advance(t){let n=!0,r=!1,i=this.animation,{toValues:s}=i,{config:o}=i,l=wh(i.to);!l&&qt(i.to)&&(s=Ft(It(i.to))),i.values.forEach((c,h)=>{if(c.done)return;let d=c.constructor==Ol?1:l?l[h].lastPosition:s[h],y=i.immediate,g=d;if(!y){if(g=c.lastPosition,o.tension<=0){c.done=!0;return}let _=c.elapsedTime+=t,m=i.fromValues[h],p=c.v0!=null?c.v0:c.v0=x.arr(o.velocity)?o.velocity[h]:o.velocity,f,v=o.precision||(m==d?.005:Math.min(1,Math.abs(d-m)*.001));if(x.und(o.duration))if(o.decay){let w=o.decay===!0?.998:o.decay,C=Math.exp(-(1-w)*_);g=m+p/(1-w)*(1-C),y=Math.abs(c.lastPosition-g)<=v,f=p*C}else{f=c.lastVelocity==null?p:c.lastVelocity;let w=o.restVelocity||v/10,C=o.clamp?0:o.bounce,T=!x.und(C),A=m==d?c.v0>0:m<d,R,J=!1,$=1,ye=Math.ceil(t/$);for(let Ce=0;Ce<ye&&(R=Math.abs(f)>w,!(!R&&(y=Math.abs(d-g)<=v,y)));++Ce){T&&(J=g==d||g>d==A,J&&(f=-f*C,g=d));let ke=-o.tension*1e-6*(g-d),b=-o.friction*.001*f,Z=(ke+b)/o.mass;f=f+Z*$,g=g+f*$}}else{let w=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,c.durationProgress>0&&(c.elapsedTime=o.duration*c.durationProgress,_=c.elapsedTime+=t)),w=(o.progress||0)+_/this._memoizedDuration,w=w>1?1:w<0?0:w,c.durationProgress=w),g=m+o.easing(w)*(d-m),f=(g-c.lastPosition)/t,y=w==1}c.lastVelocity=f,Number.isNaN(g)&&(console.warn("Got NaN while animating:",this),y=!0)}l&&!l[h].done&&(y=!1),y?c.done=!0:n=!1,c.setValue(g,o.round)&&(r=!0)});let a=kn(this),u=a.getValue();if(n){let c=It(i.to);(u!==c||r)&&!o.decay?(a.setValue(c),this._onChange(c)):r&&o.decay&&this._onChange(u),this._stop()}else r&&this._onChange(u)}set(t){return X.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(ur(this)){let{to:t,config:n}=this.animation;X.batchedUpdates(()=>{this._onStart(),n.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,n){let r;return x.und(t)?(r=this.queue||[],this.queue=[]):r=[x.obj(t)?t:{...n,to:t}],Promise.all(r.map(i=>this._update(i))).then(i=>fv(this,i))}stop(t){let{to:n}=this.animation;return this._focus(this.get()),Ml(this._state,t&&this._lastCallId),X.batchedUpdates(()=>this._stop(n,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){let n=this.key||"",{to:r,from:i}=t;r=x.obj(r)?r[n]:r,(r==null||Cp(r))&&(r=void 0),i=x.obj(i)?i[n]:i,i==null&&(i=void 0);let s={to:r,from:i};return xd(this)||(t.reverse&&([r,i]=[i,r]),i=It(i),x.und(i)?kn(this)||this._set(r):this._set(i)),s}_update({...t},n){let{key:r,defaultProps:i}=this;t.default&&Object.assign(i,dv(t,(l,a)=>/^on/.test(a)?MI(l,r):l)),M0(this,t,"onProps"),mo(this,"onProps",t,this);let s=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return FI(++this._lastCallId,{key:r,props:t,defaultProps:i,state:o,actions:{pause:()=>{fo(this)||(O0(this,!0),Io(o.pauseQueue),mo(this,"onPause",hn(this,po(this,this.animation.to)),this))},resume:()=>{fo(this)&&(O0(this,!1),ur(this)&&this._resume(),Io(o.resumeQueue),mo(this,"onResume",hn(this,po(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(l=>{if(t.loop&&l.finished&&!(n&&l.noop)){let a=BI(t);if(a)return this._update(a,!0)}return l})}_merge(t,n,r){if(n.cancel)return this.stop(!0),r(ms(this));let i=!x.und(t.to),s=!x.und(t.from);if(i||s)if(n.callId>this._lastToId)this._lastToId=n.callId;else return r(ms(this));let{key:o,defaultProps:l,animation:a}=this,{to:u,from:c}=a,{to:h=u,from:d=c}=t;s&&!i&&(!n.default||x.und(h))&&(h=d),n.reverse&&([h,d]=[d,h]);let y=!zn(d,c);y&&(a.from=d),d=It(d);let g=!zn(h,u);g&&this._focus(h);let _=Cp(n.to),{config:m}=a,{decay:p,velocity:f}=m;(i||s)&&(m.velocity=0),n.config&&!_&&g$(m,ei(n.config,o),n.config!==l.config?ei(l.config,o):void 0);let v=kn(this);if(!v||x.und(h))return r(hn(this,!0));let w=x.und(n.reset)?s&&!n.default:!x.und(d)&&Vo(n.reset,o),C=w?d:this.get(),T=bl(h),A=x.num(T)||x.arr(T)||_h(T),R=!_&&(!A||Vo(l.immediate||n.immediate,o));if(g){let Ce=Sp(h);if(Ce!==v.constructor)if(R)v=this._set(T);else throw Error(`Cannot animate between ${v.constructor.name} and ${Ce.name}, as the "to" prop suggests`)}let J=v.constructor,$=qt(h),ye=!1;if(!$){let Ce=w||!xd(this)&&y;(g||Ce)&&(ye=zn(bl(C),T),$=!ye),(!zn(a.immediate,R)&&!R||!zn(m.decay,p)||!zn(m.velocity,f))&&($=!0)}if(ye&&ur(this)&&(a.changed&&!w?$=!0:$||this._stop(u)),!_&&(($||qt(u))&&(a.values=v.getPayload(),a.toValues=qt(h)?null:J==Ol?[1]:Ft(T)),a.immediate!=R&&(a.immediate=R,!R&&!w&&this._set(u)),$)){let{onRest:Ce}=a;le(E$,b=>M0(this,n,b));let ke=hn(this,po(this,u));Io(this._pendingCalls,ke),this._pendingCalls.add(r),a.changed&&X.batchedUpdates(()=>{var b;a.changed=!w,Ce==null||Ce(ke,this),w?ei(l.onRest,ke):(b=a.onStart)==null||b.call(a,ke,this)})}w&&this._set(C),_?r(jI(n.to,n,this._state,this)):$?this._start():ur(this)&&!g?this._pendingCalls.add(r):r(UI(C))}_focus(t){let n=this.animation;t!==n.to&&(S0(this)&&this._detach(),n.to=t,S0(this)&&this._attach())}_attach(){let t=0,{to:n}=this.animation;qt(n)&&(Ws(n,this),Tp(n)&&(t=n.priority+1)),this.priority=t}_detach(){let{to:t}=this.animation;qt(t)&&xl(t,this)}_set(t,n=!0){let r=It(t);if(!x.und(r)){let i=kn(this);if(!i||!zn(r,i.getValue())){let s=Sp(r);!i||i.constructor!=s?hv(this,s.create(r)):i.setValue(r),i&&X.batchedUpdates(()=>{this._onChange(r,n)})}}return kn(this)}_onStart(){let t=this.animation;t.changed||(t.changed=!0,mo(this,"onStart",hn(this,po(this,t.to)),this))}_onChange(t,n){n||(this._onStart(),ei(this.animation.onChange,t,this)),ei(this.defaultProps.onChange,t,this),super._onChange(t,n)}_start(){let t=this.animation;kn(this).reset(It(t.to)),t.immediate||(t.fromValues=t.values.map(n=>n.lastPosition)),ur(this)||(D0(this,!0),fo(this)||this._resume())}_resume(){En.skipAnimation?this.finish():gh.start(this)}_stop(t,n){if(ur(this)){D0(this,!1);let r=this.animation;le(r.values,s=>{s.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Al(this,{type:"idle",parent:this});let i=n?ms(this.get()):hn(this.get(),po(this,t??r.to));Io(this._pendingCalls,i),r.changed&&(r.changed=!1,mo(this,"onRest",i,this))}}};function po(e,t){let n=bl(t),r=bl(e.get());return zn(r,n)}function BI(e,t=e.loop,n=e.to){let r=ei(t);if(r){let i=r!==!0&&$I(r),s=(i||e).reverse,o=!i||i.reset;return Ll({...e,loop:t,default:!1,pause:void 0,to:!s||Cp(n)?n:void 0,from:o?e.from:void 0,reset:o,...i})}}function Ll(e){let{to:t,from:n}=e=$I(e),r=new Set;return x.obj(t)&&b0(t,r),x.obj(n)&&b0(n,r),e.keys=r.size?Array.from(r):null,e}function w$(e){let t=Ll(e);return x.und(t.default)&&(t.default=dv(t)),t}function b0(e,t){bn(e,(n,r)=>n!=null&&t.add(r))}var E$=["onStart","onRest","onChange","onPause","onResume"];function M0(e,t,n){e.animation[n]=t[n]!==LI(t,n)?MI(t[n],e.key):void 0}function mo(e,t,...n){var r,i,s,o;(i=(r=e.animation)[t])==null||i.call(r,...n),(o=(s=e.defaultProps)[t])==null||o.call(s,...n)}var S$=["onStart","onChange","onRest"],C$=1,I$=class{constructor(e,t){M(this,"id",C$++);M(this,"springs",{});M(this,"queue",[]);M(this,"ref");M(this,"_flush");M(this,"_initialProps");M(this,"_lastAsyncId",0);M(this,"_active",new Set);M(this,"_changed",new Set);M(this,"_started",!1);M(this,"_item");M(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});M(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(let t in e){let n=e[t];x.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Ll(e)),this}start(e){let{queue:t}=this;return e?t=Ft(e).map(Ll):this.queue=[],this._flush?this._flush(this,t):(qI(this,t),Np(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){let n=this.springs;le(Ft(t),r=>n[r].stop(!!e))}else Ml(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(x.und(e))this.start({pause:!0});else{let t=this.springs;le(Ft(e),n=>t[n].pause())}return this}resume(e){if(x.und(e))this.start({pause:!1});else{let t=this.springs;le(Ft(e),n=>t[n].resume())}return this}each(e){bn(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,zo(e,([l,a])=>{a.value=this.get(),l(a,this,this._item)}));let s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&t.size&&zo(t,([l,a])=>{a.value=o,l(a,this,this._item)}),s&&(this._started=!1,zo(n,([l,a])=>{a.value=o,l(a,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;X.onFrame(this._onFrame)}};function Np(e,t){return Promise.all(t.map(n=>VI(e,n))).then(n=>fv(e,n))}async function VI(e,t,n){let{keys:r,to:i,from:s,loop:o,onRest:l,onResolve:a}=t,u=x.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);let c=x.arr(i)||x.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):le(S$,_=>{let m=t[_];if(x.fun(m)){let p=e._events[_];t[_]=({finished:f,cancelled:v})=>{let w=p.get(m);w?(f||(w.finished=!1),v&&(w.cancelled=!0)):p.set(m,{value:null,finished:f||!1,cancelled:v||!1})},u&&(u[_]=t[_])}});let h=e._state;t.pause===!h.paused?(h.paused=t.pause,Io(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);let d=(r||Object.keys(e.springs)).map(_=>e.springs[_].start(t)),y=t.cancel===!0||LI(t,"cancel")===!0;(c||y&&h.asyncId)&&d.push(FI(++e._lastAsyncId,{props:t,state:h,actions:{pause:wp,resume:wp,start(_,m){y?(Ml(h,e._lastAsyncId),m(ms(e))):(_.onRest=l,m(jI(c,_,h,e)))}}})),h.paused&&await new Promise(_=>{h.resumeQueue.add(_)});let g=fv(e,await Promise.all(d));if(o&&g.finished&&!(n&&g.noop)){let _=BI(t,o,i);if(_)return qI(e,[_]),VI(e,_,!0)}return a&&X.batchedUpdates(()=>a(g,e,e.item)),g}function L0(e,t){let n={...e.springs};return t&&le(Ft(t),r=>{x.und(r.keys)&&(r=Ll(r)),x.obj(r.to)||(r={...r,to:void 0}),GI(n,r,i=>HI(i))}),WI(e,n),n}function WI(e,t){bn(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,Ws(n,e))})}function HI(e,t){let n=new _$;return n.key=e,t&&Ws(n,t),n}function GI(e,t,n){t.keys&&le(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function qI(e,t){le(t,n=>{GI(e.springs,n,r=>HI(r,e))})}var Sh=({children:e,...t})=>{let n=E.useContext(gc),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=J2(()=>({pause:r,immediate:i}),[r,i]);let{Provider:s}=gc;return E.createElement(s,{value:t},e)},gc=T$(Sh,{});Sh.Provider=gc.Provider;Sh.Consumer=gc.Consumer;function T$(e,t){return Object.assign(e,E.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var k$=()=>{let e=[],t=function(r){Y2();let i=[];return le(e,(s,o)=>{if(x.und(r))i.push(s.start());else{let l=n(r,s,o);l&&i.push(s.start(l))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){let i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return le(e,r=>r.pause(...arguments)),this},t.resume=function(){return le(e,r=>r.resume(...arguments)),this},t.set=function(r){le(e,(i,s)=>{let o=x.fun(r)?r(s,i):r;o&&i.set(o)})},t.start=function(r){let i=[];return le(e,(s,o)=>{if(x.und(r))i.push(s.start());else{let l=this._getProps(r,s,o);l&&i.push(s.start(l))}}),i},t.stop=function(){return le(e,r=>r.stop(...arguments)),this},t.update=function(r){return le(e,(i,s)=>i.update(this._getProps(r,i,s))),this};let n=function(r,i,s){return x.fun(r)?r(s,i):r};return t._getProps=n,t};function R$(e,t,n){let r=x.fun(t)&&t;r&&!n&&(n=[]);let i=E.useMemo(()=>r||arguments.length==3?k$():void 0,[]),s=E.useRef(0),o=xI(),l=E.useMemo(()=>({ctrls:[],queue:[],flush(p,f){let v=L0(p,f);return s.current>0&&!l.queue.length&&!Object.keys(v).some(w=>!p.springs[w])?Np(p,f):new Promise(w=>{WI(p,v),l.queue.push(()=>{w(Np(p,f))}),o()})}}),[]),a=E.useRef([...l.ctrls]),u=[],c=I0(e)||0;E.useMemo(()=>{le(a.current.slice(e,c),p=>{d$(p,i),p.stop(!0)}),a.current.length=e,h(c,e)},[e]),E.useMemo(()=>{h(0,Math.min(c,e))},n);function h(p,f){for(let v=p;v<f;v++){let w=a.current[v]||(a.current[v]=new I$(null,l.flush)),C=r?r(v,w):t[v];C&&(u[v]=w$(C))}}let d=a.current.map((p,f)=>L0(p,u[f])),y=E.useContext(Sh),g=I0(y),_=y!==g&&h$(y);cv(()=>{s.current++,l.ctrls=a.current;let{queue:p}=l;p.length&&(l.queue=[],le(p,f=>f())),le(a.current,(f,v)=>{i==null||i.add(f),_&&f.start({default:y});let w=u[v];w&&(f$(f,w.ref),f.ref?f.queue.push(w):f.start(w))})}),DI(()=>()=>{le(l.ctrls,p=>p.stop(!0))});let m=d.map(p=>({...p}));return i?[m,i]:m}function Mt(e,t){let n=x.fun(e),[[r],i]=R$(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var N$=class extends pv{constructor(t,n){super();M(this,"key");M(this,"idle",!0);M(this,"calc");M(this,"_active",new Set);this.source=t,this.calc=Pl(...n);let r=this._get(),i=Sp(r);hv(this,i.create(r))}advance(t){let n=this._get(),r=this.get();zn(n,r)||(kn(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&$0(this._active)&&Dd(this)}_get(){let t=x.arr(this.source)?this.source.map(It):Ft(It(this.source));return this.calc(...t)}_start(){this.idle&&!$0(this._active)&&(this.idle=!1,le(wh(this),t=>{t.done=!1}),En.skipAnimation?(X.batchedUpdates(()=>this.advance()),Dd(this)):gh.start(this))}_attach(){let t=1;le(Ft(this.source),n=>{qt(n)&&Ws(n,this),Tp(n)&&(n.idle||this._active.add(n),t=Math.max(t,n.priority+1))}),this.priority=t,this._start()}_detach(){le(Ft(this.source),t=>{qt(t)&&xl(t,this)}),this._active.clear(),Dd(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Ft(this.source).reduce((n,r)=>Math.max(n,(Tp(r)?r.priority:0)+1),0))}};function P$(e){return e.idle!==!1}function $0(e){return!e.size||Array.from(e).every(P$)}function Dd(e){e.idle||(e.idle=!0,le(wh(e),t=>{t.done=!0}),Al(e,{type:"idle",parent:e}))}En.assign({createStringInterpolator:PI,to:(e,t)=>new N$(e,t)});var KI=/^--/;function A$(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!KI.test(e)&&!(Wo.hasOwnProperty(e)&&Wo[e])?t+"px":(""+t).trim()}var F0={};function x$(e,t){if(!e.nodeType||!e.setAttribute)return!1;let n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:l,...a}=t,u=Object.values(a),c=Object.keys(a).map(h=>n||e.hasAttribute(h)?h:F0[h]||(F0[h]=h.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));i!==void 0&&(e.textContent=i);for(let h in r)if(r.hasOwnProperty(h)){let d=A$(h,r[h]);KI.test(h)?e.style.setProperty(h,d):e.style[h]=d}c.forEach((h,d)=>{e.setAttribute(h,u[d])}),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),l!==void 0&&e.setAttribute("viewBox",l)}var Wo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D$=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),O$=["Webkit","Ms","Moz","O"];Wo=Object.keys(Wo).reduce((e,t)=>(O$.forEach(n=>e[D$(n,t)]=e[t]),e),Wo);var b$=/^(matrix|translate|scale|rotate|skew)/,M$=/^(translate)/,L$=/^(rotate|skew)/,Od=(e,t)=>x.num(e)&&e!==0?e+t:e,du=(e,t)=>x.arr(e)?e.every(n=>du(n,t)):x.num(e)?e===t:parseFloat(e)===t,$$=class extends Eh{constructor({x:e,y:t,z:n,...r}){let i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(o=>[`translate3d(${o.map(l=>Od(l,"px")).join(",")})`,du(o,0)])),bn(r,(o,l)=>{if(l==="transform")i.push([o||""]),s.push(a=>[a,a===""]);else if(b$.test(l)){if(delete r[l],x.und(o))return;let a=M$.test(l)?"px":L$.test(l)?"deg":"";i.push(Ft(o)),s.push(l==="rotate3d"?([u,c,h,d])=>[`rotate3d(${u},${c},${h},${Od(d,a)})`,du(d,0)]:u=>[`${l}(${u.map(c=>Od(c,a)).join(",")})`,du(u,l.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new F$(i,s)),super(r)}},F$=class extends kI{constructor(t,n){super();M(this,"_value",null);this.inputs=t,this.transforms=n}get(){return this._value||(this._value=this._get())}_get(){let t="",n=!0;return le(this.inputs,(r,i)=>{let s=It(r[0]),[o,l]=this.transforms[i](x.arr(s)?s:r.map(It));t+=" "+o,n=n&&l}),n?"none":t}observerAdded(t){t==1&&le(this.inputs,n=>le(n,r=>qt(r)&&Ws(r,this)))}observerRemoved(t){t==0&&le(this.inputs,n=>le(n,r=>qt(r)&&xl(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Al(this,t)}},U$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];En.assign({batchedUpdates:fu.unstable_batchedUpdates,createStringInterpolator:PI,colors:R2});var j$=o$(U$,{applyAnimatedValues:x$,createAnimatedStyle:e=>new $$(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),yt=j$.animated;const z$=()=>{const[e,t]=E.useState(!1);function n(){return e?1200:100}const[r,i]=Mt(()=>({from:{x:700}})),s=()=>{t(!e),i.start({from:{x:r.x},to:{x:n()}})},[o,l]=E.useState("");E.useState();const[a,u]=E.useState(""),c=Vl(),h=()=>{let y="";const g="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<6;m++)y+=g.charAt(Math.floor(Math.random()*g.length));return y};E.useEffect(()=>{const y=h(),g=et(Ve,"rooms/"),_=cu(g,vp("roomCode"),uu(y)),m=bt(_,p=>{p.val()?l(h()):l(y)});return()=>{m()}},[]);async function d(){const y=et(Ve,"/rooms"),g={roomCode:o,host:a,question:1,startAt:gI(),seconds:0},_=await YL(y,g);bt(_,m=>{c("/game",{state:{roomId:_.key}})})}return ie("div",{children:[ie("div",{children:[D("input",{className:"left-center",placeholder:"player name...",value:a,onChange:y=>u(y.target.value)}),D("button",{className:"margin-center",onClick:()=>{d()},children:"Host"})]}),D("br",{}),D("br",{}),D(yt.button,{onClick:s,style:{...r},children:"click me"})]})};const B$=()=>{const[e,t]=Mt(()=>({from:{x:1500,y:100,rotate:0},to:{x:-100,rotate:1e3},loop:!0,config:{duration:7e3}})),[n,r]=Mt(()=>({from:{x:-100,y:200,rotate:0},to:{x:1500,rotate:1e3},loop:!0,config:{duration:1e4}})),[i,s]=Mt(()=>({from:{x:0,y:-600,rotate:0},to:{x:1700,y:400,rotate:1e3},loop:!0,config:{duration:9e3}})),[o,l]=Mt(()=>({from:{x:-100,y:-450,rotate:0},to:{x:1500,y:-450,rotate:1e3},loop:!0,config:{duration:5e3}})),[a,u]=Mt(()=>({from:{x:1500,y:100,rotate:1e3},to:{x:0,y:-700,rotate:0},loop:!0,config:{duration:6e3}})),[c,h]=E.useState(!1),d=Vl();return ie(un,{children:[D("h1",{children:"Gamebox Home"}),!c&&ie(un,{children:[ie("div",{className:"super-container",children:[D("button",{className:"vertical-center",onClick:()=>h(!0),children:"Host Game"}),D("button",{className:"vertical-center",onClick:()=>d("/signUp"),children:"Join Game"})]}),D(yt.div,{style:{width:100,height:100,background:"red",borderRadius:8,...e}}),D(yt.div,{style:{width:100,height:100,background:"yellow",borderRadius:10,...n}}),D(yt.div,{style:{width:100,height:100,background:"purple",borderRadius:10,...i}}),D(yt.div,{style:{width:70,height:70,background:"#66FF00",borderRadius:10,...o}}),D(yt.div,{style:{width:70,height:70,background:"#AFEEEE",borderRadius:10,...a}})]}),c&&ie(un,{children:[D(z$,{}),D(yt.div,{style:{width:100,height:100,background:"red",borderRadius:8,...e}})]})]})},V$=()=>{const[e,t]=E.useState();E.useState("");const[n,r]=E.useState(""),[i,s]=E.useState(""),[o,l]=E.useState(""),[a,u]=E.useState(!1),[c,h]=E.useState(!1),[d,y]=E.useState(""),[g,_]=E.useState(0),[m,p]=E.useState(0),[f,v]=E.useState(!1),[w,C]=E.useState(),[T,A]=E.useState(!1),[R,J]=E.useState(""),[$,ye]=E.useState(!1),[Ce,ke]=E.useState(!1),b=Vl();E.useEffect(()=>{const V=et(Ve,"rooms/"),oe=cu(V,vp("roomCode"),uu(n)),lt=bt(oe,he=>{if(y(""),he.val()){const $n=Object.keys(he.val());s($n[0])}t(he.val())});return()=>{lt()}},[n]),E.useEffect(()=>{const V=et(Ve,`rooms/${i}/users`),oe=cu(V,vp("name"),uu(o)),lt=bt(oe,he=>{he.val()?u(!0):u(!1)});return()=>{lt()}},[i,o]);const Z=async()=>{var V;if(!e){y("No Room Found!");return}if(a){y("Username Already In Use!");return}if(!o){y("Please Enter a Username!");return}e&&w&&i&&!a&&(console.log(w.city),h(!0),Xg(et(Ve,`/rooms/${i}/users/`+o),{name:o,id:(V=Nl.currentUser)==null?void 0:V.uid,location:`${w.city}, ${w.principalSubdivision} ${w.countryCode}`,response:"",points:0}))},pe=()=>{const V=et(Ve,`/rooms/${i}/users`),oe=cu(V,r2(),uu(o));bt(oe,lt=>{lt.val()?b("/game",{state:{roomId:i,user:o}}):y("invalid room number or username doesn't exist")})};E.useEffect(()=>{window.localStorage.getItem("token")&&ye(!0);const oe=navigator.geolocation.watchPosition(he=>{_(he.coords.latitude),p(he.coords.longitude),v(!0)},he=>{console.log(he),C({city:"Somewhere",principalSubdivision:"Planet Earth",countryCode:":)"})},{enableHighAccuracy:!0}),lt=Nl.onAuthStateChanged(he=>{he?(ke(!0),J(he.uid)):(ke(!1),J(""))});return()=>{lt(),navigator.geolocation.clearWatch(oe)}},[]),E.useEffect(()=>{c&&(console.log(i),b("/game",{state:{roomId:i,user:o}}))},[c]),E.useEffect(()=>{g&&m&&(async()=>{const tn=await fetch(`https://api-bdc.net/data/reverse-geocode?latitude=${g}&longitude=${m}&localityLanguage=en&key=bdc_df38e981116f4f8781389060be80ad53`);if(tn.ok){const ya=await tn.json();C(ya),console.log(ya)}else console.error(`HTTP error! status: ${tn.status}`)})()},[g,m]),E.useEffect(()=>{const V=navigator.geolocation.watchPosition(oe=>{_(oe.coords.latitude),p(oe.coords.longitude),v(!0)},oe=>{console.log(oe),C({city:"Game",principalSubdivision:"Box",countryCode:"Location"})},{enableHighAccuracy:!0});return()=>navigator.geolocation.clearWatch(V)},[]);const[Xe,O]=Mt(()=>({from:{x:700}}));function B(){return T?1200:100}const j=()=>{A(!T),O.start({from:{x:Xe.x},to:{x:B()}})};return ie("div",{children:[D("h1",{children:"Join Room"}),!$&&ie(un,{children:[D("h2",{className:"center",children:d}),ie("form",{className:"center",onSubmit:V=>{V.preventDefault(),Z(),v2()},children:[D("input",{placeholder:"room code",value:n,onChange:V=>r(V.target.value)}),D("input",{placeholder:"username",value:o,onChange:V=>l(V.target.value)}),D("button",{onClick:()=>{},type:"submit",children:"Join"})]}),ie("div",{className:"center",children:[D("h2",{children:"Room Code"}),D("h2",{className:"left-pad",children:" Username"})]})]}),$&&ie(un,{children:[D("h2",{className:"center",children:"Got kicked out? No worries! Just enter the room code & your username again below:"}),D("h2",{className:"center",children:d}),ie("form",{className:"center",onSubmit:V=>{V.preventDefault(),pe()},children:[D("input",{placeholder:"room code",value:n,onChange:V=>r(V.target.value)}),D("input",{placeholder:"username",value:o,onChange:V=>l(V.target.value)}),D("button",{onClick:()=>{},type:"submit",children:"Join"})]}),D("br",{}),D("button",{className:"margin-center",onClick:()=>{window.localStorage.setItem("token",""),b("/")},children:"Sign into a different room"}),D("br",{}),D("br",{}),D(yt.button,{style:{...Xe},onClick:j,children:"Click me"})]})]})},bd=({prompt:e})=>D("div",{children:D("h1",{className:"smaller",children:e})}),U0=({name:e,geolocation:t,points:n})=>ie("div",{children:[D("div",{className:"player-card-title",children:D("label",{className:"player-card-label",children:"PLAYER CARD"})}),ie("div",{className:"player-card-main",children:["Name: ",e]}),ie("div",{className:"player-card-main",children:["Location: ",t]}),ie("div",{className:"player-card-main",children:["Points: ",n]})]}),W$=()=>{E.useState();const[e,t]=E.useState(),[n,r]=E.useState([]),[i,s]=E.useState("00"),[o,l]=E.useState(""),[a,u]=E.useState("");E.useState([]);const[c,h]=E.useState(!1);let d;const y=Vl(),g=Nm();let _=!1,m=!1;const p=et(Ve,`/rooms/${g.state.roomId}`);bt(p,b=>{_=b.val().hasStarted,m=b.val().showResponses});const f=b=>{ho(p,{hasStarted:b})},v=b=>{ho(p,{showResponses:b})};E.useState(!1);const[w,C]=Mt(()=>({from:{x:250,rotate:0},to:{x:1050,rotate:1e3},loop:!0,config:{duration:1e4}})),[T,A]=Mt(()=>({from:{x:250,rotate:1e3},to:{x:1050,rotate:0},loop:!0,config:{duration:1e4}}));Mt(()=>({from:{x:250},to:{x:1050},loop:!0,config:{duration:1e4}})),E.useEffect(()=>{g.state||y("/");const b=g.state.roomId,Z=et(Ve,`/rooms/${b}/users`);bt(Z,pe=>{const Xe=pe.val(),O=[];for(let B in Xe)O.push({id:B,...Xe[B]});r(O)})},[Ve]),E.useEffect(()=>{g.state||y("/");const b=g.state.roomId,Z=et(Ve,`/rooms/${b}`);bt(Z,pe=>{const Xe=pe.val();t(Xe)})},[]);const R=()=>{const b=g.state.roomId,Z=et(Ve,`/rooms/${b}`);let pe=0;bt(Z,O=>{pe=O.val().question}),pe=pe%21,ho(Z,{seconds:30,question:pe+1,startAt:gI()}),v(!1);const Xe=et(Ve,`/questions/${e==null?void 0:e.question}`);bt(Xe,O=>{if(O.val()){const B=O.val();u(B.text)}}),J()};E.useEffect(()=>{const b=et(Ve,`/questions/${e==null?void 0:e.question}`);bt(b,Z=>{if(Z.val()){const pe=Z.val();u(pe.text)}})},[e]),E.useEffect(()=>{const b=g.state.roomId,Z=et(Ve,`/rooms/${b}`);bt(Z,pe=>{console.log(pe),pe.val().seconds!=0,J()})},[]);const J=()=>{const b=g.state.roomId,Z=et(Ve,`/rooms/${b}`);bt(Z,pe=>{const Xe=pe.val().seconds,O=pe.val().startAt;d&&clearInterval(d),d=setInterval(()=>{const B=Xe*1e3-(Date.now()-O);B<0?(clearInterval(d),console.log("0.0 left"),_?v(!0):_||f(!0)):(s(`${Math.floor(B/1e3)}.${B%1e3}`),console.log(`${Math.floor(B/1e3)}.${B%1e3}`))},71)})},$=()=>{window.localStorage.setItem("token","");const b=et(Ve,`/rooms/${g.state.roomId}/users/${g.state.user}`);XL(b),y("/")},ye=b=>{console.log(b.name+" got a point!");const Z=et(Ve,`/rooms/${g.state.roomId}/users/${b.name}`);ho(Z,{points:b.points+1}),h(!0)},Ce=()=>{const b=n.reduce((Z,pe)=>Z.points>pe.points?Z:pe);console.log(b)};function ke(){if(o){const b=et(Ve,`/rooms/${g.state.roomId}/users/${g.state.user}`);ho(b,{response:o})}h(!1)}return!_&&!m?ie("main",{children:[ie(un,{children:[e&&ie(un,{children:[ie("h2",{className:"center",children:["ROOM CODE: ",e.roomCode]}),ie("h2",{className:"center",children:["HOST: ",e.host]})]}),D(bd,{prompt:a}),D("div",{}),ie("div",{children:[D(yt.div,{style:{width:100,height:100,background:"red",borderRadius:8,...T}}),D(yt.div,{style:{width:80,height:80,background:"yellow",borderRadius:8,...w}}),D(yt.div,{style:{width:50,height:50,background:"#66FF99",borderRadius:8,...T}})]}),D("br",{}),D("input",{className:"margin-center",type:"text",value:o,onChange:b=>{h(!1),l(b.target.value)}}),D("button",{className:"left-center",children:"SUBMIT RESPONSE"}),D("button",{className:"margin-center",onClick:()=>f(!0),children:"START GAME"}),D("br",{}),D("br",{}),D("button",{className:"right-center",onClick:()=>{$()},children:"Leave"})]}),D("h1",{children:i}),D("div",{className:".player-card-label",children:n.map((b,Z)=>D(U0,{name:b.name,geolocation:b.location,points:b.points},Z+b.name))})]}):m?ie("main",{children:[ie(un,{children:[e&&ie(un,{children:[ie("h1",{children:["ROOM CODE: ",e.roomCode]}),ie("h2",{children:["HOST: ",e.host]})]}),D(bd,{prompt:a}),D("button",{onClick:()=>{R()},children:"Next Question"})," ",D("button",{onClick:()=>{$()},children:"Leave"})]}),D("div",{className:".player-card-label",children:n.map((b,Z)=>D(U0,{name:b.name,geolocation:b.location,points:b.points},Z+b.name))}),ie("div",{children:[n.map((b,Z)=>D("div",{children:b.response&&ie("div",{children:[D("p",{children:b.response}),!c&&D("button",{onClick:pe=>{ye(b)},children:"Vote"})]})},Z+b.id)),D("button",{onClick:()=>{Ce()},children:"Check Winner"})]})]}):ie("main",{children:[ie(un,{children:[e&&ie(un,{children:[ie("h1",{children:["ROOM CODE: ",e.roomCode]}),ie("h2",{children:["HOST: ",e.host]})]}),D(bd,{prompt:a}),D("input",{type:"text",value:o,onChange:b=>l(b.target.value)}),D("button",{onClick:()=>{ke(),l("")},children:"SUBMIT RESPONSE"}),D("h1",{children:i}),D("button",{onClick:()=>{$()},children:"Leave"})]}),D("div",{className:".player-card-label"})]})},H$=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(""),i=Vl();return E.useEffect(()=>{window.localStorage.getItem("token")&&i("/game",{replace:!0})}),ie("div",{children:["This is the Login Page",ie("form",{onSubmit:s=>{s.preventDefault(),y2(e,n)},children:[D("input",{value:e,onChange:s=>t(s.target.value)}),D("input",{value:n,onChange:s=>r(s.target.value)}),D("button",{type:"submit",children:"Login"})]})]})},G$=()=>{E.useState(!1);const[e,t]=Mt(()=>({from:{x:1500,rotate:0},to:{x:-100,rotate:1e3},loop:!0,config:{duration:1e4}})),[n,r]=Mt(()=>({from:{x:1500,rotate:1e3},to:{x:-100,rotate:0},loop:!0,config:{duration:1e4}})),[i,s]=Mt(()=>({from:{x:1550},to:{x:-200},loop:!0,config:{duration:1e4}}));return ie("div",{children:[D(yt.div,{style:{width:100,height:100,background:"blue",borderRadius:8,...n}}),D(yt.div,{style:{width:80,height:80,background:"#ff6d6d",borderRadius:8,...e}}),D(yt.div,{style:{width:50,height:50,background:"green",borderRadius:8,...n}}),D(yt.h1,{style:{...i},children:"Loading"})]})},q$=YN([{path:"/",element:D(B$,{})},{path:"/signup",element:D(V$,{})},{path:"/game",element:D(W$,{})},{path:"/login",element:D(H$,{})},{path:"/spring",element:D(G$,{})}]);function K$(){return D(HN,{router:q$})}Ld.createRoot(document.getElementById("root")).render(D(K$,{}));
