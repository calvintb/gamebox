var dT=Object.defineProperty;var fT=(e,t,n)=>t in e?dT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=(e,t,n)=>(fT(e,typeof t!="symbol"?t+"":t,n),n);function pT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function mT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ko={},gT={get exports(){return Ko},set exports(e){Ko=e}},yc={},E={},vT={get exports(){return E},set exports(e){E=e}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),yT=Symbol.for("react.portal"),_T=Symbol.for("react.fragment"),wT=Symbol.for("react.strict_mode"),ET=Symbol.for("react.profiler"),CT=Symbol.for("react.provider"),ST=Symbol.for("react.context"),IT=Symbol.for("react.forward_ref"),TT=Symbol.for("react.suspense"),kT=Symbol.for("react.memo"),RT=Symbol.for("react.lazy"),Cv=Symbol.iterator;function NT(e){return e===null||typeof e!="object"?null:(e=Cv&&e[Cv]||e["@@iterator"],typeof e=="function"?e:null)}var V0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H0=Object.assign,G0={};function Os(e,t,n){this.props=e,this.context=t,this.refs=G0,this.updater=n||V0}Os.prototype.isReactComponent={};Os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function q0(){}q0.prototype=Os.prototype;function Ap(e,t,n){this.props=e,this.context=t,this.refs=G0,this.updater=n||V0}var xp=Ap.prototype=new q0;xp.constructor=Ap;H0(xp,Os.prototype);xp.isPureReactComponent=!0;var Sv=Array.isArray,K0=Object.prototype.hasOwnProperty,Op={current:null},Q0={key:!0,ref:!0,__self:!0,__source:!0};function Y0(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)K0.call(t,r)&&!Q0.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:jl,type:e,key:s,ref:o,props:i,_owner:Op.current}}function PT(e,t){return{$$typeof:jl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dp(e){return typeof e=="object"&&e!==null&&e.$$typeof===jl}function AT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Iv=/\/+/g;function Oh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AT(""+e.key):t.toString(36)}function qa(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jl:case yT:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Oh(o,0):r,Sv(i)?(n="",e!=null&&(n=e.replace(Iv,"$&/")+"/"),qa(i,t,n,"",function(u){return u})):i!=null&&(Dp(i)&&(i=PT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Iv,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Sv(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Oh(s,l);o+=qa(s,t,n,a,i)}else if(a=NT(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Oh(s,l++),o+=qa(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ea(e,t,n){if(e==null)return e;var r=[],i=0;return qa(e,r,"","",function(s){return t.call(n,s,i++)}),r}function xT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wt={current:null},Ka={transition:null},OT={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:Ka,ReactCurrentOwner:Op};ie.Children={map:Ea,forEach:function(e,t,n){Ea(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ea(e,function(){t++}),t},toArray:function(e){return Ea(e,function(t){return t})||[]},only:function(e){if(!Dp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Os;ie.Fragment=_T;ie.Profiler=ET;ie.PureComponent=Ap;ie.StrictMode=wT;ie.Suspense=TT;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OT;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=H0({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Op.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)K0.call(t,a)&&!Q0.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:jl,type:e.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(e){return e={$$typeof:ST,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CT,_context:e},e.Consumer=e};ie.createElement=Y0;ie.createFactory=function(e){var t=Y0.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:IT,render:e}};ie.isValidElement=Dp;ie.lazy=function(e){return{$$typeof:RT,_payload:{_status:-1,_result:e},_init:xT}};ie.memo=function(e,t){return{$$typeof:kT,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Ka.transition;Ka.transition={};try{e()}finally{Ka.transition=t}};ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ie.useCallback=function(e,t){return wt.current.useCallback(e,t)};ie.useContext=function(e){return wt.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return wt.current.useDeferredValue(e)};ie.useEffect=function(e,t){return wt.current.useEffect(e,t)};ie.useId=function(){return wt.current.useId()};ie.useImperativeHandle=function(e,t,n){return wt.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return wt.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return wt.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return wt.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return wt.current.useReducer(e,t,n)};ie.useRef=function(e){return wt.current.useRef(e)};ie.useState=function(e){return wt.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return wt.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return wt.current.useTransition()};ie.version="18.2.0";(function(e){e.exports=ie})(vT);const DT=mT(E),Ld=pT({__proto__:null,default:DT},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT=E,MT=Symbol.for("react.element"),LT=Symbol.for("react.fragment"),$T=Object.prototype.hasOwnProperty,FT=bT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UT={key:!0,ref:!0,__self:!0,__source:!0};function X0(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)$T.call(t,r)&&!UT.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:MT,type:e,key:s,ref:o,props:i,_owner:FT.current}}yc.Fragment=LT;yc.jsx=X0;yc.jsxs=X0;(function(e){e.exports=yc})(gT);const an=Ko.Fragment,D=Ko.jsx,Z=Ko.jsxs;var $d={},fu={},jT={get exports(){return fu},set exports(e){fu=e}},zt={},Fd={},zT={get exports(){return Fd},set exports(e){Fd=e}},J0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,M){var b=I.length;I.push(M);e:for(;0<b;){var U=b-1>>>1,K=I[U];if(0<i(K,M))I[U]=M,I[b]=K,b=U;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var M=I[0],b=I.pop();if(b!==M){I[0]=b;e:for(var U=0,K=I.length,me=K>>>1;U<me;){var ue=2*(U+1)-1,$n=I[ue],Cn=ue+1,en=I[Cn];if(0>i($n,b))Cn<K&&0>i(en,$n)?(I[U]=en,I[Cn]=b,U=Cn):(I[U]=$n,I[ue]=b,U=ue);else if(Cn<K&&0>i(en,b))I[U]=en,I[Cn]=b,U=Cn;else break e}}return M}function i(I,M){var b=I.sortIndex-M.sortIndex;return b!==0?b:I.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,d=3,y=!1,v=!1,_=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=I)r(u),M.sortIndex=M.expirationTime,t(a,M);else break;M=n(u)}}function w(I){if(_=!1,g(I),!v)if(n(a)!==null)v=!0,Zt(S);else{var M=n(u);M!==null&&En(w,M.startTime-I)}}function S(I,M){v=!1,_&&(_=!1,p(N),N=-1),y=!0;var b=d;try{for(g(M),h=n(a);h!==null&&(!(h.expirationTime>M)||I&&!ge());){var U=h.callback;if(typeof U=="function"){h.callback=null,d=h.priorityLevel;var K=U(h.expirationTime<=M);M=e.unstable_now(),typeof K=="function"?h.callback=K:h===n(a)&&r(a),g(M)}else r(a);h=n(a)}if(h!==null)var me=!0;else{var ue=n(u);ue!==null&&En(w,ue.startTime-M),me=!1}return me}finally{h=null,d=b,y=!1}}var k=!1,x=null,N=-1,J=5,F=-1;function ge(){return!(e.unstable_now()-F<J)}function Ee(){if(x!==null){var I=e.unstable_now();F=I;var M=!0;try{M=x(!0,I)}finally{M?Ce():(k=!1,x=null)}}else k=!1}var Ce;if(typeof f=="function")Ce=function(){f(Ee)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,st=Se.port2;Se.port1.onmessage=Ee,Ce=function(){st.postMessage(null)}}else Ce=function(){m(Ee,0)};function Zt(I){x=I,k||(k=!0,Ce())}function En(I,M){N=m(function(){I(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,Zt(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(I){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var b=d;d=M;try{return I()}finally{d=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,M){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var b=d;d=I;try{return M()}finally{d=b}},e.unstable_scheduleCallback=function(I,M,b){var U=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?U+b:U):b=U,I){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=b+K,I={id:c++,callback:M,priorityLevel:I,startTime:b,expirationTime:K,sortIndex:-1},b>U?(I.sortIndex=b,t(u,I),n(a)===null&&I===n(u)&&(_?(p(N),N=-1):_=!0,En(w,b-U))):(I.sortIndex=K,t(a,I),v||y||(v=!0,Zt(S))),I},e.unstable_shouldYield=ge,e.unstable_wrapCallback=function(I){var M=d;return function(){var b=d;d=M;try{return I.apply(this,arguments)}finally{d=b}}}})(J0);(function(e){e.exports=J0})(zT);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0=E,jt=Fd;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ew=new Set,Qo={};function Pi(e,t){vs(e,t),vs(e+"Capture",t)}function vs(e,t){for(Qo[e]=t,e=0;e<t.length;e++)ew.add(t[e])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ud=Object.prototype.hasOwnProperty,BT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tv={},kv={};function WT(e){return Ud.call(kv,e)?!0:Ud.call(Tv,e)?!1:BT.test(e)?kv[e]=!0:(Tv[e]=!0,!1)}function VT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HT(e,t,n,r){if(t===null||typeof t>"u"||VT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Et(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new Et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var bp=/[\-:]([a-z])/g;function Mp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bp,Mp);nt[t]=new Et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bp,Mp);nt[t]=new Et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bp,Mp);nt[t]=new Et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lp(e,t,n,r){var i=nt.hasOwnProperty(t)?nt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HT(t,n,i,r)&&(n=null),r||i===null?WT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ir=Z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ca=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),jd=Symbol.for("react.profiler"),tw=Symbol.for("react.provider"),nw=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),zd=Symbol.for("react.suspense"),Bd=Symbol.for("react.suspense_list"),Up=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),rw=Symbol.for("react.offscreen"),Rv=Symbol.iterator;function Zs(e){return e===null||typeof e!="object"?null:(e=Rv&&e[Rv]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Dh;function _o(e){if(Dh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dh=t&&t[1]||""}return`
`+Dh+e}var bh=!1;function Mh(e,t){if(!e||bh)return"";bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{bh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_o(e):""}function GT(e){switch(e.tag){case 5:return _o(e.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return e=Mh(e.type,!1),e;case 11:return e=Mh(e.type.render,!1),e;case 1:return e=Mh(e.type,!0),e;default:return""}}function Wd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ji:return"Fragment";case Ui:return"Portal";case jd:return"Profiler";case $p:return"StrictMode";case zd:return"Suspense";case Bd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nw:return(e.displayName||"Context")+".Consumer";case tw:return(e._context.displayName||"Context")+".Provider";case Fp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Up:return t=e.displayName||null,t!==null?t:Wd(e.type)||"Memo";case cr:t=e._payload,e=e._init;try{return Wd(e(t))}catch{}}return null}function qT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wd(t);case 8:return t===$p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KT(e){var t=iw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sa(e){e._valueTracker||(e._valueTracker=KT(e))}function sw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vd(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Nv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$r(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ow(e,t){t=t.checked,t!=null&&Lp(e,"checked",t,!1)}function Hd(e,t){ow(e,t);var n=$r(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gd(e,t.type,$r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gd(e,t,n){(t!=="number"||pu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wo=Array.isArray;function ns(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$r(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Av(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(wo(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$r(n)}}function lw(e,t){var n=$r(t.value),r=$r(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function aw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?aw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ia,uw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ia=Ia||document.createElement("div"),Ia.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ia.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var No={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QT=["Webkit","ms","Moz","O"];Object.keys(No).forEach(function(e){QT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),No[t]=No[e]})});function cw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||No.hasOwnProperty(e)&&No[e]?(""+t).trim():t+"px"}function hw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var YT=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qd(e,t){if(t){if(YT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Yd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=null;function jp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jd=null,rs=null,is=null;function Ov(e){if(e=Wl(e)){if(typeof Jd!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Sc(t),Jd(e.stateNode,e.type,t))}}function dw(e){rs?is?is.push(e):is=[e]:rs=e}function fw(){if(rs){var e=rs,t=is;if(is=rs=null,Ov(e),t)for(e=0;e<t.length;e++)Ov(t[e])}}function pw(e,t){return e(t)}function mw(){}var Lh=!1;function gw(e,t,n){if(Lh)return e(t,n);Lh=!0;try{return pw(e,t,n)}finally{Lh=!1,(rs!==null||is!==null)&&(mw(),fw())}}function Xo(e,t){var n=e.stateNode;if(n===null)return null;var r=Sc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Zd=!1;if(Xn)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Zd=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{Zd=!1}function XT(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Po=!1,mu=null,gu=!1,ef=null,JT={onError:function(e){Po=!0,mu=e}};function ZT(e,t,n,r,i,s,o,l,a){Po=!1,mu=null,XT.apply(JT,arguments)}function ek(e,t,n,r,i,s,o,l,a){if(ZT.apply(this,arguments),Po){if(Po){var u=mu;Po=!1,mu=null}else throw Error(P(198));gu||(gu=!0,ef=u)}}function Ai(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dv(e){if(Ai(e)!==e)throw Error(P(188))}function tk(e){var t=e.alternate;if(!t){if(t=Ai(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dv(i),e;if(s===r)return Dv(i),t;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function yw(e){return e=tk(e),e!==null?_w(e):null}function _w(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_w(e);if(t!==null)return t;e=e.sibling}return null}var ww=jt.unstable_scheduleCallback,bv=jt.unstable_cancelCallback,nk=jt.unstable_shouldYield,rk=jt.unstable_requestPaint,be=jt.unstable_now,ik=jt.unstable_getCurrentPriorityLevel,zp=jt.unstable_ImmediatePriority,Ew=jt.unstable_UserBlockingPriority,vu=jt.unstable_NormalPriority,sk=jt.unstable_LowPriority,Cw=jt.unstable_IdlePriority,_c=null,Pn=null;function ok(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(_c,e,void 0,(e.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:uk,lk=Math.log,ak=Math.LN2;function uk(e){return e>>>=0,e===0?32:31-(lk(e)/ak|0)|0}var Ta=64,ka=4194304;function Eo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Eo(l):(s&=o,s!==0&&(r=Eo(s)))}else o=n&~i,o!==0?r=Eo(o):s!==0&&(r=Eo(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pn(t),i=1<<n,r|=e[n],t&=~i;return r}function ck(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-pn(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=ck(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function tf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sw(){var e=Ta;return Ta<<=1,!(Ta&4194240)&&(Ta=64),e}function $h(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=n}function dk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-pn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Bp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var fe=0;function Iw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tw,Wp,kw,Rw,Nw,nf=!1,Ra=[],Sr=null,Ir=null,Tr=null,Jo=new Map,Zo=new Map,dr=[],fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mv(e,t){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Jo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(t.pointerId)}}function to(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Wl(t),t!==null&&Wp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pk(e,t,n,r,i){switch(t){case"focusin":return Sr=to(Sr,e,t,n,r,i),!0;case"dragenter":return Ir=to(Ir,e,t,n,r,i),!0;case"mouseover":return Tr=to(Tr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Jo.set(s,to(Jo.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Zo.set(s,to(Zo.get(s)||null,e,t,n,r,i)),!0}return!1}function Pw(e){var t=ti(e.target);if(t!==null){var n=Ai(t);if(n!==null){if(t=n.tag,t===13){if(t=vw(n),t!==null){e.blockedOn=t,Nw(e.priority,function(){kw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xd=r,n.target.dispatchEvent(r),Xd=null}else return t=Wl(n),t!==null&&Wp(t),e.blockedOn=n,!1;t.shift()}return!0}function Lv(e,t,n){Qa(e)&&n.delete(t)}function mk(){nf=!1,Sr!==null&&Qa(Sr)&&(Sr=null),Ir!==null&&Qa(Ir)&&(Ir=null),Tr!==null&&Qa(Tr)&&(Tr=null),Jo.forEach(Lv),Zo.forEach(Lv)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,nf||(nf=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,mk)))}function el(e){function t(i){return no(i,e)}if(0<Ra.length){no(Ra[0],e);for(var n=1;n<Ra.length;n++){var r=Ra[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sr!==null&&no(Sr,e),Ir!==null&&no(Ir,e),Tr!==null&&no(Tr,e),Jo.forEach(t),Zo.forEach(t),n=0;n<dr.length;n++)r=dr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dr.length&&(n=dr[0],n.blockedOn===null);)Pw(n),n.blockedOn===null&&dr.shift()}var ss=ir.ReactCurrentBatchConfig,_u=!0;function gk(e,t,n,r){var i=fe,s=ss.transition;ss.transition=null;try{fe=1,Vp(e,t,n,r)}finally{fe=i,ss.transition=s}}function vk(e,t,n,r){var i=fe,s=ss.transition;ss.transition=null;try{fe=4,Vp(e,t,n,r)}finally{fe=i,ss.transition=s}}function Vp(e,t,n,r){if(_u){var i=rf(e,t,n,r);if(i===null)qh(e,t,r,wu,n),Mv(e,r);else if(pk(i,e,t,n,r))r.stopPropagation();else if(Mv(e,r),t&4&&-1<fk.indexOf(e)){for(;i!==null;){var s=Wl(i);if(s!==null&&Tw(s),s=rf(e,t,n,r),s===null&&qh(e,t,r,wu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qh(e,t,r,null,n)}}var wu=null;function rf(e,t,n,r){if(wu=null,e=jp(r),e=ti(e),e!==null)if(t=Ai(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wu=e,null}function Aw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ik()){case zp:return 1;case Ew:return 4;case vu:case sk:return 16;case Cw:return 536870912;default:return 16}default:return 16}}var yr=null,Hp=null,Ya=null;function xw(){if(Ya)return Ya;var e,t=Hp,n=t.length,r,i="value"in yr?yr.value:yr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ya=i.slice(e,1<r?1-r:void 0)}function Xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Na(){return!0}function $v(){return!1}function Bt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Na:$v,this.isPropagationStopped=$v,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),t}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gp=Bt(Ds),Bl=xe({},Ds,{view:0,detail:0}),yk=Bt(Bl),Fh,Uh,ro,wc=xe({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ro&&(ro&&e.type==="mousemove"?(Fh=e.screenX-ro.screenX,Uh=e.screenY-ro.screenY):Uh=Fh=0,ro=e),Fh)},movementY:function(e){return"movementY"in e?e.movementY:Uh}}),Fv=Bt(wc),_k=xe({},wc,{dataTransfer:0}),wk=Bt(_k),Ek=xe({},Bl,{relatedTarget:0}),jh=Bt(Ek),Ck=xe({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Sk=Bt(Ck),Ik=xe({},Ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tk=Bt(Ik),kk=xe({},Ds,{data:0}),Uv=Bt(kk),Rk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ak(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pk[e])?!!t[e]:!1}function qp(){return Ak}var xk=xe({},Bl,{key:function(e){if(e.key){var t=Rk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(e){return e.type==="keypress"?Xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ok=Bt(xk),Dk=xe({},wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jv=Bt(Dk),bk=xe({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),Mk=Bt(bk),Lk=xe({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),$k=Bt(Lk),Fk=xe({},wc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uk=Bt(Fk),jk=[9,13,27,32],Kp=Xn&&"CompositionEvent"in window,Ao=null;Xn&&"documentMode"in document&&(Ao=document.documentMode);var zk=Xn&&"TextEvent"in window&&!Ao,Ow=Xn&&(!Kp||Ao&&8<Ao&&11>=Ao),zv=String.fromCharCode(32),Bv=!1;function Dw(e,t){switch(e){case"keyup":return jk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zi=!1;function Bk(e,t){switch(e){case"compositionend":return bw(t);case"keypress":return t.which!==32?null:(Bv=!0,zv);case"textInput":return e=t.data,e===zv&&Bv?null:e;default:return null}}function Wk(e,t){if(zi)return e==="compositionend"||!Kp&&Dw(e,t)?(e=xw(),Ya=Hp=yr=null,zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ow&&t.locale!=="ko"?null:t.data;default:return null}}var Vk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vk[e.type]:t==="textarea"}function Mw(e,t,n,r){dw(r),t=Eu(t,"onChange"),0<t.length&&(n=new Gp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xo=null,tl=null;function Hk(e){Gw(e,0)}function Ec(e){var t=Vi(e);if(sw(t))return e}function Gk(e,t){if(e==="change")return t}var Lw=!1;if(Xn){var zh;if(Xn){var Bh="oninput"in document;if(!Bh){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),Bh=typeof Vv.oninput=="function"}zh=Bh}else zh=!1;Lw=zh&&(!document.documentMode||9<document.documentMode)}function Hv(){xo&&(xo.detachEvent("onpropertychange",$w),tl=xo=null)}function $w(e){if(e.propertyName==="value"&&Ec(tl)){var t=[];Mw(t,tl,e,jp(e)),gw(Hk,t)}}function qk(e,t,n){e==="focusin"?(Hv(),xo=t,tl=n,xo.attachEvent("onpropertychange",$w)):e==="focusout"&&Hv()}function Kk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ec(tl)}function Qk(e,t){if(e==="click")return Ec(t)}function Yk(e,t){if(e==="input"||e==="change")return Ec(t)}function Xk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:Xk;function nl(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ud.call(t,i)||!vn(e[i],t[i]))return!1}return!0}function Gv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qv(e,t){var n=Gv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gv(n)}}function Fw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uw(){for(var e=window,t=pu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pu(e.document)}return t}function Qp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jk(e){var t=Uw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fw(n.ownerDocument.documentElement,n)){if(r!==null&&Qp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=qv(n,s);var o=qv(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zk=Xn&&"documentMode"in document&&11>=document.documentMode,Bi=null,sf=null,Oo=null,of=!1;function Kv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;of||Bi==null||Bi!==pu(r)||(r=Bi,"selectionStart"in r&&Qp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oo&&nl(Oo,r)||(Oo=r,r=Eu(sf,"onSelect"),0<r.length&&(t=new Gp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bi)))}function Pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wi={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},Wh={},jw={};Xn&&(jw=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function Cc(e){if(Wh[e])return Wh[e];if(!Wi[e])return e;var t=Wi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jw)return Wh[e]=t[n];return e}var zw=Cc("animationend"),Bw=Cc("animationiteration"),Ww=Cc("animationstart"),Vw=Cc("transitionend"),Hw=new Map,Qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){Hw.set(e,t),Pi(t,[e])}for(var Vh=0;Vh<Qv.length;Vh++){var Hh=Qv[Vh],eR=Hh.toLowerCase(),tR=Hh[0].toUpperCase()+Hh.slice(1);Vr(eR,"on"+tR)}Vr(zw,"onAnimationEnd");Vr(Bw,"onAnimationIteration");Vr(Ww,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(Vw,"onTransitionEnd");vs("onMouseEnter",["mouseout","mouseover"]);vs("onMouseLeave",["mouseout","mouseover"]);vs("onPointerEnter",["pointerout","pointerover"]);vs("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function Yv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ek(r,t,void 0,e),e.currentTarget=null}function Gw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Yv(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Yv(i,l,u),s=a}}}if(gu)throw e=ef,gu=!1,ef=null,e}function Ie(e,t){var n=t[hf];n===void 0&&(n=t[hf]=new Set);var r=e+"__bubble";n.has(r)||(qw(t,e,2,!1),n.add(r))}function Gh(e,t,n){var r=0;t&&(r|=4),qw(n,e,r,t)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function rl(e){if(!e[Aa]){e[Aa]=!0,ew.forEach(function(n){n!=="selectionchange"&&(nR.has(n)||Gh(n,!1,e),Gh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Aa]||(t[Aa]=!0,Gh("selectionchange",!1,t))}}function qw(e,t,n,r){switch(Aw(t)){case 1:var i=gk;break;case 4:i=vk;break;default:i=Vp}n=i.bind(null,t,n,e),i=void 0,!Zd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ti(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}gw(function(){var u=s,c=jp(n),h=[];e:{var d=Hw.get(e);if(d!==void 0){var y=Gp,v=e;switch(e){case"keypress":if(Xa(n)===0)break e;case"keydown":case"keyup":y=Ok;break;case"focusin":v="focus",y=jh;break;case"focusout":v="blur",y=jh;break;case"beforeblur":case"afterblur":y=jh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Fv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Mk;break;case zw:case Bw:case Ww:y=Sk;break;case Vw:y=$k;break;case"scroll":y=yk;break;case"wheel":y=Uk;break;case"copy":case"cut":case"paste":y=Tk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=jv}var _=(t&4)!==0,m=!_&&e==="scroll",p=_?d!==null?d+"Capture":null:d;_=[];for(var f=u,g;f!==null;){g=f;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,p!==null&&(w=Xo(f,p),w!=null&&_.push(il(f,w,g)))),m)break;f=f.return}0<_.length&&(d=new y(d,v,null,n,c),h.push({event:d,listeners:_}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&n!==Xd&&(v=n.relatedTarget||n.fromElement)&&(ti(v)||v[Jn]))break e;if((y||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?ti(v):null,v!==null&&(m=Ai(v),v!==m||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(_=Fv,w="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(_=jv,w="onPointerLeave",p="onPointerEnter",f="pointer"),m=y==null?d:Vi(y),g=v==null?d:Vi(v),d=new _(w,f+"leave",y,n,c),d.target=m,d.relatedTarget=g,w=null,ti(c)===u&&(_=new _(p,f+"enter",v,n,c),_.target=g,_.relatedTarget=m,w=_),m=w,y&&v)t:{for(_=y,p=v,f=0,g=_;g;g=Li(g))f++;for(g=0,w=p;w;w=Li(w))g++;for(;0<f-g;)_=Li(_),f--;for(;0<g-f;)p=Li(p),g--;for(;f--;){if(_===p||p!==null&&_===p.alternate)break t;_=Li(_),p=Li(p)}_=null}else _=null;y!==null&&Xv(h,d,y,_,!1),v!==null&&m!==null&&Xv(h,m,v,_,!0)}}e:{if(d=u?Vi(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var S=Gk;else if(Wv(d))if(Lw)S=Yk;else{S=Kk;var k=qk}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Qk);if(S&&(S=S(e,u))){Mw(h,S,n,c);break e}k&&k(e,d,u),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Gd(d,"number",d.value)}switch(k=u?Vi(u):window,e){case"focusin":(Wv(k)||k.contentEditable==="true")&&(Bi=k,sf=u,Oo=null);break;case"focusout":Oo=sf=Bi=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Kv(h,n,c);break;case"selectionchange":if(Zk)break;case"keydown":case"keyup":Kv(h,n,c)}var x;if(Kp)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else zi?Dw(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Ow&&n.locale!=="ko"&&(zi||N!=="onCompositionStart"?N==="onCompositionEnd"&&zi&&(x=xw()):(yr=c,Hp="value"in yr?yr.value:yr.textContent,zi=!0)),k=Eu(u,N),0<k.length&&(N=new Uv(N,e,null,n,c),h.push({event:N,listeners:k}),x?N.data=x:(x=bw(n),x!==null&&(N.data=x)))),(x=zk?Bk(e,n):Wk(e,n))&&(u=Eu(u,"onBeforeInput"),0<u.length&&(c=new Uv("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=x))}Gw(h,t)})}function il(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xo(e,n),s!=null&&r.unshift(il(e,s,i)),s=Xo(e,t),s!=null&&r.push(il(e,s,i))),e=e.return}return r}function Li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xv(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Xo(n,s),a!=null&&o.unshift(il(n,a,l))):i||(a=Xo(n,s),a!=null&&o.push(il(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var rR=/\r\n?/g,iR=/\u0000|\uFFFD/g;function Jv(e){return(typeof e=="string"?e:""+e).replace(rR,`
`).replace(iR,"")}function xa(e,t,n){if(t=Jv(t),Jv(e)!==t&&n)throw Error(P(425))}function Cu(){}var lf=null,af=null;function uf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cf=typeof setTimeout=="function"?setTimeout:void 0,sR=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,oR=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(e){return Zv.resolve(null).then(e).catch(lR)}:cf;function lR(e){setTimeout(function(){throw e})}function Kh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),el(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);el(t)}function kr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ey(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Rn="__reactFiber$"+bs,sl="__reactProps$"+bs,Jn="__reactContainer$"+bs,hf="__reactEvents$"+bs,aR="__reactListeners$"+bs,uR="__reactHandles$"+bs;function ti(e){var t=e[Rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jn]||n[Rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ey(e);e!==null;){if(n=e[Rn])return n;e=ey(e)}return t}e=n,n=e.parentNode}return null}function Wl(e){return e=e[Rn]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Sc(e){return e[sl]||null}var df=[],Hi=-1;function Hr(e){return{current:e}}function Te(e){0>Hi||(e.current=df[Hi],df[Hi]=null,Hi--)}function we(e,t){Hi++,df[Hi]=e.current,e.current=t}var Fr={},pt=Hr(Fr),Nt=Hr(!1),fi=Fr;function ys(e,t){var n=e.type.contextTypes;if(!n)return Fr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pt(e){return e=e.childContextTypes,e!=null}function Su(){Te(Nt),Te(pt)}function ty(e,t,n){if(pt.current!==Fr)throw Error(P(168));we(pt,t),we(Nt,n)}function Kw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(P(108,qT(e)||"Unknown",i));return xe({},n,r)}function Iu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,fi=pt.current,we(pt,e),we(Nt,Nt.current),!0}function ny(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Kw(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,Te(Nt),Te(pt),we(pt,e)):Te(Nt),we(Nt,n)}var Bn=null,Ic=!1,Qh=!1;function Qw(e){Bn===null?Bn=[e]:Bn.push(e)}function cR(e){Ic=!0,Qw(e)}function Gr(){if(!Qh&&Bn!==null){Qh=!0;var e=0,t=fe;try{var n=Bn;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bn=null,Ic=!1}catch(i){throw Bn!==null&&(Bn=Bn.slice(e+1)),ww(zp,Gr),i}finally{fe=t,Qh=!1}}return null}var Gi=[],qi=0,Tu=null,ku=0,Wt=[],Vt=0,pi=null,Wn=1,Vn="";function Yr(e,t){Gi[qi++]=ku,Gi[qi++]=Tu,Tu=e,ku=t}function Yw(e,t,n){Wt[Vt++]=Wn,Wt[Vt++]=Vn,Wt[Vt++]=pi,pi=e;var r=Wn;e=Vn;var i=32-pn(r)-1;r&=~(1<<i),n+=1;var s=32-pn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wn=1<<32-pn(t)+i|n<<i|r,Vn=s+e}else Wn=1<<s|n<<i|r,Vn=e}function Yp(e){e.return!==null&&(Yr(e,1),Yw(e,1,0))}function Xp(e){for(;e===Tu;)Tu=Gi[--qi],Gi[qi]=null,ku=Gi[--qi],Gi[qi]=null;for(;e===pi;)pi=Wt[--Vt],Wt[Vt]=null,Vn=Wt[--Vt],Wt[Vt]=null,Wn=Wt[--Vt],Wt[Vt]=null}var $t=null,bt=null,ke=!1,un=null;function Xw(e,t){var n=qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ry(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,bt=kr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pi!==null?{id:Wn,overflow:Vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$t=e,bt=null,!0):!1;default:return!1}}function ff(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pf(e){if(ke){var t=bt;if(t){var n=t;if(!ry(e,t)){if(ff(e))throw Error(P(418));t=kr(n.nextSibling);var r=$t;t&&ry(e,t)?Xw(r,n):(e.flags=e.flags&-4097|2,ke=!1,$t=e)}}else{if(ff(e))throw Error(P(418));e.flags=e.flags&-4097|2,ke=!1,$t=e}}}function iy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function Oa(e){if(e!==$t)return!1;if(!ke)return iy(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uf(e.type,e.memoizedProps)),t&&(t=bt)){if(ff(e))throw Jw(),Error(P(418));for(;t;)Xw(e,t),t=kr(t.nextSibling)}if(iy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bt=kr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=$t?kr(e.stateNode.nextSibling):null;return!0}function Jw(){for(var e=bt;e;)e=kr(e.nextSibling)}function _s(){bt=$t=null,ke=!1}function Jp(e){un===null?un=[e]:un.push(e)}var hR=ir.ReactCurrentBatchConfig;function on(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ru=Hr(null),Nu=null,Ki=null,Zp=null;function em(){Zp=Ki=Nu=null}function tm(e){var t=Ru.current;Te(Ru),e._currentValue=t}function mf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function os(e,t){Nu=e,Zp=Ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tt=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(Zp!==e)if(e={context:e,memoizedValue:t,next:null},Ki===null){if(Nu===null)throw Error(P(308));Ki=e,Nu.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return t}var ni=null;function nm(e){ni===null?ni=[e]:ni.push(e)}function Zw(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,nm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Zn(e,r)}function Zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hr=!1;function rm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zn(e,n)}return i=r.interleaved,i===null?(t.next=t,nm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zn(e,n)}function Ja(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bp(e,n)}}function sy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pu(e,t,n,r){var i=e.updateQueue;hr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,c=u=a=null,l=s;do{var d=l.lane,y=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,_=l;switch(d=t,y=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(y,h,d);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,d=typeof v=="function"?v.call(y,h,d):v,d==null)break e;h=xe({},h,d);break e;case 2:hr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=y,a=h):c=c.next=y,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);gi|=o,e.lanes=o,e.memoizedState=h}}function oy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var t1=new Z0.Component().refs;function gf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tc={isMounted:function(e){return(e=e._reactInternals)?Ai(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yt(),i=Pr(e),s=Qn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Rr(e,s,i),t!==null&&(mn(t,e,i,r),Ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yt(),i=Pr(e),s=Qn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Rr(e,s,i),t!==null&&(mn(t,e,i,r),Ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),r=Pr(e),i=Qn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Rr(e,i,r),t!==null&&(mn(t,e,r,n),Ja(t,e,r))}};function ly(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!nl(n,r)||!nl(i,s):!0}function n1(e,t,n){var r=!1,i=Fr,s=t.contextType;return typeof s=="object"&&s!==null?s=Yt(s):(i=Pt(t)?fi:pt.current,r=t.contextTypes,s=(r=r!=null)?ys(e,i):Fr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ay(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Tc.enqueueReplaceState(t,t.state,null)}function vf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=t1,rm(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Yt(s):(s=Pt(t)?fi:pt.current,i.context=ys(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(gf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Tc.enqueueReplaceState(i,i.state,null),Pu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function io(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===t1&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Da(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uy(e){var t=e._init;return t(e._payload)}function r1(e){function t(p,f){if(e){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=Ar(p,f),p.index=0,p.sibling=null,p}function s(p,f,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,g,w){return f===null||f.tag!==6?(f=nd(g,p.mode,w),f.return=p,f):(f=i(f,g),f.return=p,f)}function a(p,f,g,w){var S=g.type;return S===ji?c(p,f,g.props.children,w,g.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===cr&&uy(S)===f.type)?(w=i(f,g.props),w.ref=io(p,f,g),w.return=p,w):(w=iu(g.type,g.key,g.props,null,p.mode,w),w.ref=io(p,f,g),w.return=p,w)}function u(p,f,g,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=rd(g,p.mode,w),f.return=p,f):(f=i(f,g.children||[]),f.return=p,f)}function c(p,f,g,w,S){return f===null||f.tag!==7?(f=ui(g,p.mode,w,S),f.return=p,f):(f=i(f,g),f.return=p,f)}function h(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=nd(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ca:return g=iu(f.type,f.key,f.props,null,p.mode,g),g.ref=io(p,null,f),g.return=p,g;case Ui:return f=rd(f,p.mode,g),f.return=p,f;case cr:var w=f._init;return h(p,w(f._payload),g)}if(wo(f)||Zs(f))return f=ui(f,p.mode,g,null),f.return=p,f;Da(p,f)}return null}function d(p,f,g,w){var S=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(p,f,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ca:return g.key===S?a(p,f,g,w):null;case Ui:return g.key===S?u(p,f,g,w):null;case cr:return S=g._init,d(p,f,S(g._payload),w)}if(wo(g)||Zs(g))return S!==null?null:c(p,f,g,w,null);Da(p,g)}return null}function y(p,f,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(g)||null,l(f,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ca:return p=p.get(w.key===null?g:w.key)||null,a(f,p,w,S);case Ui:return p=p.get(w.key===null?g:w.key)||null,u(f,p,w,S);case cr:var k=w._init;return y(p,f,g,k(w._payload),S)}if(wo(w)||Zs(w))return p=p.get(g)||null,c(f,p,w,S,null);Da(f,w)}return null}function v(p,f,g,w){for(var S=null,k=null,x=f,N=f=0,J=null;x!==null&&N<g.length;N++){x.index>N?(J=x,x=null):J=x.sibling;var F=d(p,x,g[N],w);if(F===null){x===null&&(x=J);break}e&&x&&F.alternate===null&&t(p,x),f=s(F,f,N),k===null?S=F:k.sibling=F,k=F,x=J}if(N===g.length)return n(p,x),ke&&Yr(p,N),S;if(x===null){for(;N<g.length;N++)x=h(p,g[N],w),x!==null&&(f=s(x,f,N),k===null?S=x:k.sibling=x,k=x);return ke&&Yr(p,N),S}for(x=r(p,x);N<g.length;N++)J=y(x,p,N,g[N],w),J!==null&&(e&&J.alternate!==null&&x.delete(J.key===null?N:J.key),f=s(J,f,N),k===null?S=J:k.sibling=J,k=J);return e&&x.forEach(function(ge){return t(p,ge)}),ke&&Yr(p,N),S}function _(p,f,g,w){var S=Zs(g);if(typeof S!="function")throw Error(P(150));if(g=S.call(g),g==null)throw Error(P(151));for(var k=S=null,x=f,N=f=0,J=null,F=g.next();x!==null&&!F.done;N++,F=g.next()){x.index>N?(J=x,x=null):J=x.sibling;var ge=d(p,x,F.value,w);if(ge===null){x===null&&(x=J);break}e&&x&&ge.alternate===null&&t(p,x),f=s(ge,f,N),k===null?S=ge:k.sibling=ge,k=ge,x=J}if(F.done)return n(p,x),ke&&Yr(p,N),S;if(x===null){for(;!F.done;N++,F=g.next())F=h(p,F.value,w),F!==null&&(f=s(F,f,N),k===null?S=F:k.sibling=F,k=F);return ke&&Yr(p,N),S}for(x=r(p,x);!F.done;N++,F=g.next())F=y(x,p,N,F.value,w),F!==null&&(e&&F.alternate!==null&&x.delete(F.key===null?N:F.key),f=s(F,f,N),k===null?S=F:k.sibling=F,k=F);return e&&x.forEach(function(Ee){return t(p,Ee)}),ke&&Yr(p,N),S}function m(p,f,g,w){if(typeof g=="object"&&g!==null&&g.type===ji&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ca:e:{for(var S=g.key,k=f;k!==null;){if(k.key===S){if(S=g.type,S===ji){if(k.tag===7){n(p,k.sibling),f=i(k,g.props.children),f.return=p,p=f;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===cr&&uy(S)===k.type){n(p,k.sibling),f=i(k,g.props),f.ref=io(p,k,g),f.return=p,p=f;break e}n(p,k);break}else t(p,k);k=k.sibling}g.type===ji?(f=ui(g.props.children,p.mode,w,g.key),f.return=p,p=f):(w=iu(g.type,g.key,g.props,null,p.mode,w),w.ref=io(p,f,g),w.return=p,p=w)}return o(p);case Ui:e:{for(k=g.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(p,f.sibling),f=i(f,g.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=rd(g,p.mode,w),f.return=p,p=f}return o(p);case cr:return k=g._init,m(p,f,k(g._payload),w)}if(wo(g))return v(p,f,g,w);if(Zs(g))return _(p,f,g,w);Da(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,g),f.return=p,p=f):(n(p,f),f=nd(g,p.mode,w),f.return=p,p=f),o(p)):n(p,f)}return m}var ws=r1(!0),i1=r1(!1),Vl={},An=Hr(Vl),ol=Hr(Vl),ll=Hr(Vl);function ri(e){if(e===Vl)throw Error(P(174));return e}function im(e,t){switch(we(ll,t),we(ol,e),we(An,Vl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kd(t,e)}Te(An),we(An,t)}function Es(){Te(An),Te(ol),Te(ll)}function s1(e){ri(ll.current);var t=ri(An.current),n=Kd(t,e.type);t!==n&&(we(ol,e),we(An,n))}function sm(e){ol.current===e&&(Te(An),Te(ol))}var Ne=Hr(0);function Au(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yh=[];function om(){for(var e=0;e<Yh.length;e++)Yh[e]._workInProgressVersionPrimary=null;Yh.length=0}var Za=ir.ReactCurrentDispatcher,Xh=ir.ReactCurrentBatchConfig,mi=0,Ae=null,Ue=null,Ve=null,xu=!1,Do=!1,al=0,dR=0;function lt(){throw Error(P(321))}function lm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vn(e[n],t[n]))return!1;return!0}function am(e,t,n,r,i,s){if(mi=s,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Za.current=e===null||e.memoizedState===null?gR:vR,e=n(r,i),Do){s=0;do{if(Do=!1,al=0,25<=s)throw Error(P(301));s+=1,Ve=Ue=null,t.updateQueue=null,Za.current=yR,e=n(r,i)}while(Do)}if(Za.current=Ou,t=Ue!==null&&Ue.next!==null,mi=0,Ve=Ue=Ae=null,xu=!1,t)throw Error(P(300));return e}function um(){var e=al!==0;return al=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ae.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Xt(){if(Ue===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Ve===null?Ae.memoizedState:Ve.next;if(t!==null)Ve=t,Ue=e;else{if(e===null)throw Error(P(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ve===null?Ae.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function ul(e,t){return typeof t=="function"?t(e):t}function Jh(e){var t=Xt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((mi&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,Ae.lanes|=c,gi|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,vn(r,t.memoizedState)||(Tt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ae.lanes|=s,gi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zh(e){var t=Xt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);vn(s,t.memoizedState)||(Tt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function o1(){}function l1(e,t){var n=Ae,r=Xt(),i=t(),s=!vn(r.memoizedState,i);if(s&&(r.memoizedState=i,Tt=!0),r=r.queue,cm(c1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,cl(9,u1.bind(null,n,r,i,t),void 0,null),Ke===null)throw Error(P(349));mi&30||a1(n,t,i)}return i}function a1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function u1(e,t,n,r){t.value=n,t.getSnapshot=r,h1(t)&&d1(e)}function c1(e,t,n){return n(function(){h1(t)&&d1(e)})}function h1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vn(e,n)}catch{return!0}}function d1(e){var t=Zn(e,1);t!==null&&mn(t,e,1,-1)}function cy(e){var t=In();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:e},t.queue=e,e=e.dispatch=mR.bind(null,Ae,e),[t.memoizedState,e]}function cl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function f1(){return Xt().memoizedState}function eu(e,t,n,r){var i=In();Ae.flags|=e,i.memoizedState=cl(1|t,n,void 0,r===void 0?null:r)}function kc(e,t,n,r){var i=Xt();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&lm(r,o.deps)){i.memoizedState=cl(t,n,s,r);return}}Ae.flags|=e,i.memoizedState=cl(1|t,n,s,r)}function hy(e,t){return eu(8390656,8,e,t)}function cm(e,t){return kc(2048,8,e,t)}function p1(e,t){return kc(4,2,e,t)}function m1(e,t){return kc(4,4,e,t)}function g1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function v1(e,t,n){return n=n!=null?n.concat([e]):null,kc(4,4,g1.bind(null,t,e),n)}function hm(){}function y1(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _1(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function w1(e,t,n){return mi&21?(vn(n,t)||(n=Sw(),Ae.lanes|=n,gi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=n)}function fR(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=Xh.transition;Xh.transition={};try{e(!1),t()}finally{fe=n,Xh.transition=r}}function E1(){return Xt().memoizedState}function pR(e,t,n){var r=Pr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},C1(e))S1(t,n);else if(n=Zw(e,t,n,r),n!==null){var i=yt();mn(n,e,r,i),I1(n,t,r)}}function mR(e,t,n){var r=Pr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(C1(e))S1(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,vn(l,o)){var a=t.interleaved;a===null?(i.next=i,nm(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Zw(e,t,i,r),n!==null&&(i=yt(),mn(n,e,r,i),I1(n,t,r))}}function C1(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function S1(e,t){Do=xu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function I1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bp(e,n)}}var Ou={readContext:Yt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},gR={readContext:Yt,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:hy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,eu(4194308,4,g1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eu(4194308,4,e,t)},useInsertionEffect:function(e,t){return eu(4,2,e,t)},useMemo:function(e,t){var n=In();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=In();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pR.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:cy,useDebugValue:hm,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=cy(!1),t=e[0];return e=fR.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,i=In();if(ke){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Ke===null)throw Error(P(349));mi&30||a1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,hy(c1.bind(null,r,s,e),[e]),r.flags|=2048,cl(9,u1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=In(),t=Ke.identifierPrefix;if(ke){var n=Vn,r=Wn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=al++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vR={readContext:Yt,useCallback:y1,useContext:Yt,useEffect:cm,useImperativeHandle:v1,useInsertionEffect:p1,useLayoutEffect:m1,useMemo:_1,useReducer:Jh,useRef:f1,useState:function(){return Jh(ul)},useDebugValue:hm,useDeferredValue:function(e){var t=Xt();return w1(t,Ue.memoizedState,e)},useTransition:function(){var e=Jh(ul)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:o1,useSyncExternalStore:l1,useId:E1,unstable_isNewReconciler:!1},yR={readContext:Yt,useCallback:y1,useContext:Yt,useEffect:cm,useImperativeHandle:v1,useInsertionEffect:p1,useLayoutEffect:m1,useMemo:_1,useReducer:Zh,useRef:f1,useState:function(){return Zh(ul)},useDebugValue:hm,useDeferredValue:function(e){var t=Xt();return Ue===null?t.memoizedState=e:w1(t,Ue.memoizedState,e)},useTransition:function(){var e=Zh(ul)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:o1,useSyncExternalStore:l1,useId:E1,unstable_isNewReconciler:!1};function Cs(e,t){try{var n="",r=t;do n+=GT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ed(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _R=typeof WeakMap=="function"?WeakMap:Map;function T1(e,t,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bu||(bu=!0,Nf=r),yf(e,t)},n}function k1(e,t,n){n=Qn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yf(e,t),typeof r!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function dy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _R;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=DR.bind(null,e,t,n),t.then(e,e))}function fy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function py(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qn(-1,1),t.tag=2,Rr(n,t,1))),n.lanes|=1),e)}var wR=ir.ReactCurrentOwner,Tt=!1;function gt(e,t,n,r){t.child=e===null?i1(t,null,n,r):ws(t,e.child,n,r)}function my(e,t,n,r,i){n=n.render;var s=t.ref;return os(t,i),r=am(e,t,n,r,s,i),n=um(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,er(e,t,i)):(ke&&n&&Yp(t),t.flags|=1,gt(e,t,r,i),t.child)}function gy(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!_m(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,R1(e,t,s,r,i)):(e=iu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:nl,n(o,r)&&e.ref===t.ref)return er(e,t,i)}return t.flags|=1,e=Ar(s,r),e.ref=t.ref,e.return=t,t.child=e}function R1(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(nl(s,r)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Tt=!0);else return t.lanes=e.lanes,er(e,t,i)}return _f(e,t,n,r,i)}function N1(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Yi,Ot),Ot|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Yi,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(Yi,Ot),Ot|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,we(Yi,Ot),Ot|=r;return gt(e,t,i,n),t.child}function P1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _f(e,t,n,r,i){var s=Pt(n)?fi:pt.current;return s=ys(t,s),os(t,i),n=am(e,t,n,r,s,i),r=um(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,er(e,t,i)):(ke&&r&&Yp(t),t.flags|=1,gt(e,t,n,i),t.child)}function vy(e,t,n,r,i){if(Pt(n)){var s=!0;Iu(t)}else s=!1;if(os(t,i),t.stateNode===null)tu(e,t),n1(t,n,r),vf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yt(u):(u=Pt(n)?fi:pt.current,u=ys(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ay(t,o,r,u),hr=!1;var d=t.memoizedState;o.state=d,Pu(t,r,o,i),a=t.memoizedState,l!==r||d!==a||Nt.current||hr?(typeof c=="function"&&(gf(t,n,c,r),a=t.memoizedState),(l=hr||ly(t,n,l,r,d,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,e1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:on(t.type,l),o.props=u,h=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Yt(a):(a=Pt(n)?fi:pt.current,a=ys(t,a));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&ay(t,o,r,a),hr=!1,d=t.memoizedState,o.state=d,Pu(t,r,o,i);var v=t.memoizedState;l!==h||d!==v||Nt.current||hr?(typeof y=="function"&&(gf(t,n,y,r),v=t.memoizedState),(u=hr||ly(t,n,u,r,d,v,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return wf(e,t,n,r,s,i)}function wf(e,t,n,r,i,s){P1(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&ny(t,n,!1),er(e,t,s);r=t.stateNode,wR.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,l,s)):gt(e,t,l,s),t.memoizedState=r.state,i&&ny(t,n,!0),t.child}function A1(e){var t=e.stateNode;t.pendingContext?ty(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ty(e,t.context,!1),im(e,t.containerInfo)}function yy(e,t,n,r,i){return _s(),Jp(i),t.flags|=256,gt(e,t,n,r),t.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Cf(e){return{baseLanes:e,cachePool:null,transitions:null}}function x1(e,t,n){var r=t.pendingProps,i=Ne.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),we(Ne,i&1),e===null)return pf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pc(o,r,0,null),e=ui(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Cf(n),t.memoizedState=Ef,e):dm(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ER(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Ar(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ar(l,s):(s=ui(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Cf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ef,r}return s=e.child,e=s.sibling,r=Ar(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function dm(e,t){return t=Pc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ba(e,t,n,r){return r!==null&&Jp(r),ws(t,e.child,null,n),e=dm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ER(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ed(Error(P(422))),ba(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Pc({mode:"visible",children:r.children},i,0,null),s=ui(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ws(t,e.child,null,o),t.child.memoizedState=Cf(o),t.memoizedState=Ef,s);if(!(t.mode&1))return ba(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=ed(s,r,void 0),ba(e,t,o,r)}if(l=(o&e.childLanes)!==0,Tt||l){if(r=Ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zn(e,i),mn(r,e,i,-1))}return ym(),r=ed(Error(P(421))),ba(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bR.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,bt=kr(i.nextSibling),$t=t,ke=!0,un=null,e!==null&&(Wt[Vt++]=Wn,Wt[Vt++]=Vn,Wt[Vt++]=pi,Wn=e.id,Vn=e.overflow,pi=t),t=dm(t,r.children),t.flags|=4096,t)}function _y(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),mf(e.return,t,n)}function td(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function O1(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(gt(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_y(e,n,t);else if(e.tag===19)_y(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Au(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),td(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Au(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}td(t,!0,n,null,s);break;case"together":td(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Ar(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ar(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function CR(e,t,n){switch(t.tag){case 3:A1(t),_s();break;case 5:s1(t);break;case 1:Pt(t.type)&&Iu(t);break;case 4:im(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;we(Ru,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?x1(e,t,n):(we(Ne,Ne.current&1),e=er(e,t,n),e!==null?e.sibling:null);we(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return O1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,N1(e,t,n)}return er(e,t,n)}var D1,Sf,b1,M1;D1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sf=function(){};b1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ri(An.current);var s=null;switch(n){case"input":i=Vd(e,i),r=Vd(e,r),s=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),s=[];break;case"textarea":i=qd(e,i),r=qd(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cu)}Qd(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Ie("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};M1=function(e,t,n,r){n!==r&&(t.flags|=4)};function so(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SR(e,t,n){var r=t.pendingProps;switch(Xp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return Pt(t.type)&&Su(),at(t),null;case 3:return r=t.stateNode,Es(),Te(Nt),Te(pt),om(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(xf(un),un=null))),Sf(e,t),at(t),null;case 5:sm(t);var i=ri(ll.current);if(n=t.type,e!==null&&t.stateNode!=null)b1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return at(t),null}if(e=ri(An.current),Oa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Rn]=t,r[sl]=s,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Co.length;i++)Ie(Co[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Nv(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":Av(r,s),Ie("invalid",r)}Qd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&xa(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&xa(r.textContent,l,e),i=["children",""+l]):Qo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Sa(r),Pv(r,s,!0);break;case"textarea":Sa(r),xv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=aw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rn]=t,e[sl]=r,D1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yd(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),i=r;break;case"iframe":case"object":case"embed":Ie("load",e),i=r;break;case"video":case"audio":for(i=0;i<Co.length;i++)Ie(Co[i],e);i=r;break;case"source":Ie("error",e),i=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),i=r;break;case"details":Ie("toggle",e),i=r;break;case"input":Nv(e,r),i=Vd(e,r),Ie("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":Av(e,r),i=qd(e,r),Ie("invalid",e);break;default:i=r}Qd(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?hw(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&uw(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Yo(e,a):typeof a=="number"&&Yo(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qo.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Ie("scroll",e):a!=null&&Lp(e,s,a,o))}switch(n){case"input":Sa(e),Pv(e,r,!1);break;case"textarea":Sa(e),xv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$r(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ns(e,!!r.multiple,s,!1):r.defaultValue!=null&&ns(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)M1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=ri(ll.current),ri(An.current),Oa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rn]=t,(s=r.nodeValue!==n)&&(e=$t,e!==null))switch(e.tag){case 3:xa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rn]=t,t.stateNode=r}return at(t),null;case 13:if(Te(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&bt!==null&&t.mode&1&&!(t.flags&128))Jw(),_s(),t.flags|=98560,s=!1;else if(s=Oa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(P(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Rn]=t}else _s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),s=!1}else un!==null&&(xf(un),un=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?je===0&&(je=3):ym())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return Es(),Sf(e,t),e===null&&rl(t.stateNode.containerInfo),at(t),null;case 10:return tm(t.type._context),at(t),null;case 17:return Pt(t.type)&&Su(),at(t),null;case 19:if(Te(Ne),s=t.memoizedState,s===null)return at(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)so(s,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Au(e),o!==null){for(t.flags|=128,so(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(Ne,Ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&be()>Ss&&(t.flags|=128,r=!0,so(s,!1),t.lanes=4194304)}else{if(!r)if(e=Au(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),so(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return at(t),null}else 2*be()-s.renderingStartTime>Ss&&n!==1073741824&&(t.flags|=128,r=!0,so(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=be(),t.sibling=null,n=Ne.current,we(Ne,r?n&1|2:n&1),t):(at(t),null);case 22:case 23:return vm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function IR(e,t){switch(Xp(t),t.tag){case 1:return Pt(t.type)&&Su(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Es(),Te(Nt),Te(pt),om(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sm(t),null;case 13:if(Te(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Ne),null;case 4:return Es(),null;case 10:return tm(t.type._context),null;case 22:case 23:return vm(),null;case 24:return null;default:return null}}var Ma=!1,ct=!1,TR=typeof WeakSet=="function"?WeakSet:Set,$=null;function Qi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function If(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var wy=!1;function kR(e,t){if(lf=_u,e=Uw(),Qp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)d=h,h=y;for(;;){if(h===e)break t;if(d===n&&++u===i&&(l=o),d===s&&++c===r&&(a=o),(y=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(af={focusedElem:e,selectionRange:n},_u=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,m=v.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:on(t.type,_),m);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){Oe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return v=wy,wy=!1,v}function bo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&If(t,n,s)}i=i.next}while(i!==r)}}function Rc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function L1(e){var t=e.alternate;t!==null&&(e.alternate=null,L1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[sl],delete t[hf],delete t[aR],delete t[uR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $1(e){return e.tag===5||e.tag===3||e.tag===4}function Ey(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cu));else if(r!==4&&(e=e.child,e!==null))for(kf(e,t,n),e=e.sibling;e!==null;)kf(e,t,n),e=e.sibling}function Rf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rf(e,t,n),e=e.sibling;e!==null;)Rf(e,t,n),e=e.sibling}var Xe=null,ln=!1;function lr(e,t,n){for(n=n.child;n!==null;)F1(e,t,n),n=n.sibling}function F1(e,t,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(_c,n)}catch{}switch(n.tag){case 5:ct||Qi(n,t);case 6:var r=Xe,i=ln;Xe=null,lr(e,t,n),Xe=r,ln=i,Xe!==null&&(ln?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(ln?(e=Xe,n=n.stateNode,e.nodeType===8?Kh(e.parentNode,n):e.nodeType===1&&Kh(e,n),el(e)):Kh(Xe,n.stateNode));break;case 4:r=Xe,i=ln,Xe=n.stateNode.containerInfo,ln=!0,lr(e,t,n),Xe=r,ln=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&If(n,t,o),i=i.next}while(i!==r)}lr(e,t,n);break;case 1:if(!ct&&(Qi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Oe(n,t,l)}lr(e,t,n);break;case 21:lr(e,t,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,lr(e,t,n),ct=r):lr(e,t,n);break;default:lr(e,t,n)}}function Cy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new TR),t.forEach(function(r){var i=MR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,ln=!1;break e;case 3:Xe=l.stateNode.containerInfo,ln=!0;break e;case 4:Xe=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if(Xe===null)throw Error(P(160));F1(s,o,i),Xe=null,ln=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Oe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)U1(t,e),t=t.sibling}function U1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sn(t,e),Sn(e),r&4){try{bo(3,e,e.return),Rc(3,e)}catch(_){Oe(e,e.return,_)}try{bo(5,e,e.return)}catch(_){Oe(e,e.return,_)}}break;case 1:sn(t,e),Sn(e),r&512&&n!==null&&Qi(n,n.return);break;case 5:if(sn(t,e),Sn(e),r&512&&n!==null&&Qi(n,n.return),e.flags&32){var i=e.stateNode;try{Yo(i,"")}catch(_){Oe(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&ow(i,s),Yd(l,o);var u=Yd(l,s);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?hw(i,h):c==="dangerouslySetInnerHTML"?uw(i,h):c==="children"?Yo(i,h):Lp(i,c,h,u)}switch(l){case"input":Hd(i,s);break;case"textarea":lw(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ns(i,!!s.multiple,y,!1):d!==!!s.multiple&&(s.defaultValue!=null?ns(i,!!s.multiple,s.defaultValue,!0):ns(i,!!s.multiple,s.multiple?[]:"",!1))}i[sl]=s}catch(_){Oe(e,e.return,_)}}break;case 6:if(sn(t,e),Sn(e),r&4){if(e.stateNode===null)throw Error(P(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){Oe(e,e.return,_)}}break;case 3:if(sn(t,e),Sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{el(t.containerInfo)}catch(_){Oe(e,e.return,_)}break;case 4:sn(t,e),Sn(e);break;case 13:sn(t,e),Sn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mm=be())),r&4&&Cy(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ct=(u=ct)||c,sn(t,e),ct=u):sn(t,e),Sn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for($=e,c=e.child;c!==null;){for(h=$=c;$!==null;){switch(d=$,y=d.child,d.tag){case 0:case 11:case 14:case 15:bo(4,d,d.return);break;case 1:Qi(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(_){Oe(r,n,_)}}break;case 5:Qi(d,d.return);break;case 22:if(d.memoizedState!==null){Iy(h);continue}}y!==null?(y.return=d,$=y):Iy(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=cw("display",o))}catch(_){Oe(e,e.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Oe(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sn(t,e),Sn(e),r&4&&Cy(e);break;case 21:break;default:sn(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($1(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yo(i,""),r.flags&=-33);var s=Ey(e);Rf(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ey(e);kf(e,l,o);break;default:throw Error(P(161))}}catch(a){Oe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RR(e,t,n){$=e,j1(e)}function j1(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ma;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ct;l=Ma;var u=ct;if(Ma=o,(ct=a)&&!u)for($=i;$!==null;)o=$,a=o.child,o.tag===22&&o.memoizedState!==null?Ty(i):a!==null?(a.return=o,$=a):Ty(i);for(;s!==null;)$=s,j1(s),s=s.sibling;$=i,Ma=l,ct=u}Sy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):Sy(e)}}function Sy(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ct||Rc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:on(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&oy(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}oy(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&el(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ct||t.flags&512&&Tf(t)}catch(d){Oe(t,t.return,d)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Iy(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Ty(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Rc(4,t)}catch(a){Oe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Oe(t,i,a)}}var s=t.return;try{Tf(t)}catch(a){Oe(t,s,a)}break;case 5:var o=t.return;try{Tf(t)}catch(a){Oe(t,o,a)}}}catch(a){Oe(t,t.return,a)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var NR=Math.ceil,Du=ir.ReactCurrentDispatcher,fm=ir.ReactCurrentOwner,Qt=ir.ReactCurrentBatchConfig,ae=0,Ke=null,$e=null,et=0,Ot=0,Yi=Hr(0),je=0,hl=null,gi=0,Nc=0,pm=0,Mo=null,St=null,mm=0,Ss=1/0,Un=null,bu=!1,Nf=null,Nr=null,La=!1,_r=null,Mu=0,Lo=0,Pf=null,nu=-1,ru=0;function yt(){return ae&6?be():nu!==-1?nu:nu=be()}function Pr(e){return e.mode&1?ae&2&&et!==0?et&-et:hR.transition!==null?(ru===0&&(ru=Sw()),ru):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Aw(e.type)),e):1}function mn(e,t,n,r){if(50<Lo)throw Lo=0,Pf=null,Error(P(185));zl(e,n,r),(!(ae&2)||e!==Ke)&&(e===Ke&&(!(ae&2)&&(Nc|=n),je===4&&fr(e,et)),At(e,r),n===1&&ae===0&&!(t.mode&1)&&(Ss=be()+500,Ic&&Gr()))}function At(e,t){var n=e.callbackNode;hk(e,t);var r=yu(e,e===Ke?et:0);if(r===0)n!==null&&bv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bv(n),t===1)e.tag===0?cR(ky.bind(null,e)):Qw(ky.bind(null,e)),oR(function(){!(ae&6)&&Gr()}),n=null;else{switch(Iw(r)){case 1:n=zp;break;case 4:n=Ew;break;case 16:n=vu;break;case 536870912:n=Cw;break;default:n=vu}n=K1(n,z1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function z1(e,t){if(nu=-1,ru=0,ae&6)throw Error(P(327));var n=e.callbackNode;if(ls()&&e.callbackNode!==n)return null;var r=yu(e,e===Ke?et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lu(e,r);else{t=r;var i=ae;ae|=2;var s=W1();(Ke!==e||et!==t)&&(Un=null,Ss=be()+500,ai(e,t));do try{xR();break}catch(l){B1(e,l)}while(1);em(),Du.current=s,ae=i,$e!==null?t=0:(Ke=null,et=0,t=je)}if(t!==0){if(t===2&&(i=tf(e),i!==0&&(r=i,t=Af(e,i))),t===1)throw n=hl,ai(e,0),fr(e,r),At(e,be()),n;if(t===6)fr(e,r);else{if(i=e.current.alternate,!(r&30)&&!PR(i)&&(t=Lu(e,r),t===2&&(s=tf(e),s!==0&&(r=s,t=Af(e,s))),t===1))throw n=hl,ai(e,0),fr(e,r),At(e,be()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Xr(e,St,Un);break;case 3:if(fr(e,r),(r&130023424)===r&&(t=mm+500-be(),10<t)){if(yu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){yt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=cf(Xr.bind(null,e,St,Un),t);break}Xr(e,St,Un);break;case 4:if(fr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-pn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NR(r/1960))-r,10<r){e.timeoutHandle=cf(Xr.bind(null,e,St,Un),r);break}Xr(e,St,Un);break;case 5:Xr(e,St,Un);break;default:throw Error(P(329))}}}return At(e,be()),e.callbackNode===n?z1.bind(null,e):null}function Af(e,t){var n=Mo;return e.current.memoizedState.isDehydrated&&(ai(e,t).flags|=256),e=Lu(e,t),e!==2&&(t=St,St=n,t!==null&&xf(t)),e}function xf(e){St===null?St=e:St.push.apply(St,e)}function PR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t){for(t&=~pm,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pn(t),r=1<<n;e[n]=-1,t&=~r}}function ky(e){if(ae&6)throw Error(P(327));ls();var t=yu(e,0);if(!(t&1))return At(e,be()),null;var n=Lu(e,t);if(e.tag!==0&&n===2){var r=tf(e);r!==0&&(t=r,n=Af(e,r))}if(n===1)throw n=hl,ai(e,0),fr(e,t),At(e,be()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xr(e,St,Un),At(e,be()),null}function gm(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(Ss=be()+500,Ic&&Gr())}}function vi(e){_r!==null&&_r.tag===0&&!(ae&6)&&ls();var t=ae;ae|=1;var n=Qt.transition,r=fe;try{if(Qt.transition=null,fe=1,e)return e()}finally{fe=r,Qt.transition=n,ae=t,!(ae&6)&&Gr()}}function vm(){Ot=Yi.current,Te(Yi)}function ai(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sR(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Xp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Su();break;case 3:Es(),Te(Nt),Te(pt),om();break;case 5:sm(r);break;case 4:Es();break;case 13:Te(Ne);break;case 19:Te(Ne);break;case 10:tm(r.type._context);break;case 22:case 23:vm()}n=n.return}if(Ke=e,$e=e=Ar(e.current,null),et=Ot=t,je=0,hl=null,pm=Nc=gi=0,St=Mo=null,ni!==null){for(t=0;t<ni.length;t++)if(n=ni[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ni=null}return e}function B1(e,t){do{var n=$e;try{if(em(),Za.current=Ou,xu){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xu=!1}if(mi=0,Ve=Ue=Ae=null,Do=!1,al=0,fm.current=null,n===null||n.return===null){je=1,hl=t,$e=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=et,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=fy(o);if(y!==null){y.flags&=-257,py(y,o,l,s,t),y.mode&1&&dy(s,u,t),t=y,a=u;var v=t.updateQueue;if(v===null){var _=new Set;_.add(a),t.updateQueue=_}else v.add(a);break e}else{if(!(t&1)){dy(s,u,t),ym();break e}a=Error(P(426))}}else if(ke&&l.mode&1){var m=fy(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),py(m,o,l,s,t),Jp(Cs(a,l));break e}}s=a=Cs(a,l),je!==4&&(je=2),Mo===null?Mo=[s]:Mo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=T1(s,a,t);sy(s,p);break e;case 1:l=a;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Nr===null||!Nr.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=k1(s,l,t);sy(s,w);break e}}s=s.return}while(s!==null)}H1(n)}catch(S){t=S,$e===n&&n!==null&&($e=n=n.return);continue}break}while(1)}function W1(){var e=Du.current;return Du.current=Ou,e===null?Ou:e}function ym(){(je===0||je===3||je===2)&&(je=4),Ke===null||!(gi&268435455)&&!(Nc&268435455)||fr(Ke,et)}function Lu(e,t){var n=ae;ae|=2;var r=W1();(Ke!==e||et!==t)&&(Un=null,ai(e,t));do try{AR();break}catch(i){B1(e,i)}while(1);if(em(),ae=n,Du.current=r,$e!==null)throw Error(P(261));return Ke=null,et=0,je}function AR(){for(;$e!==null;)V1($e)}function xR(){for(;$e!==null&&!nk();)V1($e)}function V1(e){var t=q1(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?H1(e):$e=t,fm.current=null}function H1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=IR(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,$e=null;return}}else if(n=SR(n,t,Ot),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);je===0&&(je=5)}function Xr(e,t,n){var r=fe,i=Qt.transition;try{Qt.transition=null,fe=1,OR(e,t,n,r)}finally{Qt.transition=i,fe=r}return null}function OR(e,t,n,r){do ls();while(_r!==null);if(ae&6)throw Error(P(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(dk(e,s),e===Ke&&($e=Ke=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,K1(vu,function(){return ls(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qt.transition,Qt.transition=null;var o=fe;fe=1;var l=ae;ae|=4,fm.current=null,kR(e,n),U1(n,e),Jk(af),_u=!!lf,af=lf=null,e.current=n,RR(n),rk(),ae=l,fe=o,Qt.transition=s}else e.current=n;if(La&&(La=!1,_r=e,Mu=i),s=e.pendingLanes,s===0&&(Nr=null),ok(n.stateNode),At(e,be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bu)throw bu=!1,e=Nf,Nf=null,e;return Mu&1&&e.tag!==0&&ls(),s=e.pendingLanes,s&1?e===Pf?Lo++:(Lo=0,Pf=e):Lo=0,Gr(),null}function ls(){if(_r!==null){var e=Iw(Mu),t=Qt.transition,n=fe;try{if(Qt.transition=null,fe=16>e?16:e,_r===null)var r=!1;else{if(e=_r,_r=null,Mu=0,ae&6)throw Error(P(331));var i=ae;for(ae|=4,$=e.current;$!==null;){var s=$,o=s.child;if($.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for($=u;$!==null;){var c=$;switch(c.tag){case 0:case 11:case 15:bo(8,c,s)}var h=c.child;if(h!==null)h.return=c,$=h;else for(;$!==null;){c=$;var d=c.sibling,y=c.return;if(L1(c),c===u){$=null;break}if(d!==null){d.return=y,$=d;break}$=y}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var m=_.sibling;_.sibling=null,_=m}while(_!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bo(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,$=p;break e}$=s.return}}var f=e.current;for($=f;$!==null;){o=$;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,$=g;else e:for(o=f;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rc(9,l)}}catch(S){Oe(l,l.return,S)}if(l===o){$=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,$=w;break e}$=l.return}}if(ae=i,Gr(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(_c,e)}catch{}r=!0}return r}finally{fe=n,Qt.transition=t}}return!1}function Ry(e,t,n){t=Cs(n,t),t=T1(e,t,1),e=Rr(e,t,1),t=yt(),e!==null&&(zl(e,1,t),At(e,t))}function Oe(e,t,n){if(e.tag===3)Ry(e,e,n);else for(;t!==null;){if(t.tag===3){Ry(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nr===null||!Nr.has(r))){e=Cs(n,e),e=k1(t,e,1),t=Rr(t,e,1),e=yt(),t!==null&&(zl(t,1,e),At(t,e));break}}t=t.return}}function DR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(et&n)===n&&(je===4||je===3&&(et&130023424)===et&&500>be()-mm?ai(e,0):pm|=n),At(e,t)}function G1(e,t){t===0&&(e.mode&1?(t=ka,ka<<=1,!(ka&130023424)&&(ka=4194304)):t=1);var n=yt();e=Zn(e,t),e!==null&&(zl(e,t,n),At(e,n))}function bR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),G1(e,n)}function MR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),G1(e,n)}var q1;q1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)Tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tt=!1,CR(e,t,n);Tt=!!(e.flags&131072)}else Tt=!1,ke&&t.flags&1048576&&Yw(t,ku,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;tu(e,t),e=t.pendingProps;var i=ys(t,pt.current);os(t,n),i=am(null,t,r,e,i,n);var s=um();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(r)?(s=!0,Iu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rm(t),i.updater=Tc,t.stateNode=i,i._reactInternals=t,vf(t,r,e,n),t=wf(null,t,r,!0,s,n)):(t.tag=0,ke&&s&&Yp(t),gt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(tu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$R(r),e=on(r,e),i){case 0:t=_f(null,t,r,e,n);break e;case 1:t=vy(null,t,r,e,n);break e;case 11:t=my(null,t,r,e,n);break e;case 14:t=gy(null,t,r,on(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),_f(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),vy(e,t,r,i,n);case 3:e:{if(A1(t),e===null)throw Error(P(387));r=t.pendingProps,s=t.memoizedState,i=s.element,e1(e,t),Pu(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Cs(Error(P(423)),t),t=yy(e,t,r,n,i);break e}else if(r!==i){i=Cs(Error(P(424)),t),t=yy(e,t,r,n,i);break e}else for(bt=kr(t.stateNode.containerInfo.firstChild),$t=t,ke=!0,un=null,n=i1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_s(),r===i){t=er(e,t,n);break e}gt(e,t,r,n)}t=t.child}return t;case 5:return s1(t),e===null&&pf(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,uf(r,i)?o=null:s!==null&&uf(r,s)&&(t.flags|=32),P1(e,t),gt(e,t,o,n),t.child;case 6:return e===null&&pf(t),null;case 13:return x1(e,t,n);case 4:return im(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ws(t,null,r,n):gt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),my(e,t,r,i,n);case 7:return gt(e,t,t.pendingProps,n),t.child;case 8:return gt(e,t,t.pendingProps.children,n),t.child;case 12:return gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,we(Ru,r._currentValue),r._currentValue=o,s!==null)if(vn(s.value,o)){if(s.children===i.children&&!Nt.current){t=er(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Qn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),mf(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),mf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,os(t,n),i=Yt(i),r=r(i),t.flags|=1,gt(e,t,r,n),t.child;case 14:return r=t.type,i=on(r,t.pendingProps),i=on(r.type,i),gy(e,t,r,i,n);case 15:return R1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),tu(e,t),t.tag=1,Pt(r)?(e=!0,Iu(t)):e=!1,os(t,n),n1(t,r,i),vf(t,r,i,n),wf(null,t,r,!0,e,n);case 19:return O1(e,t,n);case 22:return N1(e,t,n)}throw Error(P(156,t.tag))};function K1(e,t){return ww(e,t)}function LR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,n,r){return new LR(e,t,n,r)}function _m(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $R(e){if(typeof e=="function")return _m(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fp)return 11;if(e===Up)return 14}return 2}function Ar(e,t){var n=e.alternate;return n===null?(n=qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function iu(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")_m(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ji:return ui(n.children,i,s,t);case $p:o=8,i|=8;break;case jd:return e=qt(12,n,t,i|2),e.elementType=jd,e.lanes=s,e;case zd:return e=qt(13,n,t,i),e.elementType=zd,e.lanes=s,e;case Bd:return e=qt(19,n,t,i),e.elementType=Bd,e.lanes=s,e;case rw:return Pc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tw:o=10;break e;case nw:o=9;break e;case Fp:o=11;break e;case Up:o=14;break e;case cr:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=qt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ui(e,t,n,r){return e=qt(7,e,r,t),e.lanes=n,e}function Pc(e,t,n,r){return e=qt(22,e,r,t),e.elementType=rw,e.lanes=n,e.stateNode={isHidden:!1},e}function nd(e,t,n){return e=qt(6,e,null,t),e.lanes=n,e}function rd(e,t,n){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wm(e,t,n,r,i,s,o,l,a){return e=new FR(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rm(s),e}function UR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Q1(e){if(!e)return Fr;e=e._reactInternals;e:{if(Ai(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Pt(n))return Kw(e,n,t)}return t}function Y1(e,t,n,r,i,s,o,l,a){return e=wm(n,r,!0,e,i,s,o,l,a),e.context=Q1(null),n=e.current,r=yt(),i=Pr(n),s=Qn(r,i),s.callback=t??null,Rr(n,s,i),e.current.lanes=i,zl(e,i,r),At(e,r),e}function Ac(e,t,n,r){var i=t.current,s=yt(),o=Pr(i);return n=Q1(n),t.context===null?t.context=n:t.pendingContext=n,t=Qn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rr(i,t,o),e!==null&&(mn(e,i,o,s),Ja(e,i,o)),o}function $u(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ny(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Em(e,t){Ny(e,t),(e=e.alternate)&&Ny(e,t)}function jR(){return null}var X1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cm(e){this._internalRoot=e}xc.prototype.render=Cm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Ac(e,t,null,null)};xc.prototype.unmount=Cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vi(function(){Ac(null,e,null,null)}),t[Jn]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dr.length&&t!==0&&t<dr[n].priority;n++);dr.splice(n,0,e),n===0&&Pw(e)}};function Sm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Py(){}function zR(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$u(o);s.call(u)}}var o=Y1(t,r,e,0,null,!1,!1,"",Py);return e._reactRootContainer=o,e[Jn]=o.current,rl(e.nodeType===8?e.parentNode:e),vi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=$u(a);l.call(u)}}var a=wm(e,0,!1,null,null,!1,!1,"",Py);return e._reactRootContainer=a,e[Jn]=a.current,rl(e.nodeType===8?e.parentNode:e),vi(function(){Ac(t,a,n,r)}),a}function Dc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=$u(o);l.call(a)}}Ac(t,o,e,i)}else o=zR(n,t,e,i,r);return $u(o)}Tw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Eo(t.pendingLanes);n!==0&&(Bp(t,n|1),At(t,be()),!(ae&6)&&(Ss=be()+500,Gr()))}break;case 13:vi(function(){var r=Zn(e,1);if(r!==null){var i=yt();mn(r,e,1,i)}}),Em(e,1)}};Wp=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var n=yt();mn(t,e,134217728,n)}Em(e,134217728)}};kw=function(e){if(e.tag===13){var t=Pr(e),n=Zn(e,t);if(n!==null){var r=yt();mn(n,e,t,r)}Em(e,t)}};Rw=function(){return fe};Nw=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};Jd=function(e,t,n){switch(t){case"input":if(Hd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Sc(r);if(!i)throw Error(P(90));sw(r),Hd(r,i)}}}break;case"textarea":lw(e,n);break;case"select":t=n.value,t!=null&&ns(e,!!n.multiple,t,!1)}};pw=gm;mw=vi;var BR={usingClientEntryPoint:!1,Events:[Wl,Vi,Sc,dw,fw,gm]},oo={findFiberByHostInstance:ti,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},WR={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yw(e),e===null?null:e.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||jR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{_c=$a.inject(WR),Pn=$a}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR;zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sm(t))throw Error(P(200));return UR(e,t,null,n)};zt.createRoot=function(e,t){if(!Sm(e))throw Error(P(299));var n=!1,r="",i=X1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=wm(e,1,!1,null,null,n,!1,r,i),e[Jn]=t.current,rl(e.nodeType===8?e.parentNode:e),new Cm(t)};zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=yw(t),e=e===null?null:e.stateNode,e};zt.flushSync=function(e){return vi(e)};zt.hydrate=function(e,t,n){if(!Oc(t))throw Error(P(200));return Dc(null,e,t,!0,n)};zt.hydrateRoot=function(e,t,n){if(!Sm(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=X1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Y1(t,null,e,1,n??null,i,!1,s,o),e[Jn]=t.current,rl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new xc(t)};zt.render=function(e,t,n){if(!Oc(t))throw Error(P(200));return Dc(null,e,t,!1,n)};zt.unmountComponentAtNode=function(e){if(!Oc(e))throw Error(P(40));return e._reactRootContainer?(vi(function(){Dc(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1};zt.unstable_batchedUpdates=gm;zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Oc(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Dc(e,t,n,!1,r)};zt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=zt})(jT);var Ay=fu;$d.createRoot=Ay.createRoot,$d.hydrateRoot=Ay.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var Le;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Le||(Le={}));const xy="popstate";function VR(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=Mn(i.location.hash.substr(1));return dl("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof s=="string"?s:_i(s))}function r(i,s){yi(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return GR(t,n,r,e)}function ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HR(){return Math.random().toString(36).substr(2,8)}function Oy(e,t){return{usr:e.state,key:e.key,idx:t}}function dl(e,t,n,r){return n===void 0&&(n=null),le({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mn(t):t,{state:n,key:t&&t.key||r||HR()})}function _i(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function GR(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Le.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(le({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){l=Le.Pop;let m=c(),p=m==null?null:m-u;u=m,a&&a({action:l,location:_.location,delta:p})}function d(m,p){l=Le.Push;let f=dl(_.location,m,p);n&&n(f,m),u=c()+1;let g=Oy(f,u),w=_.createHref(f);try{o.pushState(g,"",w)}catch{i.location.assign(w)}s&&a&&a({action:l,location:_.location,delta:1})}function y(m,p){l=Le.Replace;let f=dl(_.location,m,p);n&&n(f,m),u=c();let g=Oy(f,u),w=_.createHref(f);o.replaceState(g,"",w),s&&a&&a({action:l,location:_.location,delta:0})}function v(m){let p=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof m=="string"?m:_i(m);return ee(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let _={get action(){return l},get location(){return e(i,o)},listen(m){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(xy,h),a=m,()=>{i.removeEventListener(xy,h),a=null}},createHref(m){return t(i,m)},createURL:v,encodeLocation(m){let p=v(m);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:y,go(m){return o.go(m)}};return _}var Fe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fe||(Fe={}));const qR=new Set(["lazy","caseSensitive","path","id","index","children"]);function KR(e){return e.index===!0}function J1(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(ee(i.index!==!0||!i.children,"Cannot specify children on an index route"),ee(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),KR(i)){let a=le({},i,{hasErrorBoundary:t(i),id:l});return r[l]=a,a}else{let a=le({},i,{id:l,hasErrorBoundary:t(i),children:void 0});return r[l]=a,i.children&&(a.children=J1(i.children,t,o,r)),a}})}function Xi(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Mn(t):t,i=bc(r.pathname||"/",n);if(i==null)return null;let s=Z1(e);QR(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=iN(s[l],lN(i));return o}function Z1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ee(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=xr([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Z1(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:nN(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of eE(s.path))i(s,o,a)}),t}function eE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=eE(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function QR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:rN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YR=/^:\w+$/,XR=3,JR=2,ZR=1,eN=10,tN=-2,Dy=e=>e==="*";function nN(e,t){let n=e.split("/"),r=n.length;return n.some(Dy)&&(r+=tN),t&&(r+=JR),n.filter(i=>!Dy(i)).reduce((i,s)=>i+(YR.test(s)?XR:s===""?ZR:eN),r)}function rN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function iN(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=sN({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let h=l.route;s.push({params:r,pathname:xr([i,c.pathname]),pathnameBase:hN(xr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=xr([i,c.pathnameBase]))}return s}function sN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=oN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=l[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=aN(l[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function oN(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),yi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function lN(e){try{return decodeURI(e)}catch(t){return yi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function aN(e,t){try{return decodeURIComponent(e)}catch(n){return yi(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function bc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function uN(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Mn(e):e;return{pathname:n?n.startsWith("/")?n:cN(n,t):t,search:dN(r),hash:fN(i)}}function cN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function id(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Im(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tE(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Mn(e):(i=le({},e),ee(!i.pathname||!i.pathname.includes("?"),id("?","pathname","search",i)),ee(!i.pathname||!i.pathname.includes("#"),id("#","pathname","hash",i)),ee(!i.search||!i.search.includes("#"),id("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let h=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}l=h>=0?t[h]:"/"}let a=uN(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const xr=e=>e.join("/").replace(/\/\/+/g,"/"),hN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Tm{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function nE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rE=["post","put","patch","delete"],pN=new Set(rE),mN=["get",...rE],gN=new Set(mN),vN=new Set([301,302,303,307,308]),yN=new Set([307,308]),sd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},_N={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},by={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},iE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wN=!sE,EN=e=>!!e.hasErrorBoundary;function CN(e){ee(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=e.detectErrorBoundary||EN,n={},r=J1(e.routes,t,void 0,n),i,s=le({v7_normalizeFormMethod:!1},e.future),o=null,l=new Set,a=null,u=null,c=null,h=e.hydrationData!=null,d=Xi(r,e.history.location,e.basename),y=null;if(d==null){let C=Tn(404,{pathname:e.history.location.pathname}),{matches:T,route:R}=zy(r);d=T,y={[R.id]:C}}let v=!d.some(C=>C.route.lazy)&&(!d.some(C=>C.route.loader)||e.hydrationData!=null),_,m={historyAction:e.history.action,location:e.history.location,matches:d,initialized:v,navigation:sd,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},p=Le.Pop,f=!1,g,w=!1,S=!1,k=[],x=[],N=new Map,J=0,F=-1,ge=new Map,Ee=new Set,Ce=new Map,Se=new Map,st=new Map,Zt=!1;function En(){return o=e.history.listen(C=>{let{action:T,location:R,delta:z}=C;if(Zt){Zt=!1;return}yi(st.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let B=_v({currentLocation:m.location,nextLocation:R,historyAction:T});if(B&&z!=null){Zt=!0,e.history.go(z*-1),wa(B,{state:"blocked",location:R,proceed(){wa(B,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),e.history.go(z)},reset(){Qs(B),b({blockers:new Map(_.state.blockers)})}});return}return ue(T,R)}),m.initialized||ue(Le.Pop,m.location),_}function I(){o&&o(),l.clear(),g&&g.abort(),m.fetchers.forEach((C,T)=>kh(T)),m.blockers.forEach((C,T)=>Qs(T))}function M(C){return l.add(C),()=>l.delete(C)}function b(C){m=le({},m,C),l.forEach(T=>T(m))}function U(C,T){var R,z;let B=m.actionData!=null&&m.navigation.formMethod!=null&&jn(m.navigation.formMethod)&&m.navigation.state==="loading"&&((R=C.state)==null?void 0:R._isRedirect)!==!0,G;T.actionData?Object.keys(T.actionData).length>0?G=T.actionData:G=null:B?G=m.actionData:G=null;let q=T.loaderData?jy(m.loaderData,T.loaderData,T.matches||[],T.errors):m.loaderData;for(let[W]of st)Qs(W);let Y=f===!0||m.navigation.formMethod!=null&&jn(m.navigation.formMethod)&&((z=C.state)==null?void 0:z._isRedirect)!==!0;i&&(r=i,i=void 0),b(le({},T,{actionData:G,loaderData:q,historyAction:p,location:C,initialized:!0,navigation:sd,revalidation:"idle",restoreScrollPosition:wv(C,T.matches||m.matches),preventScrollReset:Y,blockers:new Map(m.blockers)})),w||p===Le.Pop||(p===Le.Push?e.history.push(C,C.state):p===Le.Replace&&e.history.replace(C,C.state)),p=Le.Pop,f=!1,w=!1,S=!1,k=[],x=[]}async function K(C,T){if(typeof C=="number"){e.history.go(C);return}let{path:R,submission:z,error:B}=My(C,s,T),G=m.location,q=dl(m.location,R,T&&T.state);q=le({},q,e.history.encodeLocation(q));let Y=T&&T.replace!=null?T.replace:void 0,W=Le.Push;Y===!0?W=Le.Replace:Y===!1||z!=null&&jn(z.formMethod)&&z.formAction===m.location.pathname+m.location.search&&(W=Le.Replace);let ve=T&&"preventScrollReset"in T?T.preventScrollReset===!0:void 0,ce=_v({currentLocation:G,nextLocation:q,historyAction:W});if(ce){wa(ce,{state:"blocked",location:q,proceed(){wa(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),K(C,T)},reset(){Qs(ce),b({blockers:new Map(m.blockers)})}});return}return await ue(W,q,{submission:z,pendingError:B,preventScrollReset:ve,replace:T&&T.replace})}function me(){if(Ih(),b({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){ue(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}ue(p||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function ue(C,T,R){g&&g.abort(),g=null,p=C,w=(R&&R.startUninterruptedRevalidation)===!0,lT(m.location,m.matches),f=(R&&R.preventScrollReset)===!0;let z=i||r,B=R&&R.overrideNavigation,G=Xi(z,T,e.basename);if(!G){let ze=Tn(404,{pathname:T.pathname}),{matches:Ye,route:nn}=zy(z);Rh(),U(T,{matches:Ye,loaderData:{},errors:{[nn.id]:ze}});return}if(RN(m.location,T)&&!(R&&R.submission&&jn(R.submission.formMethod))){U(T,{matches:G});return}g=new AbortController;let q=ao(e.history,T,g.signal,R&&R.submission),Y,W;if(R&&R.pendingError)W={[Ji(G).route.id]:R.pendingError};else if(R&&R.submission&&jn(R.submission.formMethod)){let ze=await $n(q,T,R.submission,G,{replace:R.replace});if(ze.shortCircuited)return;Y=ze.pendingActionData,W=ze.pendingActionError,B=le({state:"loading",location:T},R.submission),q=new Request(q.url,{signal:q.signal})}let{shortCircuited:ve,loaderData:ce,errors:tn}=await Cn(q,T,G,B,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,Y,W);ve||(g=null,U(T,le({matches:G},Y?{actionData:Y}:{},{loaderData:ce,errors:tn})))}async function $n(C,T,R,z,B){Ih();let G=le({state:"submitting",location:T},R);b({navigation:G});let q,Y=Of(z,T);if(!Y.route.action&&!Y.route.lazy)q={type:Fe.error,error:Tn(405,{method:C.method,pathname:T.pathname,routeId:Y.route.id})};else if(q=await lo("action",C,Y,z,n,t,_.basename),C.signal.aborted)return{shortCircuited:!0};if(as(q)){let W;return B&&B.replace!=null?W=B.replace:W=q.location===m.location.pathname+m.location.search,await Ks(m,q,{submission:R,replace:W}),{shortCircuited:!0}}if($o(q)){let W=Ji(z,Y.route.id);return(B&&B.replace)!==!0&&(p=Le.Push),{pendingActionData:{},pendingActionError:{[W.route.id]:q.error}}}if(ii(q))throw Tn(400,{type:"defer-action"});return{pendingActionData:{[Y.route.id]:q.data}}}async function Cn(C,T,R,z,B,G,q,Y,W){let ve=z;ve||(ve=le({state:"loading",location:T,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},B));let ce=B||G?B||G:ve.formMethod&&ve.formAction&&ve.formData&&ve.formEncType?{formMethod:ve.formMethod,formAction:ve.formAction,formData:ve.formData,formEncType:ve.formEncType}:void 0,tn=i||r,[ze,Ye]=Ly(e.history,m,R,ce,T,S,k,x,Ce,tn,e.basename,Y,W);if(Rh(ot=>!(R&&R.some(rn=>rn.route.id===ot))||ze&&ze.some(rn=>rn.route.id===ot)),ze.length===0&&Ye.length===0)return U(T,le({matches:R,loaderData:{},errors:W||null},Y?{actionData:Y}:{})),{shortCircuited:!0};if(!w){Ye.forEach(rn=>{let Qr=m.fetchers.get(rn.key),Js={state:"loading",data:Qr&&Qr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(rn.key,Js)});let ot=Y||m.actionData;b(le({navigation:ve},ot?Object.keys(ot).length===0?{actionData:null}:{actionData:ot}:{},Ye.length>0?{fetchers:new Map(m.fetchers)}:{}))}F=++J,Ye.forEach(ot=>N.set(ot.key,g));let{results:nn,loaderResults:Ys,fetcherResults:Nh}=await gv(m.matches,R,ze,Ye,C);if(C.signal.aborted)return{shortCircuited:!0};Ye.forEach(ot=>N.delete(ot.key));let Xs=By(nn);if(Xs)return await Ks(m,Xs,{replace:q}),{shortCircuited:!0};let{loaderData:Mi,errors:Ph}=Uy(m,R,ze,Ys,W,Ye,Nh,Se);Se.forEach((ot,rn)=>{ot.subscribe(Qr=>{(Qr||ot.done)&&Se.delete(rn)})}),iT();let Ah=yv(F);return le({loaderData:Mi,errors:Ph},Ah||Ye.length>0?{fetchers:new Map(m.fetchers)}:{})}function en(C){return m.fetchers.get(C)||_N}function ya(C,T,R,z){if(wN)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");N.has(C)&&_a(C);let G=Xi(i||r,R,e.basename);if(!G){Th(C,T,Tn(404,{pathname:R}));return}let{path:q,submission:Y}=My(R,s,z,!0),W=Of(G,q);if(f=(z&&z.preventScrollReset)===!0,Y&&jn(Y.formMethod)){nT(C,T,q,W,G,Y);return}Ce.set(C,{routeId:T,path:q}),rT(C,T,q,W,G,Y)}async function nT(C,T,R,z,B,G){if(Ih(),Ce.delete(C),!z.route.action&&!z.route.lazy){let Fn=Tn(405,{method:G.formMethod,pathname:R,routeId:T});Th(C,T,Fn);return}let q=m.fetchers.get(C),Y=le({state:"submitting"},G,{data:q&&q.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(C,Y),b({fetchers:new Map(m.fetchers)});let W=new AbortController,ve=ao(e.history,R,W.signal,G);N.set(C,W);let ce=await lo("action",ve,z,B,n,t,_.basename);if(ve.signal.aborted){N.get(C)===W&&N.delete(C);return}if(as(ce)){N.delete(C),Ee.add(C);let Fn=le({state:"loading"},G,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(C,Fn),b({fetchers:new Map(m.fetchers)}),Ks(m,ce,{submission:G,isFetchActionRedirect:!0})}if($o(ce)){Th(C,T,ce.error);return}if(ii(ce))throw Tn(400,{type:"defer-action"});let tn=m.navigation.location||m.location,ze=ao(e.history,tn,W.signal),Ye=i||r,nn=m.navigation.state!=="idle"?Xi(Ye,m.navigation.location,e.basename):m.matches;ee(nn,"Didn't find any matches after fetcher action");let Ys=++J;ge.set(C,Ys);let Nh=le({state:"loading",data:ce.data},G,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(C,Nh);let[Xs,Mi]=Ly(e.history,m,nn,G,tn,S,k,x,Ce,Ye,e.basename,{[z.route.id]:ce.data},void 0);Mi.filter(Fn=>Fn.key!==C).forEach(Fn=>{let xh=Fn.key,Ev=m.fetchers.get(xh),hT={state:"loading",data:Ev&&Ev.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(xh,hT),N.set(xh,W)}),b({fetchers:new Map(m.fetchers)});let{results:Ph,loaderResults:Ah,fetcherResults:ot}=await gv(m.matches,nn,Xs,Mi,ze);if(W.signal.aborted)return;ge.delete(C),N.delete(C),Mi.forEach(Fn=>N.delete(Fn.key));let rn=By(Ph);if(rn)return Ks(m,rn);let{loaderData:Qr,errors:Js}=Uy(m,m.matches,Xs,Ah,void 0,Mi,ot,Se),uT={state:"idle",data:ce.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(C,uT);let cT=yv(Ys);m.navigation.state==="loading"&&Ys>F?(ee(p,"Expected pending action"),g&&g.abort(),U(m.navigation.location,{matches:nn,loaderData:Qr,errors:Js,fetchers:new Map(m.fetchers)})):(b(le({errors:Js,loaderData:jy(m.loaderData,Qr,nn,Js)},cT?{fetchers:new Map(m.fetchers)}:{})),S=!1)}async function rT(C,T,R,z,B,G){let q=m.fetchers.get(C),Y=le({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},G,{data:q&&q.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(C,Y),b({fetchers:new Map(m.fetchers)});let W=new AbortController,ve=ao(e.history,R,W.signal);N.set(C,W);let ce=await lo("loader",ve,z,B,n,t,_.basename);if(ii(ce)&&(ce=await uE(ce,ve.signal,!0)||ce),N.get(C)===W&&N.delete(C),ve.signal.aborted)return;if(as(ce)){await Ks(m,ce);return}if($o(ce)){let ze=Ji(m.matches,T);m.fetchers.delete(C),b({fetchers:new Map(m.fetchers),errors:{[ze.route.id]:ce.error}});return}ee(!ii(ce),"Unhandled fetcher deferred data");let tn={state:"idle",data:ce.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(C,tn),b({fetchers:new Map(m.fetchers)})}async function Ks(C,T,R){var z;let{submission:B,replace:G,isFetchActionRedirect:q}=R===void 0?{}:R;T.revalidate&&(S=!0);let Y=dl(C.location,T.location,le({_isRedirect:!0},q?{_isFetchActionRedirect:!0}:{}));if(ee(Y,"Expected a location on the redirect navigation"),iE.test(T.location)&&sE&&typeof((z=window)==null?void 0:z.location)<"u"){let Ye=e.history.createURL(T.location),nn=bc(Ye.pathname,e.basename||"/")==null;if(window.location.origin!==Ye.origin||nn){G?window.location.replace(T.location):window.location.assign(T.location);return}}g=null;let W=G===!0?Le.Replace:Le.Push,{formMethod:ve,formAction:ce,formEncType:tn,formData:ze}=C.navigation;!B&&ve&&ce&&ze&&tn&&(B={formMethod:ve,formAction:ce,formEncType:tn,formData:ze}),yN.has(T.status)&&B&&jn(B.formMethod)?await ue(W,Y,{submission:le({},B,{formAction:T.location}),preventScrollReset:f}):q?await ue(W,Y,{overrideNavigation:{state:"loading",location:Y,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:B,preventScrollReset:f}):await ue(W,Y,{overrideNavigation:{state:"loading",location:Y,formMethod:B?B.formMethod:void 0,formAction:B?B.formAction:void 0,formEncType:B?B.formEncType:void 0,formData:B?B.formData:void 0},preventScrollReset:f})}async function gv(C,T,R,z,B){let G=await Promise.all([...R.map(W=>lo("loader",B,W,T,n,t,_.basename)),...z.map(W=>W.matches&&W.match?lo("loader",ao(e.history,W.path,B.signal),W.match,W.matches,n,t,_.basename):{type:Fe.error,error:Tn(404,{pathname:W.path})})]),q=G.slice(0,R.length),Y=G.slice(R.length);return await Promise.all([Wy(C,R,q,B.signal,!1,m.loaderData),Wy(C,z.map(W=>W.match),Y,B.signal,!0)]),{results:G,loaderResults:q,fetcherResults:Y}}function Ih(){S=!0,k.push(...Rh()),Ce.forEach((C,T)=>{N.has(T)&&(x.push(T),_a(T))})}function Th(C,T,R){let z=Ji(m.matches,T);kh(C),b({errors:{[z.route.id]:R},fetchers:new Map(m.fetchers)})}function kh(C){N.has(C)&&_a(C),Ce.delete(C),ge.delete(C),Ee.delete(C),m.fetchers.delete(C)}function _a(C){let T=N.get(C);ee(T,"Expected fetch controller: "+C),T.abort(),N.delete(C)}function vv(C){for(let T of C){let z={state:"idle",data:en(T).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(T,z)}}function iT(){let C=[];for(let T of Ee){let R=m.fetchers.get(T);ee(R,"Expected fetcher: "+T),R.state==="loading"&&(Ee.delete(T),C.push(T))}vv(C)}function yv(C){let T=[];for(let[R,z]of ge)if(z<C){let B=m.fetchers.get(R);ee(B,"Expected fetcher: "+R),B.state==="loading"&&(_a(R),ge.delete(R),T.push(R))}return vv(T),T.length>0}function sT(C,T){let R=m.blockers.get(C)||by;return st.get(C)!==T&&st.set(C,T),R}function Qs(C){m.blockers.delete(C),st.delete(C)}function wa(C,T){let R=m.blockers.get(C)||by;ee(R.state==="unblocked"&&T.state==="blocked"||R.state==="blocked"&&T.state==="blocked"||R.state==="blocked"&&T.state==="proceeding"||R.state==="blocked"&&T.state==="unblocked"||R.state==="proceeding"&&T.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+T.state),m.blockers.set(C,T),b({blockers:new Map(m.blockers)})}function _v(C){let{currentLocation:T,nextLocation:R,historyAction:z}=C;if(st.size===0)return;st.size>1&&yi(!1,"A router only supports one blocker at a time");let B=Array.from(st.entries()),[G,q]=B[B.length-1],Y=m.blockers.get(G);if(!(Y&&Y.state==="proceeding")&&q({currentLocation:T,nextLocation:R,historyAction:z}))return G}function Rh(C){let T=[];return Se.forEach((R,z)=>{(!C||C(z))&&(R.cancel(),T.push(z),Se.delete(z))}),T}function oT(C,T,R){if(a=C,c=T,u=R||(z=>z.key),!h&&m.navigation===sd){h=!0;let z=wv(m.location,m.matches);z!=null&&b({restoreScrollPosition:z})}return()=>{a=null,c=null,u=null}}function lT(C,T){if(a&&u&&c){let R=T.map(B=>Vy(B,m.loaderData)),z=u(C,R)||C.key;a[z]=c()}}function wv(C,T){if(a&&u&&c){let R=T.map(G=>Vy(G,m.loaderData)),z=u(C,R)||C.key,B=a[z];if(typeof B=="number")return B}return null}function aT(C){i=C}return _={get basename(){return e.basename},get state(){return m},get routes(){return r},initialize:En,subscribe:M,enableScrollRestoration:oT,navigate:K,fetch:ya,revalidate:me,createHref:C=>e.history.createHref(C),encodeLocation:C=>e.history.encodeLocation(C),getFetcher:en,deleteFetcher:kh,dispose:I,getBlocker:sT,deleteBlocker:Qs,_internalFetchControllers:N,_internalActiveDeferreds:Se,_internalSetRoutes:aT},_}function SN(e){return e!=null&&"formData"in e}function My(e,t,n,r){r===void 0&&(r=!1);let i=typeof e=="string"?e:_i(e);if(!n||!SN(n))return{path:i};if(n.formMethod&&!AN(n.formMethod))return{path:i,error:Tn(405,{method:n.formMethod})};let s;if(n.formData){let a=n.formMethod||"get";if(s={formMethod:t.v7_normalizeFormMethod?a.toUpperCase():a.toLowerCase(),formAction:aE(i),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData},jn(s.formMethod))return{path:i,submission:s}}let o=Mn(i),l=lE(n.formData);return r&&o.search&&cE(o.search)&&l.append("index",""),o.search="?"+l,{path:_i(o),submission:s}}function IN(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Ly(e,t,n,r,i,s,o,l,a,u,c,h,d){let y=d?Object.values(d)[0]:h?Object.values(h)[0]:void 0,v=e.createURL(t.location),_=e.createURL(i),m=s||v.toString()===_.toString()||v.search!==_.search,p=d?Object.keys(d)[0]:void 0,g=IN(n,p).filter((S,k)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(TN(t.loaderData,t.matches[k],S)||o.some(J=>J===S.route.id))return!0;let x=t.matches[k],N=S;return $y(S,le({currentUrl:v,currentParams:x.params,nextUrl:_,nextParams:N.params},r,{actionResult:y,defaultShouldRevalidate:m||oE(x,N)}))}),w=[];return a.forEach((S,k)=>{if(!n.some(F=>F.route.id===S.routeId))return;let x=Xi(u,S.path,c);if(!x){w.push(le({key:k},S,{matches:null,match:null}));return}let N=Of(x,S.path);if(l.includes(k)){w.push(le({key:k,matches:x,match:N},S));return}$y(N,le({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:y,defaultShouldRevalidate:m}))&&w.push(le({key:k,matches:x,match:N},S))}),[g,w]}function TN(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function oE(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function $y(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Fy(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ee(i,"No route found in manifest");let s={};for(let o in r){let a=i[o]!==void 0&&o!=="hasErrorBoundary";yi(!a,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!a&&!qR.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:t(le({},i)),lazy:void 0})}async function lo(e,t,n,r,i,s,o,l,a,u){o===void 0&&(o="/"),l===void 0&&(l=!1),a===void 0&&(a=!1);let c,h,d,y=m=>{let p,f=new Promise((g,w)=>p=w);return d=()=>p(),t.signal.addEventListener("abort",d),Promise.race([m({request:t,params:n.params,context:u}),f])};try{let m=n.route[e];if(n.route.lazy)if(m)h=(await Promise.all([y(m),Fy(n.route,s,i)]))[0];else if(await Fy(n.route,s,i),m=n.route[e],m)h=await y(m);else{if(e==="action")throw Tn(405,{method:t.method,pathname:new URL(t.url).pathname,routeId:n.route.id});return{type:Fe.data,data:void 0}}else ee(m,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),h=await y(m);ee(h!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(m){c=Fe.error,h=m}finally{d&&t.signal.removeEventListener("abort",d)}if(PN(h)){let m=h.status;if(vN.has(m)){let g=h.headers.get("Location");if(ee(g,"Redirects returned/thrown from loaders/actions must have a Location header"),iE.test(g)){if(!l){let w=new URL(t.url),S=g.startsWith("//")?new URL(w.protocol+g):new URL(g),k=bc(S.pathname,o)!=null;S.origin===w.origin&&k&&(g=S.pathname+S.search+S.hash)}}else{let w=r.slice(0,r.indexOf(n)+1),S=Im(w).map(x=>x.pathnameBase),k=tE(g,S,new URL(t.url).pathname);if(ee(_i(k),"Unable to resolve redirect location: "+g),o){let x=k.pathname;k.pathname=x==="/"?o:xr([o,x])}g=_i(k)}if(l)throw h.headers.set("Location",g),h;return{type:Fe.redirect,status:m,location:g,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(a)throw{type:c||Fe.data,response:h};let p,f=h.headers.get("Content-Type");return f&&/\bapplication\/json\b/.test(f)?p=await h.json():p=await h.text(),c===Fe.error?{type:c,error:new Tm(m,h.statusText,p),headers:h.headers}:{type:Fe.data,data:p,statusCode:h.status,headers:h.headers}}if(c===Fe.error)return{type:c,error:h};if(NN(h)){var v,_;return{type:Fe.deferred,deferredData:h,statusCode:(v=h.init)==null?void 0:v.status,headers:((_=h.init)==null?void 0:_.headers)&&new Headers(h.init.headers)}}return{type:Fe.data,data:h}}function ao(e,t,n,r){let i=e.createURL(aE(t)).toString(),s={signal:n};if(r&&jn(r.formMethod)){let{formMethod:o,formEncType:l,formData:a}=r;s.method=o.toUpperCase(),s.body=l==="application/x-www-form-urlencoded"?lE(a):a}return new Request(i,s)}function lE(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,r instanceof File?r.name:r);return t}function kN(e,t,n,r,i){let s={},o=null,l,a=!1,u={};return n.forEach((c,h)=>{let d=t[h].route.id;if(ee(!as(c),"Cannot handle redirect results in processLoaderData"),$o(c)){let y=Ji(e,d),v=c.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=v),s[d]=void 0,a||(a=!0,l=nE(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else ii(c)?(i.set(d,c.deferredData),s[d]=c.deferredData.data):s[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!a&&(l=c.statusCode),c.headers&&(u[d]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:u}}function Uy(e,t,n,r,i,s,o,l){let{loaderData:a,errors:u}=kN(t,n,r,i,l);for(let c=0;c<s.length;c++){let{key:h,match:d}=s[c];ee(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let y=o[c];if($o(y)){let v=Ji(e.matches,d==null?void 0:d.route.id);u&&u[v.route.id]||(u=le({},u,{[v.route.id]:y.error})),e.fetchers.delete(h)}else if(as(y))ee(!1,"Unhandled fetcher revalidation redirect");else if(ii(y))ee(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(h,v)}}return{loaderData:a,errors:u}}function jy(e,t,n,r){let i=le({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Ji(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function zy(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Tn(e,t){let{pathname:n,routeId:r,method:i,type:s}=t===void 0?{}:t,o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(l="defer() is not supported in actions")):e===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",l='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Tm(e||500,o,new Error(l),!0)}function By(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(as(n))return n}}function aE(e){let t=typeof e=="string"?Mn(e):e;return _i(le({},t,{hash:""}))}function RN(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function ii(e){return e.type===Fe.deferred}function $o(e){return e.type===Fe.error}function as(e){return(e&&e.type)===Fe.redirect}function NN(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function PN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function AN(e){return gN.has(e.toLowerCase())}function jn(e){return pN.has(e.toLowerCase())}async function Wy(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],a=t[o];if(!a)continue;let u=e.find(h=>h.route.id===a.route.id),c=u!=null&&!oE(u,a)&&(s&&s[a.route.id])!==void 0;ii(l)&&(i||c)&&await uE(l,r,i).then(h=>{h&&(n[o]=h||n[o])})}}async function uE(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Fe.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Fe.error,error:i}}return{type:Fe.data,data:e.deferredData.data}}}function cE(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Vy(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Of(e,t){let n=typeof t=="string"?Mn(t).search:t.search;if(e[e.length-1].route.index&&cE(n||""))return e[e.length-1];let r=Im(e);return r[r.length-1]}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const ON=typeof Object.is=="function"?Object.is:xN,{useState:DN,useEffect:bN,useLayoutEffect:MN,useDebugValue:LN}=Ld;function $N(e,t,n){const r=t(),[{inst:i},s]=DN({inst:{value:r,getSnapshot:t}});return MN(()=>{i.value=r,i.getSnapshot=t,od(i)&&s({inst:i})},[e,r,t]),bN(()=>(od(i)&&s({inst:i}),e(()=>{od(i)&&s({inst:i})})),[e]),LN(r),r}function od(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!ON(n,r)}catch{return!0}}function FN(e,t,n){return t()}const UN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jN=!UN,zN=jN?FN:$N,BN="useSyncExternalStore"in Ld?(e=>e.useSyncExternalStore)(Ld):zN,km=E.createContext(null),Rm=E.createContext(null),Nm=E.createContext(null),Mc=E.createContext(null),Hl=E.createContext({outlet:null,matches:[]}),hE=E.createContext(null);function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(this,arguments)}function Lc(){return E.useContext(Mc)!=null}function Pm(){return Lc()||ee(!1),E.useContext(Mc).location}function Gl(){Lc()||ee(!1);let{basename:e,navigator:t}=E.useContext(Nm),{matches:n}=E.useContext(Hl),{pathname:r}=Pm(),i=JSON.stringify(Im(n).map(l=>l.pathnameBase)),s=E.useRef(!1);return E.useEffect(()=>{s.current=!0}),E.useCallback(function(l,a){if(a===void 0&&(a={}),!s.current)return;if(typeof l=="number"){t.go(l);return}let u=tE(l,JSON.parse(i),r,a.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:xr([e,u.pathname])),(a.replace?t.replace:t.push)(u,a.state,a)},[e,t,i,r])}function WN(e,t){Lc()||ee(!1);let{navigator:n}=E.useContext(Nm),r=E.useContext(Rm),{matches:i}=E.useContext(Hl),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let a=Pm(),u;if(t){var c;let _=typeof t=="string"?Mn(t):t;l==="/"||(c=_.pathname)!=null&&c.startsWith(l)||ee(!1),u=_}else u=a;let h=u.pathname||"/",d=l==="/"?h:h.slice(l.length)||"/",y=Xi(e,{pathname:d}),v=qN(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:xr([l,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:xr([l,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r||void 0);return t&&v?E.createElement(Mc.Provider,{value:{location:Df({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Le.Pop}},v):v}function VN(){let e=XN(),t=nE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,s)}class HN extends E.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?E.createElement(Hl.Provider,{value:this.props.routeContext},E.createElement(hE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GN(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(km);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Hl.Provider,{value:t},r)}function qN(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||ee(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,l)=>{let a=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=E.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=E.createElement(VN,null));let c=t.concat(r.slice(0,l+1)),h=()=>{let d=s;return a?d=u:o.route.Component?d=E.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),E.createElement(GN,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||l===0)?E.createElement(HN,{location:n.location,component:u,error:a,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var Hy;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(Hy||(Hy={}));var Fu;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Fu||(Fu={}));function KN(e){let t=E.useContext(Rm);return t||ee(!1),t}function QN(e){let t=E.useContext(Hl);return t||ee(!1),t}function YN(e){let t=QN(),n=t.matches[t.matches.length-1];return n.route.id||ee(!1),n.route.id}function XN(){var e;let t=E.useContext(hE),n=KN(Fu.UseRouteError),r=YN(Fu.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function JN(e){let{fallbackElement:t,router:n}=e,r=E.useCallback(()=>n.state,[n]),i=BN(n.subscribe,r,r),s=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:a=>n.navigate(a),push:(a,u,c)=>n.navigate(a,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(a,u,c)=>n.navigate(a,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",l=E.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return E.createElement(E.Fragment,null,E.createElement(km.Provider,{value:l},E.createElement(Rm.Provider,{value:i},E.createElement(eP,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?E.createElement(tP,null):t))),null)}function ZN(e){ee(!1)}function eP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Le.Pop,navigator:s,static:o=!1}=e;Lc()&&ee(!1);let l=t.replace(/^\/*/,"/"),a=E.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=Mn(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:y="default"}=r,v=E.useMemo(()=>{let _=bc(u,l);return _==null?null:{location:{pathname:_,search:c,hash:h,state:d,key:y},navigationType:i}},[l,u,c,h,d,y,i]);return v==null?null:E.createElement(Nm.Provider,{value:a},E.createElement(Mc.Provider,{children:n,value:v}))}function tP(e){let{children:t,location:n}=e,r=E.useContext(km),i=r&&!t?r.router.routes:bf(t);return WN(i,n)}var Gy;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Gy||(Gy={}));new Promise(()=>{});function bf(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let s=[...t,i];if(r.type===E.Fragment){n.push.apply(n,bf(r.props.children,s));return}r.type!==ZN&&ee(!1),!r.props.index||!r.props.children||ee(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bf(r.props.children,s)),n.push(o)}),n}function nP(e){return!!e.ErrorBoundary||!!e.errorElement}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mf.apply(this,arguments)}function rP(e,t){return CN({basename:t==null?void 0:t.basename,future:t==null?void 0:t.future,history:VR({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||iP(),routes:e,detectErrorBoundary:nP}).initialize()}function iP(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Mf({},t,{errors:sP(t.errors)})),t}function sP(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Tm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}var qy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(qy||(qy={}));var Ky;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ky||(Ky={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(e,t){if(!e)throw Ms(t)},Ms=function(e){return new Error("Firebase Database ("+dE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},oP=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Am={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,h=(s&3)<<4|l>>4;let d=(l&15)<<2|u>>6,y=u&63;a||(y=64,o||(d=64)),r.push(n[c],n[h],n[d],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):oP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new lP;const d=s<<2|l>>4;if(r.push(d),u!==64){const y=l<<4&240|u>>2;if(r.push(y),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class lP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pE=function(e){const t=fE(e);return Am.encodeByteArray(t,!0)},Uu=function(e){return pE(e).replace(/\./g,"")},ju=function(e){try{return Am.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(e){return mE(void 0,e)}function mE(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!uP(n)||(e[n]=mE(e[n],t[n]));return e}function uP(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=()=>cP().__FIREBASE_DEFAULTS__,dP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},fP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ju(e[1]);return t&&JSON.parse(t)},xm=()=>{try{return hP()||dP()||fP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gE=e=>{var t,n;return(n=(t=xm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},vE=e=>{const t=gE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},pP=()=>{var e;return(e=xm())===null||e===void 0?void 0:e.config},yE=e=>{var t;return(t=xm())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Uu(JSON.stringify(n)),Uu(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Om(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function mP(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function wE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gP(){const e=mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function EE(){return dE.NODE_ADMIN===!0}function vP(){try{return typeof indexedDB=="object"}catch{return!1}}function yP(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="FirebaseError";class sr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=_P,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?wP(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new sr(i,l,r)}}function wP(e,t){return e.replace(EP,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const EP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(e){return JSON.parse(e)}function qe(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=fl(ju(s[0])||""),n=fl(ju(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},CP=function(e){const t=CE(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},SP=function(e){const t=CE(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Is(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Lf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function zu(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Bu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Qy(s)&&Qy(o)){if(!Bu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function So(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Io(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let h=0;h<16;h++)r[h]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):h<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const d=(i<<5|i>>>27)+u+a+c+r[h]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function TP(e,t){const n=new kP(e,t);return n.subscribe.bind(n)}class kP{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RP(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=ld),i.error===void 0&&(i.error=ld),i.complete===void 0&&(i.complete=ld);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RP(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ld(){}function Ql(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,A(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},$c=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(e){return e&&e._delegate?e._delegate:e}class Ur{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ql;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xP(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AP(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AP(e){return e===Jr?void 0:e}function xP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new PP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(he||(he={}));const DP={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},bP=he.INFO,MP={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},LP=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=MP[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fc{constructor(t){this.name=t,this._logLevel=bP,this._logHandler=LP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in he))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const $P=(e,t)=>t.some(n=>e instanceof n);let Yy,Xy;function FP(){return Yy||(Yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UP(){return Xy||(Xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SE=new WeakMap,$f=new WeakMap,IE=new WeakMap,ad=new WeakMap,Dm=new WeakMap;function jP(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Or(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&SE.set(n,e)}).catch(()=>{}),Dm.set(t,e),t}function zP(e){if($f.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});$f.set(e,t)}let Ff={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return $f.get(e);if(t==="objectStoreNames")return e.objectStoreNames||IE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Or(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function BP(e){Ff=e(Ff)}function WP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ud(this),t,...n);return IE.set(r,t.sort?t.sort():[t]),Or(r)}:UP().includes(e)?function(...t){return e.apply(ud(this),t),Or(SE.get(this))}:function(...t){return Or(e.apply(ud(this),t))}}function VP(e){return typeof e=="function"?WP(e):(e instanceof IDBTransaction&&zP(e),$P(e,FP())?new Proxy(e,Ff):e)}function Or(e){if(e instanceof IDBRequest)return jP(e);if(ad.has(e))return ad.get(e);const t=VP(e);return t!==e&&(ad.set(e,t),Dm.set(t,e)),t}const ud=e=>Dm.get(e);function HP(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Or(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Or(o.result),a.oldVersion,a.newVersion,Or(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const GP=["get","getKey","getAll","getAllKeys","count"],qP=["put","add","delete","clear"],cd=new Map;function Jy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(cd.get(t))return cd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=qP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GP.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return cd.set(t,s),s}BP(e=>({...e,get:(t,n,r)=>Jy(t,n)||e.get(t,n,r),has:(t,n)=>!!Jy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QP(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Uf="@firebase/app",Zy="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Fc("@firebase/app"),YP="@firebase/app-compat",XP="@firebase/analytics-compat",JP="@firebase/analytics",ZP="@firebase/app-check-compat",eA="@firebase/app-check",tA="@firebase/auth",nA="@firebase/auth-compat",rA="@firebase/database",iA="@firebase/database-compat",sA="@firebase/functions",oA="@firebase/functions-compat",lA="@firebase/installations",aA="@firebase/installations-compat",uA="@firebase/messaging",cA="@firebase/messaging-compat",hA="@firebase/performance",dA="@firebase/performance-compat",fA="@firebase/remote-config",pA="@firebase/remote-config-compat",mA="@firebase/storage",gA="@firebase/storage-compat",vA="@firebase/firestore",yA="@firebase/firestore-compat",_A="firebase",wA="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="[DEFAULT]",EA={[Uf]:"fire-core",[YP]:"fire-core-compat",[JP]:"fire-analytics",[XP]:"fire-analytics-compat",[eA]:"fire-app-check",[ZP]:"fire-app-check-compat",[tA]:"fire-auth",[nA]:"fire-auth-compat",[rA]:"fire-rtdb",[iA]:"fire-rtdb-compat",[sA]:"fire-fn",[oA]:"fire-fn-compat",[lA]:"fire-iid",[aA]:"fire-iid-compat",[uA]:"fire-fcm",[cA]:"fire-fcm-compat",[hA]:"fire-perf",[dA]:"fire-perf-compat",[fA]:"fire-rc",[pA]:"fire-rc-compat",[mA]:"fire-gcs",[gA]:"fire-gcs-compat",[vA]:"fire-fst",[yA]:"fire-fst-compat","fire-js":"fire-js",[_A]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,zf=new Map;function CA(e,t){try{e.container.addComponent(t)}catch(n){wi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ei(e){const t=e.name;if(zf.has(t))return wi.debug(`There were multiple attempts to register component ${t}.`),!1;zf.set(t,e);for(const n of Wu.values())CA(n,e);return!0}function Uc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Dr=new Kl("app","Firebase",SA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=wA;function TE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:jf,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=pP()),!n)throw Dr.create("no-options");const s=Wu.get(i);if(s){if(Bu(n,s.options)&&Bu(r,s.config))return s;throw Dr.create("duplicate-app",{appName:i})}const o=new OP(i);for(const a of zf.values())o.addComponent(a);const l=new IA(n,r,o);return Wu.set(i,l),l}function bm(e=jf){const t=Wu.get(e);if(!t&&e===jf)return TE();if(!t)throw Dr.create("no-app",{appName:e});return t}function xn(e,t,n){var r;let i=(r=EA[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),wi.warn(l.join(" "));return}Ei(new Ur(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebase-heartbeat-database",kA=1,pl="firebase-heartbeat-store";let hd=null;function kE(){return hd||(hd=HP(TA,kA,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(pl)}}}).catch(e=>{throw Dr.create("idb-open",{originalErrorMessage:e.message})})),hd}async function RA(e){try{return(await kE()).transaction(pl).objectStore(pl).get(RE(e))}catch(t){if(t instanceof sr)wi.warn(t.message);else{const n=Dr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});wi.warn(n.message)}}}async function e_(e,t){try{const r=(await kE()).transaction(pl,"readwrite");return await r.objectStore(pl).put(t,RE(e)),r.done}catch(n){if(n instanceof sr)wi.warn(n.message);else{const r=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wi.warn(r.message)}}}function RE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=1024,PA=30*24*60*60*1e3;class AA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=t_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=PA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=t_(),{heartbeatsToSend:n,unsentEntries:r}=xA(this._heartbeatsCache.heartbeats),i=Uu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function t_(){return new Date().toISOString().substring(0,10)}function xA(e,t=NA){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),n_(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),n_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vP()?yP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await RA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function n_(e){return Uu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(e){Ei(new Ur("platform-logger",t=>new KP(t),"PRIVATE")),Ei(new Ur("heartbeat",t=>new AA(t),"PRIVATE")),xn(Uf,Zy,e),xn(Uf,Zy,"esm2017"),xn("fire-js","")}DA("");var bA="firebase",MA="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(bA,MA,"app");var LA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,Mm=Mm||{},Q=LA||self;function Vu(){}function jc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Yl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function $A(e){return Object.prototype.hasOwnProperty.call(e,dd)&&e[dd]||(e[dd]=++FA)}var dd="closure_uid_"+(1e9*Math.random()>>>0),FA=0;function UA(e,t,n){return e.call.apply(e.bind,arguments)}function jA(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function dt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dt=UA:dt=jA,dt.apply(null,arguments)}function Fa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function it(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function qr(){this.s=this.s,this.o=this.o}var zA=0;qr.prototype.s=!1;qr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),zA!=0)&&$A(this)};qr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Lm(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function r_(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(jc(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ft(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var BA=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Q.addEventListener("test",Vu,t),Q.removeEventListener("test",Vu,t)}catch{}return e}();function Hu(e){return/^[\s\xa0]*$/.test(e)}var i_=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function fd(e,t){return e<t?-1:e>t?1:0}function zc(){var e=Q.navigator;return e&&(e=e.userAgent)?e:""}function Nn(e){return zc().indexOf(e)!=-1}function $m(e){return $m[" "](e),e}$m[" "]=Vu;function WA(e){var t=GA;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var VA=Nn("Opera"),ml=Nn("Trident")||Nn("MSIE"),PE=Nn("Edge"),Bf=PE||ml,AE=Nn("Gecko")&&!(zc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),HA=zc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function xE(){var e=Q.document;return e?e.documentMode:void 0}var Wf;e:{var pd="",md=function(){var e=zc();if(AE)return/rv:([^\);]+)(\)|;)/.exec(e);if(PE)return/Edge\/([\d\.]+)/.exec(e);if(ml)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(HA)return/WebKit\/(\S+)/.exec(e);if(VA)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(md&&(pd=md?md[1]:""),ml){var gd=xE();if(gd!=null&&gd>parseFloat(pd)){Wf=String(gd);break e}}Wf=pd}var GA={};function qA(){return WA(function(){let e=0;const t=i_(String(Wf)).split("."),n=i_("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=fd(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||fd(i[2].length==0,s[2].length==0)||fd(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}Q.document&&ml&&xE();function gl(e,t){if(ft.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(AE){e:{try{$m(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:KA[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gl.X.h.call(this)}}it(gl,ft);var KA={2:"touch",3:"pen",4:"mouse"};gl.prototype.h=function(){gl.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xl="closure_listenable_"+(1e6*Math.random()|0),QA=0;function YA(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++QA,this.ba=this.ea=!1}function Bc(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Fm(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function OE(e){const t={};for(const n in e)t[n]=e[n];return t}const s_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function DE(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<s_.length;s++)n=s_[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Wc(e){this.src=e,this.g={},this.h=0}Wc.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Hf(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new YA(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function Vf(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=NE(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Bc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Hf(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var Um="closure_lm_"+(1e6*Math.random()|0),vd={};function bE(e,t,n,r,i){if(r&&r.once)return LE(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)bE(e,t[s],n,r,i);return null}return n=Bm(n),e&&e[Xl]?e.N(t,n,Yl(r)?!!r.capture:!!r,i):ME(e,t,n,!1,r,i)}function ME(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Yl(i)?!!i.capture:!!i,l=zm(e);if(l||(e[Um]=l=new Wc(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=XA(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)BA||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(FE(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function XA(){function e(n){return t.call(e.src,e.listener,n)}const t=JA;return e}function LE(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)LE(e,t[s],n,r,i);return null}return n=Bm(n),e&&e[Xl]?e.O(t,n,Yl(r)?!!r.capture:!!r,i):ME(e,t,n,!0,r,i)}function $E(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)$E(e,t[s],n,r,i);else r=Yl(r)?!!r.capture:!!r,n=Bm(n),e&&e[Xl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Hf(s,n,r,i),-1<n&&(Bc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=zm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Hf(t,n,r,i)),(n=-1<e?t[e]:null)&&jm(n))}function jm(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[Xl])Vf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(FE(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=zm(t))?(Vf(n,e),n.h==0&&(n.src=null,t[Um]=null)):Bc(e)}}}function FE(e){return e in vd?vd[e]:vd[e]="on"+e}function JA(e,t){if(e.ba)e=!0;else{t=new gl(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&jm(e),e=n.call(r,t)}return e}function zm(e){return e=e[Um],e instanceof Wc?e:null}var yd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bm(e){return typeof e=="function"?e:(e[yd]||(e[yd]=function(t){return e.handleEvent(t)}),e[yd])}function Qe(){qr.call(this),this.i=new Wc(this),this.P=this,this.I=null}it(Qe,qr);Qe.prototype[Xl]=!0;Qe.prototype.removeEventListener=function(e,t,n,r){$E(this,e,t,n,r)};function tt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new ft(t,e);else if(t instanceof ft)t.target=t.target||e;else{var i=t;t=new ft(r,e),DE(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ua(o,r,!0,t)&&i}if(o=t.g=e,i=Ua(o,r,!0,t)&&i,i=Ua(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Ua(o,r,!1,t)&&i}Qe.prototype.M=function(){if(Qe.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Bc(n[r]);delete e.g[t],e.h--}}this.I=null};Qe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Qe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ua(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var l=o.listener,a=o.ha||o.src;o.ea&&Vf(e.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Wm=Q.JSON.stringify;function ZA(){var e=zE;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class ex{constructor(){this.h=this.g=null}add(t,n){const r=UE.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var UE=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new tx,e=>e.reset());class tx{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nx(e){Q.setTimeout(()=>{throw e},0)}function jE(e,t){Gf||rx(),qf||(Gf(),qf=!0),zE.add(e,t)}var Gf;function rx(){var e=Q.Promise.resolve(void 0);Gf=function(){e.then(ix)}}var qf=!1,zE=new ex;function ix(){for(var e;e=ZA();){try{e.h.call(e.g)}catch(n){nx(n)}var t=UE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qf=!1}function Vc(e,t){Qe.call(this),this.h=e||1,this.g=t||Q,this.j=dt(this.lb,this),this.l=Date.now()}it(Vc,Qe);j=Vc.prototype;j.ca=!1;j.R=null;j.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),tt(this,"tick"),this.ca&&(Vm(this),this.start()))}};j.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vm(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}j.M=function(){Vc.X.M.call(this),Vm(this),delete this.g};function Hm(e,t,n){if(typeof e=="function")n&&(e=dt(e,n));else if(e&&typeof e.handleEvent=="function")e=dt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Q.setTimeout(e,t||0)}function BE(e){e.g=Hm(()=>{e.g=null,e.i&&(e.i=!1,BE(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class sx extends qr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:BE(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vl(e){qr.call(this),this.h=e,this.g={}}it(vl,qr);var o_=[];function WE(e,t,n,r){Array.isArray(n)||(n&&(o_[0]=n.toString()),n=o_);for(var i=0;i<n.length;i++){var s=bE(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function VE(e){Fm(e.g,function(t,n){this.g.hasOwnProperty(n)&&jm(t)},e),e.g={}}vl.prototype.M=function(){vl.X.M.call(this),VE(this)};vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hc(){this.g=!0}Hc.prototype.Aa=function(){this.g=!1};function ox(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function lx(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Zi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+ux(e,n)+(r?" "+r:"")})}function ax(e,t){e.info(function(){return"TIMEOUT: "+t})}Hc.prototype.info=function(){};function ux(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Wm(n)}catch{return t}}var $s={},l_=null;function Gm(){return l_=l_||new Qe}$s.Pa="serverreachability";function HE(e){ft.call(this,$s.Pa,e)}it(HE,ft);function yl(e){const t=Gm();tt(t,new HE(t))}$s.STAT_EVENT="statevent";function GE(e,t){ft.call(this,$s.STAT_EVENT,e),this.stat=t}it(GE,ft);function vt(e){const t=Gm();tt(t,new GE(t,e))}$s.Qa="timingevent";function qE(e,t){ft.call(this,$s.Qa,e),this.size=t}it(qE,ft);function Jl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){e()},t)}var qm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},cx={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Km(){}Km.prototype.h=null;function a_(e){return e.h||(e.h=e.i())}function hx(){}var Zl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Qm(){ft.call(this,"d")}it(Qm,ft);function Ym(){ft.call(this,"c")}it(Ym,ft);var Kf;function Gc(){}it(Gc,Km);Gc.prototype.g=function(){return new XMLHttpRequest};Gc.prototype.i=function(){return{}};Kf=new Gc;function ea(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new vl(this),this.O=dx,e=Bf?125:void 0,this.T=new Vc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new KE}function KE(){this.i=null,this.g="",this.h=!1}var dx=45e3,Qf={},Gu={};j=ea.prototype;j.setTimeout=function(e){this.O=e};function Yf(e,t,n){e.K=1,e.v=Kc(tr(t)),e.s=n,e.P=!0,QE(e,null)}function QE(e,t){e.F=Date.now(),ta(e),e.A=tr(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),rC(n.i,"t",r),e.C=0,n=e.l.H,e.h=new KE,e.g=IC(e.l,n?t:null,!e.s),0<e.N&&(e.L=new sx(dt(e.La,e,e.g),e.N)),WE(e.S,e.g,"readystatechange",e.ib),t=e.H?OE(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),yl(),ox(e.j,e.u,e.A,e.m,e.U,e.s)}j.ib=function(e){e=e.target;const t=this.L;t&&Hn(e)==3?t.l():this.La(e)};j.La=function(e){try{if(e==this.g)e:{const c=Hn(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||Bf||this.g&&(this.h.h||this.g.fa()||d_(this.g)))){this.I||c!=4||t==7||(t==8||0>=h?yl(3):yl(2)),qc(this);var n=this.g.aa();this.Y=n;t:if(YE(this)){var r=d_(this.g);e="";var i=r.length,s=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),Fo(this);var o="";break t}this.h.i=new Q.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,lx(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hu(l)){var u=l;break t}}u=null}if(n=u)Zi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xf(this,n);else{this.i=!1,this.o=3,vt(12),si(this),Fo(this);break e}}this.P?(XE(this,c,o),Bf&&this.i&&c==3&&(WE(this.S,this.T,"tick",this.hb),this.T.start())):(Zi(this.j,this.m,o,null),Xf(this,o)),c==4&&si(this),this.i&&!this.I&&(c==4?wC(this.l,this):(this.i=!1,ta(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,vt(12)):(this.o=0,vt(13)),si(this),Fo(this)}}}catch{}finally{}};function YE(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function XE(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=fx(e,n),i==Gu){t==4&&(e.o=4,vt(14),r=!1),Zi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Qf){e.o=4,vt(15),Zi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Zi(e.j,e.m,i,null),Xf(e,i);YE(e)&&i!=Gu&&i!=Qf&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,vt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),rg(t),t.K=!0,vt(11))):(Zi(e.j,e.m,n,"[Invalid Chunked Response]"),si(e),Fo(e))}j.hb=function(){if(this.g){var e=Hn(this.g),t=this.g.fa();this.C<t.length&&(qc(this),XE(this,e,t),this.i&&e!=4&&ta(this))}};function fx(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Gu:(n=Number(t.substring(n,r)),isNaN(n)?Qf:(r+=1,r+n>t.length?Gu:(t=t.substr(r,n),e.C=r+n,t)))}j.cancel=function(){this.I=!0,si(this)};function ta(e){e.V=Date.now()+e.O,JE(e,e.O)}function JE(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Jl(dt(e.gb,e),t)}function qc(e){e.B&&(Q.clearTimeout(e.B),e.B=null)}j.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(ax(this.j,this.A),this.K!=2&&(yl(),vt(17)),si(this),this.o=2,Fo(this)):JE(this,this.V-e)};function Fo(e){e.l.G==0||e.I||wC(e.l,e)}function si(e){qc(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Vm(e.T),VE(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Xf(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Jf(n.h,e))){if(!e.J&&Jf(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Qu(n),Jc(n);else break e;ng(n),vt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Jl(dt(n.cb,n),6e3));if(1>=oC(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else oi(n,11)}else if((e.J||n.g==e)&&Qu(n),!Hu(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=e.g;if(y){const v=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Xm(s,s.h),s.h=null))}if(r.D){const _=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.za=_,Re(r.F,r.D,_))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=SC(r,r.H?r.ka:null,r.V),o.J){lC(r.h,o);var l=o,a=r.J;a&&l.setTimeout(a),l.B&&(qc(l),ta(l)),r.g=o}else yC(r);0<n.i.length&&Zc(n)}else u[0]!="stop"&&u[0]!="close"||oi(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?oi(n,7):tg(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}yl(4)}catch{}}function px(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(jc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function mx(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(jc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function ZE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(jc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=mx(e),r=px(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var eC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gx(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ci(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ci){this.h=t!==void 0?t:e.h,qu(this,e.j),this.s=e.s,this.g=e.g,Ku(this,e.m),this.l=e.l,t=e.i;var n=new _l;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),u_(this,n),this.o=e.o}else e&&(n=String(e).match(eC))?(this.h=!!t,qu(this,n[1]||"",!0),this.s=To(n[2]||""),this.g=To(n[3]||"",!0),Ku(this,n[4]),this.l=To(n[5]||"",!0),u_(this,n[6]||"",!0),this.o=To(n[7]||"")):(this.h=!!t,this.i=new _l(null,this.h))}ci.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ko(t,c_,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ko(t,c_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ko(n,n.charAt(0)=="/"?_x:yx,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ko(n,Ex)),e.join("")};function tr(e){return new ci(e)}function qu(e,t,n){e.j=n?To(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ku(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function u_(e,t,n){t instanceof _l?(e.i=t,Cx(e.i,e.h)):(n||(t=ko(t,wx)),e.i=new _l(t,e.h))}function Re(e,t,n){e.i.set(t,n)}function Kc(e){return Re(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function To(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ko(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,vx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vx(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var c_=/[#\/\?@]/g,yx=/[#\?:]/g,_x=/[#\?]/g,wx=/[#\?@]/g,Ex=/#/g;function _l(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Kr(e){e.g||(e.g=new Map,e.h=0,e.i&&gx(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}j=_l.prototype;j.add=function(e,t){Kr(this),this.i=null,e=Fs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function tC(e,t){Kr(e),t=Fs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function nC(e,t){return Kr(e),t=Fs(e,t),e.g.has(t)}j.forEach=function(e,t){Kr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};j.oa=function(){Kr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};j.W=function(e){Kr(this);let t=[];if(typeof e=="string")nC(this,e)&&(t=t.concat(this.g.get(Fs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};j.set=function(e,t){return Kr(this),this.i=null,e=Fs(this,e),nC(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};j.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function rC(e,t,n){tC(e,t),0<n.length&&(e.i=null,e.g.set(Fs(e,t),Lm(n)),e.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Fs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Cx(e,t){t&&!e.j&&(Kr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tC(this,r),rC(this,i,n))},e)),e.j=t}var Sx=class{constructor(e,t){this.h=e,this.g=t}};function iC(e){this.l=e||Ix,Q.PerformanceNavigationTiming?(e=Q.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ix=10;function sC(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function oC(e){return e.h?1:e.g?e.g.size:0}function Jf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Xm(e,t){e.g?e.g.add(t):e.h=t}function lC(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}iC.prototype.cancel=function(){if(this.i=aC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function aC(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Lm(e.i)}function Jm(){}Jm.prototype.stringify=function(e){return Q.JSON.stringify(e,void 0)};Jm.prototype.parse=function(e){return Q.JSON.parse(e,void 0)};function Tx(){this.g=new Jm}function kx(e,t,n){const r=n||"";try{ZE(e,function(i,s){let o=i;Yl(i)&&(o=Wm(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rx(e,t){const n=new Hc;if(Q.Image){const r=new Image;r.onload=Fa(ja,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fa(ja,n,r,"TestLoadImage: error",!1,t),r.onabort=Fa(ja,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fa(ja,n,r,"TestLoadImage: timeout",!1,t),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ja(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Qc(e){this.l=e.ac||null,this.j=e.jb||!1}it(Qc,Km);Qc.prototype.g=function(){return new Yc(this.l,this.j)};Qc.prototype.i=function(e){return function(){return e}}({});function Yc(e,t){Qe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(Yc,Qe);var Zm=0;j=Yc.prototype;j.open=function(e,t){if(this.readyState!=Zm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wl(this)};j.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Q).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,na(this)),this.readyState=Zm};j.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wl(this)),this.g&&(this.readyState=3,wl(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uC(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function uC(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}j.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?na(this):wl(this),this.readyState==3&&uC(this)}};j.Va=function(e){this.g&&(this.response=this.responseText=e,na(this))};j.Ua=function(e){this.g&&(this.response=e,na(this))};j.ga=function(){this.g&&na(this)};function na(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wl(e)}j.setRequestHeader=function(e,t){this.v.append(e,t)};j.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function wl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Nx=Q.JSON.parse;function Me(e){Qe.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cC,this.K=this.L=!1}it(Me,Qe);var cC="",Px=/^https?$/i,Ax=["POST","PUT"];j=Me.prototype;j.Ka=function(e){this.L=e};j.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kf.g(),this.C=this.u?a_(this.u):a_(Kf),this.g.onreadystatechange=dt(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){h_(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Q.FormData&&e instanceof Q.FormData,!(0<=NE(Ax,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fC(this),0<this.B&&((this.K=xx(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.qa,this)):this.A=Hm(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){h_(this,s)}};function xx(e){return ml&&qA()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}j.qa=function(){typeof Mm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tt(this,"timeout"),this.abort(8))};function h_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hC(e),Xc(e)}function hC(e){e.D||(e.D=!0,tt(e,"complete"),tt(e,"error"))}j.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tt(this,"complete"),tt(this,"abort"),Xc(this))};j.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xc(this,!0)),Me.X.M.call(this)};j.Ha=function(){this.s||(this.F||this.v||this.l?dC(this):this.fb())};j.fb=function(){dC(this)};function dC(e){if(e.h&&typeof Mm<"u"&&(!e.C[1]||Hn(e)!=4||e.aa()!=2)){if(e.v&&Hn(e)==4)Hm(e.Ha,0,e);else if(tt(e,"readystatechange"),Hn(e)==4){e.h=!1;try{const l=e.aa();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=l===0){var i=String(e.H).match(eC)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!Px.test(i?i.toLowerCase():"")}n=r}if(n)tt(e,"complete"),tt(e,"success");else{e.m=6;try{var o=2<Hn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",hC(e)}}finally{Xc(e)}}}}function Xc(e,t){if(e.g){fC(e);const n=e.g,r=e.C[0]?Vu:null;e.g=null,e.C=null,t||tt(e,"ready");try{n.onreadystatechange=r}catch{}}}function fC(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Q.clearTimeout(e.A),e.A=null)}function Hn(e){return e.g?e.g.readyState:0}j.aa=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}};j.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Nx(t)}};function d_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case cC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}j.Ea=function(){return this.m};j.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pC(e){let t="";return Fm(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function eg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pC(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Re(e,t,n))}function uo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mC(e){this.Ca=0,this.i=[],this.j=new Hc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=uo("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=uo("baseRetryDelayMs",5e3,e),this.bb=uo("retryDelaySeedMs",1e4,e),this.$a=uo("forwardChannelMaxRetries",2,e),this.ta=uo("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new iC(e&&e.concurrentRequestLimit),this.Fa=new Tx,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}j=mC.prototype;j.ma=8;j.G=1;function tg(e){if(gC(e),e.G==3){var t=e.U++,n=tr(e.F);Re(n,"SID",e.I),Re(n,"RID",t),Re(n,"TYPE","terminate"),ra(e,n),t=new ea(e,e.j,t,void 0),t.K=2,t.v=Kc(tr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(t.v.toString(),"")),!n&&Q.Image&&(new Image().src=t.v,n=!0),n||(t.g=IC(t.l,null),t.g.da(t.v)),t.F=Date.now(),ta(t)}CC(e)}function Jc(e){e.g&&(rg(e),e.g.cancel(),e.g=null)}function gC(e){Jc(e),e.u&&(Q.clearTimeout(e.u),e.u=null),Qu(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&Q.clearTimeout(e.m),e.m=null)}function Zc(e){sC(e.h)||e.m||(e.m=!0,jE(e.Ja,e),e.C=0)}function Ox(e,t){return oC(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=Jl(dt(e.Ja,e,t),EC(e,e.C)),e.C++,!0)}j.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new ea(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=OE(s),DE(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=vC(this,i,t),n=tr(this.F),Re(n,"RID",e),Re(n,"CVER",22),this.D&&Re(n,"X-HTTP-Session-Id",this.D),ra(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(pC(s)))+"&"+t:this.o&&eg(n,this.o,s)),Xm(this.h,i),this.Ya&&Re(n,"TYPE","init"),this.O?(Re(n,"$req",t),Re(n,"SID","null"),i.Z=!0,Yf(i,n,null)):Yf(i,n,t),this.G=2}}else this.G==3&&(e?f_(this,e):this.i.length==0||sC(this.h)||f_(this))};function f_(e,t){var n;t?n=t.m:n=e.U++;const r=tr(e.F);Re(r,"SID",e.I),Re(r,"RID",n),Re(r,"AID",e.T),ra(e,r),e.o&&e.s&&eg(r,e.o,e.s),n=new ea(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=vC(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Xm(e.h,n),Yf(n,r,t)}function ra(e,t){e.ia&&Fm(e.ia,function(n,r){Re(t,r,n)}),e.l&&ZE({},function(n,r){Re(t,r,n)})}function vC(e,t,n){n=Math.min(e.i.length,n);var r=e.l?dt(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let u=i[a].h;const c=i[a].g;if(u-=s,0>u)s=Math.max(0,i[a].h-100),l=!1;else try{kx(c,o,"req"+u+"_")}catch{r&&r(c)}}if(l){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function yC(e){e.g||e.u||(e.Z=1,jE(e.Ia,e),e.A=0)}function ng(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=Jl(dt(e.Ia,e),EC(e,e.A)),e.A++,!0)}j.Ia=function(){if(this.u=null,_C(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Jl(dt(this.eb,this),e)}};j.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,vt(10),Jc(this),_C(this))};function rg(e){e.B!=null&&(Q.clearTimeout(e.B),e.B=null)}function _C(e){e.g=new ea(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=tr(e.sa);Re(t,"RID","rpc"),Re(t,"SID",e.I),Re(t,"CI",e.L?"0":"1"),Re(t,"AID",e.T),Re(t,"TYPE","xmlhttp"),ra(e,t),e.o&&e.s&&eg(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Kc(tr(t)),n.s=null,n.P=!0,QE(n,e)}j.cb=function(){this.v!=null&&(this.v=null,Jc(this),ng(this),vt(19))};function Qu(e){e.v!=null&&(Q.clearTimeout(e.v),e.v=null)}function wC(e,t){var n=null;if(e.g==t){Qu(e),rg(e),e.g=null;var r=2}else if(Jf(e.h,t))n=t.D,lC(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Gm(),tt(r,new qE(r,n)),Zc(e)}else yC(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&Ox(e,t)||r==2&&ng(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:oi(e,5);break;case 4:oi(e,10);break;case 3:oi(e,6);break;default:oi(e,2)}}}function EC(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function oi(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=dt(e.kb,e);n||(n=new ci("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||qu(n,"https"),Kc(n)),Rx(n.toString(),r)}else vt(2);e.G=0,e.l&&e.l.va(t),CC(e),gC(e)}j.kb=function(e){e?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function CC(e){if(e.G=0,e.la=[],e.l){const t=aC(e.h);(t.length!=0||e.i.length!=0)&&(r_(e.la,t),r_(e.la,e.i),e.h.i.length=0,Lm(e.i),e.i.length=0),e.l.ua()}}function SC(e,t,n){var r=n instanceof ci?tr(n):new ci(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),Ku(r,r.m);else{var i=Q.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ci(null,void 0);r&&qu(s,r),t&&(s.g=t),i&&Ku(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&Re(r,n,t),Re(r,"VER",e.ma),ra(e,r),r}function IC(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new Me(new Qc({jb:!0})):new Me(e.ra),t.Ka(e.H),t}function TC(){}j=TC.prototype;j.xa=function(){};j.wa=function(){};j.va=function(){};j.ua=function(){};j.Ra=function(){};function Jt(e,t){Qe.call(this),this.g=new mC(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Hu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hu(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Us(this)}it(Jt,Qe);Jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;vt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=SC(e,null,e.V),Zc(e)};Jt.prototype.close=function(){tg(this.g)};Jt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Wm(e),e=n);t.i.push(new Sx(t.ab++,e)),t.G==3&&Zc(t)};Jt.prototype.M=function(){this.g.l=null,delete this.j,tg(this.g),delete this.g,Jt.X.M.call(this)};function kC(e){Qm.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}it(kC,Qm);function RC(){Ym.call(this),this.status=1}it(RC,Ym);function Us(e){this.g=e}it(Us,TC);Us.prototype.xa=function(){tt(this.g,"a")};Us.prototype.wa=function(e){tt(this.g,new kC(e))};Us.prototype.va=function(e){tt(this.g,new RC)};Us.prototype.ua=function(){tt(this.g,"b")};Jt.prototype.send=Jt.prototype.u;Jt.prototype.open=Jt.prototype.m;Jt.prototype.close=Jt.prototype.close;qm.NO_ERROR=0;qm.TIMEOUT=8;qm.HTTP_ERROR=6;cx.COMPLETE="complete";hx.EventType=Zl;Zl.OPEN="a";Zl.CLOSE="b";Zl.ERROR="c";Zl.MESSAGE="d";Qe.prototype.listen=Qe.prototype.N;Me.prototype.listenOnce=Me.prototype.O;Me.prototype.getLastError=Me.prototype.Oa;Me.prototype.getLastErrorCode=Me.prototype.Ea;Me.prototype.getStatus=Me.prototype.aa;Me.prototype.getResponseJson=Me.prototype.Sa;Me.prototype.getResponseText=Me.prototype.fa;Me.prototype.send=Me.prototype.da;Me.prototype.setWithCredentials=Me.prototype.Ka;const p_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ut=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Fc("@firebase/firestore");function Mt(e,...t){if(Ts.logLevel<=he.DEBUG){const n=t.map(sg);Ts.debug(`Firestore (${ia}): ${e}`,...n)}}function ig(e,...t){if(Ts.logLevel<=he.ERROR){const n=t.map(sg);Ts.error(`Firestore (${ia}): ${e}`,...n)}}function Dx(e,...t){if(Ts.logLevel<=he.WARN){const n=t.map(sg);Ts.warn(`Firestore (${ia}): ${e}`,...n)}}function sg(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(e="Unexpected state"){const t=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+e;throw ig(t),new Error(t)}function Zf(e,t){e||og()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let Ut=class extends sr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let us=class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NC=class{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},bx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}},Mx=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Lx=class{constructor(t){this.t=t,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new us;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new us,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;t.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new us)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zf(typeof r.accessToken=="string"),new NC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Zf(t===null||typeof t=="string"),new ut(t)}},$x=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},Fx=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new $x(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ux=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jx=class{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Mt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Zf(typeof n.token=="string"),this.T=n.token,new Ux(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bx=class{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=zx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}};function PC(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wx=class{constructor(t,n,r,i,s,o,l,a){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.useFetchStreams=a}},Vx=class ep{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ep("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ep&&t.projectId===this.projectId&&t.database===this.database}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m_,oe;(oe=m_||(m_={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Mt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new lg(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ut(Ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gx(e,t){if(ig("AsyncQueue",`${t}: ${e}`),PC(e))return new Ut(Ft.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=Bx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Mt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Mt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ut(Ft.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Gx(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;function Kx(e,t,n,r){if(t===!0&&r===!0)throw new Ut(Ft.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Qx(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":og()}function Yx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ut(Ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qx(e);throw new Ut(Ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Ut(Ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ut(Ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Kx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ut(Ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Ut(Ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new bx;switch(n.type){case"firstParty":return new Fx(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ut(Ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=g_.get(t);n&&(Mt("ComponentProvider","Removing Datastore"),g_.delete(t),n.terminate())}(this),Promise.resolve()}}function Xx(e,t,n,r={}){var i;const s=(e=Yx(e,AC))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&Dx("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=ut.MOCK_USER;else{o=_E(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Ut(Ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ut(a)}e._authCredentials=new Mx(new NC(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Hx(this,"async_queue_retry"),this.qc=()=>{const n=_d();n&&Mt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const t=_d();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const n=_d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new us;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(t){if(!PC(t))throw t;Mt("AsyncQueue","Operation failed with retryable error: "+t)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(t){const n=this.Nc.then(()=>(this.Fc=!0,t().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ig("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(t,n,r){this.Uc(),this.Lc.indexOf(t)>-1&&(n=0);const i=lg.createAndSchedule(this,t,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&og()}verifyOperationInProgress(){}async zc(){let t;do t=this.Nc,await t;while(t!==this.Nc)}jc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}class Zx extends AC{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Jx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tO(this),this._firestoreClient.terminate()}}function eO(e,t){const n=typeof e=="object"?e:bm(),r=typeof e=="string"?e:t||"(default)",i=Uc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vE("firestore");s&&Xx(i,...s)}return i}function tO(e){var t,n,r;const i=e._freezeSettings(),s=function(o,l,a,u){return new Wx(o,l,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new qx(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(function(e,t=!0){(function(n){ia=n})(xi),Ei(new Ur("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Zx(new Lx(n.getProvider("auth-internal")),new jx(n.getProvider("app-check-internal")),function(l,a){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ut(Ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vx(l.options.projectId,a)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xn(p_,"3.10.1",e),xn(p_,"3.10.1","esm2017")})();function ag(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function xC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nO=xC,OC=new Kl("auth","Firebase",xC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Fc("@firebase/auth");function rO(e,...t){Yu.logLevel<=he.WARN&&Yu.warn(`Auth (${xi}): ${e}`,...t)}function su(e,...t){Yu.logLevel<=he.ERROR&&Yu.error(`Auth (${xi}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(e,...t){throw ug(e,...t)}function On(e,...t){return ug(e,...t)}function iO(e,t,n){const r=Object.assign(Object.assign({},nO()),{[t]:n});return new Kl("auth","Firebase",r).create(t,{appName:e.name})}function ug(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return OC.create(e,...t)}function H(e,t,...n){if(!e)throw ug(t,...n)}function Gn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw su(t),new Error(t)}function nr(e,t){e||Gn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function sO(){return y_()==="http:"||y_()==="https:"}function y_(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sO()||mP()||"connection"in navigator)?navigator.onLine:!0}function lO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n){this.shortDelay=t,this.longDelay=n,nr(n>t,"Short delay should be less than long delay!"),this.isMobile=Om()||wE()}get(){return oO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(e,t){nr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new sa(3e4,6e4);function js(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function zs(e,t,n,r,i={}){return bC(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ls(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),DC.fetch()(MC(e,e.config.apiHost,n,l),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},s))})}async function bC(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},aO),t);try{const i=new cO(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw za(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw za(e,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw za(e,"email-already-in-use",o);if(a==="USER_DISABLED")throw za(e,"user-disabled",o);const c=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iO(e,c,u);yn(e,c)}}catch(i){if(i instanceof sr)throw i;yn(e,"network-request-failed",{message:String(i)})}}async function oa(e,t,n,r,i={}){const s=await zs(e,t,n,r,i);return"mfaPendingCredential"in s&&yn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function MC(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?cg(e.config,i):`${e.config.apiScheme}://${i}`}class cO{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(On(this.auth,"network-request-failed")),uO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function za(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=On(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(e,t){return zs(e,"POST","/v1/accounts:delete",t)}async function dO(e,t){return zs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fO(e,t=!1){const n=xt(e),r=await n.getIdToken(t),i=hg(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Uo(wd(i.auth_time)),issuedAtTime:Uo(wd(i.iat)),expirationTime:Uo(wd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function wd(e){return Number(e)*1e3}function hg(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return su("JWT malformed, contained fewer than 3 sections"),null;try{const i=ju(n);return i?JSON.parse(i):(su("Failed to decode base64 JWT payload"),null)}catch(i){return su("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pO(e){const t=hg(e);return H(t,"internal-error"),H(typeof t.exp<"u","internal-error"),H(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof sr&&mO(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function mO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uo(this.lastLoginAt),this.creationTime=Uo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(e){var t;const n=e.auth,r=await e.getIdToken(),i=await El(e,dO(n,{idToken:r}));H(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?_O(s.providerUserInfo):[],l=yO(e.providerData,o),a=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),c=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new LC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function vO(e){const t=xt(e);await Xu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yO(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function _O(e){return e.map(t=>{var{providerId:n}=t,r=ag(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(e,t){const n=await bC(e,{},async()=>{const r=Ls({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=MC(e,i,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",DC.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){H(t.idToken,"internal-error"),H(typeof t.idToken<"u","internal-error"),H(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pO(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return H(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await wO(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Cl;return r&&(H(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(e,t){H(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class hi{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=ag(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new LC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await El(this,this.stsTokenManager.getToken(this.auth,t));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return fO(this,t)}reload(){return vO(this)}_assign(t){this!==t&&(H(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new hi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Xu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await El(this,hO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,l,a,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(l=n.tenantId)!==null&&l!==void 0?l:void 0,m=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,p=(u=n.createdAt)!==null&&u!==void 0?u:void 0,f=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:g,emailVerified:w,isAnonymous:S,providerData:k,stsTokenManager:x}=n;H(g&&x,t,"internal-error");const N=Cl.fromJSON(this.name,x);H(typeof g=="string",t,"internal-error"),ar(h,t.name),ar(d,t.name),H(typeof w=="boolean",t,"internal-error"),H(typeof S=="boolean",t,"internal-error"),ar(y,t.name),ar(v,t.name),ar(_,t.name),ar(m,t.name),ar(p,t.name),ar(f,t.name);const J=new hi({uid:g,auth:t,email:d,emailVerified:w,displayName:h,isAnonymous:S,photoURL:v,phoneNumber:y,tenantId:_,stsTokenManager:N,createdAt:p,lastLoginAt:f});return k&&Array.isArray(k)&&(J.providerData=k.map(F=>Object.assign({},F))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(t,n,r=!1){const i=new Cl;i.updateFromServerResponse(n);const s=new hi({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Xu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;function qn(e){nr(e instanceof Function,"Expected a class definition");let t=__.get(e);return t?(nr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,__.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}$C.type="NONE";const w_=$C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(e,t,n){return`firebase:${e}:${t}:${n}`}class cs{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ou(this.userKey,i.apiKey,s),this.fullPersistenceKey=ou("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?hi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new cs(qn(w_),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||qn(w_);const o=ou(r,t.config.apiKey,t.name);let l=null;for(const u of n)try{const c=await u._get(o);if(c){const h=hi._fromJSON(t,c);u!==s&&(l=h),s=u;break}}catch{}const a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new cs(s,t,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new cs(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(FC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BC(t))return"Blackberry";if(WC(t))return"Webos";if(dg(t))return"Safari";if((t.includes("chrome/")||UC(t))&&!t.includes("edge/"))return"Chrome";if(zC(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FC(e=mt()){return/firefox\//i.test(e)}function dg(e=mt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UC(e=mt()){return/crios\//i.test(e)}function jC(e=mt()){return/iemobile/i.test(e)}function zC(e=mt()){return/android/i.test(e)}function BC(e=mt()){return/blackberry/i.test(e)}function WC(e=mt()){return/webos/i.test(e)}function eh(e=mt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function EO(e=mt()){var t;return eh(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function CO(){return gP()&&document.documentMode===10}function VC(e=mt()){return eh(e)||zC(e)||WC(e)||BC(e)||/windows phone/i.test(e)||jC(e)}function SO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(e,t=[]){let n;switch(e){case"Browser":n=E_(mt());break;case"Worker":n=`${E_(mt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${xi}/${r}`}async function GC(e,t){return zs(e,"GET","/v2/recaptchaConfig",js(e,t))}function C_(e){return e!==void 0&&e.enterprise!==void 0}class qC{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function KC(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=On("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",IO().appendChild(r)})}function TO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const kO="https://www.google.com/recaptcha/enterprise.js?render=",RO="recaptcha-enterprise";class QC{constructor(t){this.type=RO,this.auth=Bs(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{GC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new qC(a);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(a=>{l(a)})})}function i(s,o,l){const a=window.grecaptcha;C_(a)?a.enterprise.ready(()=>{try{a.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(u=>{l(u)})}catch(u){l(u)}}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&C_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}KC(kO+l).then(()=>{i(l,s,o)}).catch(a=>{o(a)})}}).catch(l=>{o(l)})})}}async function S_(e,t,n,r=!1){const i=new QC(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,l)=>{try{const a=t(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new NO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await cs.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(t);(!o||o===l)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Xu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?xt(t):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&H(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(t))})}async initializeRecaptchaConfig(){const t=await GC(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new qC(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new QC(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Kl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qn(t)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await cs.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return H(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&rO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bs(e){return xt(e)}class I_{constructor(t){this.auth=t,this.observer=null,this.addObserver=TP(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(e,t){const n=Uc(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bu(s,t??{}))return i;yn(i,"already-initialized")}return n.initialize({options:t})}function xO(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function OO(e,t,n){const r=Bs(e);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=YC(t),{host:o,port:l}=DO(t),a=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||bO()}function YC(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function DO(e){const t=YC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:T_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:T_(o)}}}function T_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function bO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(t){return Gn("not implemented")}_linkToIdToken(t,n){return Gn("not implemented")}_getReauthenticationResolver(t){return Gn("not implemented")}}async function MO(e,t){return zs(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(e,t){return oa(e,"POST","/v1/accounts:signInWithPassword",js(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(e,t){return oa(e,"POST","/v1/accounts:signInWithEmailLink",js(e,t))}async function $O(e,t){return oa(e,"POST","/v1/accounts:signInWithEmailLink",js(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends fg{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Sl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Sl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await S_(t,r,"signInWithPassword");return Ed(t,i)}else return Ed(t,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await S_(t,r,"signInWithPassword");return Ed(t,s)}else return Promise.reject(i)});case"emailLink":return LO(t,{email:this._email,oobCode:this._password});default:yn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return MO(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return $O(t,{idToken:n,email:this._email,oobCode:this._password});default:yn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(e,t){return oa(e,"POST","/v1/accounts:signInWithIdp",js(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="http://localhost";class Ci extends fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ci(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=ag(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ci(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return hs(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,hs(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,hs(t,n)}buildRequest(){const t={requestUri:FO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ls(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jO(e){const t=So(Io(e)).link,n=t?So(Io(t)).deep_link_id:null,r=So(Io(e)).deep_link_id;return(r?So(Io(r)).link:null)||r||n||t||e}class pg{constructor(t){var n,r,i,s,o,l;const a=So(Io(t)),u=(n=a.apiKey)!==null&&n!==void 0?n:null,c=(r=a.oobCode)!==null&&r!==void 0?r:null,h=UO((i=a.mode)!==null&&i!==void 0?i:null);H(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const n=jO(t);try{return new pg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.providerId=Ws.PROVIDER_ID}static credential(t,n){return Sl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=pg.parseLink(n);return H(r,"argument-error"),Sl._fromEmailAndCode(t,r.code,r.tenantId)}}Ws.PROVIDER_ID="password";Ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends XC{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends la{constructor(){super("facebook.com")}static credential(t){return Ci._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends la{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ci._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends la{constructor(){super("github.com")}static credential(t){return Ci._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gr.credential(t.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends la{constructor(){super("twitter.com")}static credential(t,n){return Ci._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(e,t){return oa(e,"POST","/v1/accounts:signUp",js(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await hi._fromIdTokenResponse(t,r,i),o=k_(r);return new jr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=k_(r);return new jr({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function k_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(e){var t;const n=Bs(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new jr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await zO(n,{returnSecureToken:!0}),i=await jr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends sr{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ju.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Ju(t,n,r,i)}}function JC(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ju._fromErrorAndOperation(e,s,t,r):s})}async function WO(e,t,n=!1){const r=await El(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return jr._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await El(e,JC(r,i,t,e),n);H(s.idToken,r,"internal-error");const o=hg(s.idToken);H(o,r,"internal-error");const{sub:l}=o;return H(e.uid===l,r,"user-mismatch"),jr._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(e,t,n=!1){const r="signIn",i=await JC(e,r,t),s=await jr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function HO(e,t){return ZC(Bs(e),t)}function GO(e,t,n){return HO(xt(e),Ws.credential(t,n))}function qO(e,t,n,r){return xt(e).onIdTokenChanged(t,n,r)}function KO(e,t,n){return xt(e).beforeAuthStateChanged(t,n)}const Zu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zu,"1"),this.storage.removeItem(Zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){const e=mt();return dg(e)||eh(e)}const YO=1e3,XO=10;class tS extends eS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=QO()&&SO(),this.fallbackToPolling=VC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);CO()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,XO):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},YO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}tS.type="LOCAL";const JO=tS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS extends eS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}nS.type="SESSION";const rS=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new th(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),a=await ZO(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const u=mg("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(d.data.response);break;default:clearTimeout(c),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function tD(e){Dn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}async function nD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rD(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function iD(){return iS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="firebaseLocalStorageDb",sD=1,ec="firebaseLocalStorage",oS="fbase_key";class aa{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nh(e,t){return e.transaction([ec],t?"readwrite":"readonly").objectStore(ec)}function oD(){const e=indexedDB.deleteDatabase(sS);return new aa(e).toPromise()}function np(){const e=indexedDB.open(sS,sD);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(ec,{keyPath:oS})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(ec)?t(r):(r.close(),await oD(),t(await np()))})})}async function R_(e,t,n){const r=nh(e,!0).put({[oS]:t,value:n});return new aa(r).toPromise()}async function lD(e,t){const n=nh(e,!1).get(t),r=await new aa(n).toPromise();return r===void 0?null:r.value}function N_(e,t){const n=nh(e,!0).delete(t);return new aa(n).toPromise()}const aD=800,uD=3;class lS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>uD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(iD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await nD(),!this.activeServiceWorker)return;this.sender=new eD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await np();return await R_(t,Zu,"1"),await N_(t,Zu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>R_(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>lD(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>N_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=nh(i,!1).getAll();return new aa(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lS.type="LOCAL";const cD=lS;new sa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(e,t){return t?qn(t):(H(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends fg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return hs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return hs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return hs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dD(e){return ZC(e.auth,new gg(e),e.bypassAuthState)}function fD(e){const{auth:t,user:n}=e;return H(n,t,"internal-error"),VO(n,new gg(e),e.bypassAuthState)}async function pD(e){const{auth:t,user:n}=e;return H(n,t,"internal-error"),WO(n,new gg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=t;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dD;case"linkViaPopup":case"linkViaRedirect":return pD;case"reauthViaPopup":case"reauthViaRedirect":return fD;default:yn(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new sa(2e3,1e4);class es extends aS{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return H(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(On(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,mD.get())};t()}}es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="pendingRedirect",lu=new Map;class vD extends aS{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=lu.get(this.auth._key());if(!t){try{const r=await yD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}lu.set(this.auth._key(),t)}return this.bypassAuthState||lu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yD(e,t){const n=ED(t),r=wD(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _D(e,t){lu.set(e._key(),t)}function wD(e){return qn(e._redirectPersistence)}function ED(e){return ou(gD,e.config.apiKey,e.name)}async function CD(e,t,n=!1){const r=Bs(e),i=hD(r,t),o=await new vD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=10*60*1e3;class ID{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!TD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!uS(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(On(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=SD&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(t))}saveEventToCache(t){this.cachedEventUids.add(P_(t)),this.lastProcessedEventTime=Date.now()}}function P_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function uS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function TD(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(e,t={}){return zs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ND=/^https?/;async function PD(e){if(e.config.emulator)return;const{authorizedDomains:t}=await kD(e);for(const n of t)try{if(AD(n))return}catch{}yn(e,"unauthorized-domain")}function AD(e){const t=tp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ND.test(n))return!1;if(RD.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new sa(3e4,6e4);function A_(){const e=Dn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function OD(e){return new Promise((t,n)=>{var r,i,s;function o(){A_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{A_(),n(On(e,"network-request-failed"))},timeout:xD.get()})}if(!((i=(r=Dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Dn().gapi)===null||s===void 0)&&s.load)o();else{const l=TO("iframefcb");return Dn()[l]=()=>{gapi.load?o():n(On(e,"network-request-failed"))},KC(`https://apis.google.com/js/api.js?onload=${l}`).catch(a=>n(a))}}).catch(t=>{throw au=null,t})}let au=null;function DD(e){return au=au||OD(e),au}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new sa(5e3,15e3),MD="__/auth/iframe",LD="emulator/auth/iframe",$D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UD(e){const t=e.config;H(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?cg(t,LD):`https://${e.config.authDomain}/${MD}`,r={apiKey:t.apiKey,appName:e.name,v:xi},i=FD.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ls(r).slice(1)}`}async function jD(e){const t=await DD(e),n=Dn().gapi;return H(n,e,"internal-error"),t.open({where:document.body,url:UD(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$D,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=On(e,"network-request-failed"),l=Dn().setTimeout(()=>{s(o)},bD.get());function a(){Dn().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BD=500,WD=600,VD="_blank",HD="http://localhost";class x_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GD(e,t,n,r=BD,i=WD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},zD),{width:r.toString(),height:i.toString(),top:s,left:o}),u=mt().toLowerCase();n&&(l=UC(u)?VD:n),FC(u)&&(t=t||HD,a.scrollbars="yes");const c=Object.entries(a).reduce((d,[y,v])=>`${d}${y}=${v},`,"");if(EO(u)&&l!=="_self")return qD(t||"",l),new x_(null);const h=window.open(t||"",l,c);H(h,e,"popup-blocked");try{h.focus()}catch{}return new x_(h)}function qD(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="__/auth/handler",QD="emulator/auth/handler",YD=encodeURIComponent("fac");async function O_(e,t,n,r,i,s){H(e.config.authDomain,e,"auth-domain-config-required"),H(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xi,eventId:i};if(t instanceof XC){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Lf(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(t instanceof la){const c=t.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const c of Object.keys(l))l[c]===void 0&&delete l[c];const a=await e._getAppCheckToken(),u=a?`#${YD}=${encodeURIComponent(a)}`:"";return`${XD(e)}?${Ls(l).slice(1)}${u}`}function XD({config:e}){return e.emulator?cg(e,QD):`https://${e.authDomain}/${KD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="webStorageSupport";class JD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rS,this._completeRedirectFn=CD,this._overrideRedirectResult=_D}async _openPopup(t,n,r,i){var s;nr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await O_(t,n,r,tp(),i);return GD(t,o,mg())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await O_(t,n,r,tp(),i);return tD(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(nr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await jD(t),r=new ID(t);return n.register("authEvent",i=>(H(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Cd,{type:Cd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Cd];o!==void 0&&n(!!o),yn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return VC()||dg()||eh()}}const ZD=JD;var D_="@firebase/auth",b_="0.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function nb(e){Ei(new Ur("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),H(!(l!=null&&l.includes(":")),"argument-error",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HC(e)},u=new PO(r,i,s,a);return xO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ei(new Ur("auth-internal",t=>{const n=Bs(t.getProvider("auth").getImmediate());return(r=>new eb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(D_,b_,tb(e)),xn(D_,b_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=5*60,ib=yE("authIdTokenMaxAge")||rb;let M_=null;const sb=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ib)return;const i=n==null?void 0:n.token;M_!==i&&(M_=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ob(e=bm()){const t=Uc(e,"auth");if(t.isInitialized())return t.getImmediate();const n=AO(e,{popupRedirectResolver:ZD,persistence:[cD,JO,rS]}),r=yE("authTokenSyncURL");if(r){const s=sb(r);KO(n,s,()=>s(n.currentUser)),qO(n,o=>s(o))}const i=gE("auth");return i&&OO(n,`http://${i}`),n}nb("Browser");const L_="@firebase/database",$_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cS="";function lb(e){cS=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),qe(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:fl(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Ln(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ab(t)}}catch{}return new ub},li=hS("localStorage"),rp=hS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Fc("@firebase/database"),cb=function(){let e=1;return function(){return e++}}(),dS=function(e){const t=NP(e),n=new IP;n.update(t);const r=n.digest();return Am.encodeByteArray(r)},ua=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ua.apply(null,r):typeof r=="object"?t+=qe(r):t+=r,t+=" "}return t};let di=null,F_=!0;const hb=function(e,t){A(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(ds.logLevel=he.VERBOSE,di=ds.log.bind(ds),t&&rp.set("logging_enabled",!0)):typeof e=="function"?di=e:(di=null,rp.remove("logging_enabled"))},Ze=function(...e){if(F_===!0&&(F_=!1,di===null&&rp.get("logging_enabled")===!0&&hb(!0)),di){const t=ua.apply(null,e);di(t)}},ca=function(e){return function(...t){Ze(e,...t)}},ip=function(...e){const t="FIREBASE INTERNAL ERROR: "+ua(...e);ds.error(t)},rr=function(...e){const t=`FIREBASE FATAL ERROR: ${ua(...e)}`;throw ds.error(t),new Error(t)},_t=function(...e){const t="FIREBASE WARNING: "+ua(...e);ds.warn(t)},db=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vg=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},fb=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Si="[MIN_NAME]",zr="[MAX_NAME]",Oi=function(e,t){if(e===t)return 0;if(e===Si||t===zr)return-1;if(t===Si||e===zr)return 1;{const n=U_(e),r=U_(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},pb=function(e,t){return e===t?0:e<t?-1:1},co=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+qe(t))},yg=function(e){if(typeof e!="object"||e===null)return qe(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=qe(t[r]),n+=":",n+=yg(e[t[r]]);return n+="}",n},fS=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function rt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const pS=function(e){A(!vg(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(a=0;a<64;a+=8){let d=parseInt(c.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},mb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function vb(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const yb=new RegExp("^-?(0*)\\d{1,10}$"),_b=-2147483648,wb=2147483647,U_=function(e){if(yb.test(e)){const t=Number(e);if(t>=_b&&t<=wb)return t}return null},Vs=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw _t("Exception was thrown by user callback.",n),t},Math.floor(0))}},Eb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},jo=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){_t(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_t(t)}}class fs{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}fs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="5",mS="v",gS="s",vS="r",yS="f",_S=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wS="ls",ES="p",sp="ac",CS="websocket",SS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=li.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&li.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function Ib(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function TS(e,t,n){A(typeof t=="string","typeof type must == string"),A(typeof n=="object","typeof params must == object");let r;if(t===CS)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===SS)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Ib(e)&&(n.ns=e.namespace);const i=[];return rt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.counters_={}}incrementCounter(t,n=1){Ln(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return aP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd={},Id={};function wg(e){const t=e.toString();return Sd[t]||(Sd[t]=new Tb),Sd[t]}function kb(e,t){const n=e.toString();return Id[n]||(Id[n]=t()),Id[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Vs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="start",Nb="close",Pb="pLPCommand",Ab="pRTLPCB",kS="id",RS="pw",NS="ser",xb="cb",Ob="seg",Db="ts",bb="d",Mb="dframe",PS=1870,AS=30,Lb=PS-AS,$b=25e3,Fb=3e4;class ts{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ca(t),this.stats_=wg(n),this.urlFn=a=>(this.appCheckToken&&(a[sp]=this.appCheckToken),TS(n,SS,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Rb(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Fb)),fb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Eg((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===j_)this.id=l,this.password=a;else if(o===Nb)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[j_]="t",r[NS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[xb]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mS]=_g,this.transportSessionId&&(r[gS]=this.transportSessionId),this.lastSessionId&&(r[wS]=this.lastSessionId),this.applicationId&&(r[ES]=this.applicationId),this.appCheckToken&&(r[sp]=this.appCheckToken),typeof location<"u"&&location.hostname&&_S.test(location.hostname)&&(r[vS]=yS);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ts.forceAllow_=!0}static forceDisallow(){ts.forceDisallow_=!0}static isAvailable(){return ts.forceAllow_?!0:!ts.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mb()&&!gb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=qe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pE(n),i=fS(r,Lb);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Mb]="t",r[kS]=t,r[RS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=qe(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Eg{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cb(),window[Pb+this.uniqueCallbackIdentifier]=t,window[Ab+this.uniqueCallbackIdentifier]=n,this.myIFrame=Eg.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ze("frame writing exception"),l.stack&&Ze(l.stack),Ze(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ze("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[kS]=this.myID,t[RS]=this.myPW,t[NS]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+AS+r.length<=PS;){const o=this.pendingSegs.shift();r=r+"&"+Ob+i+"="+o.seg+"&"+Db+i+"="+o.ts+"&"+bb+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor($b)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ze("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=16384,jb=45e3;let tc=null;typeof MozWebSocket<"u"?tc=MozWebSocket:typeof WebSocket<"u"&&(tc=WebSocket);class hn{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ca(this.connId),this.stats_=wg(n),this.connURL=hn.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[mS]=_g,typeof location<"u"&&location.hostname&&_S.test(location.hostname)&&(o[vS]=yS),n&&(o[gS]=n),r&&(o[wS]=r),i&&(o[sp]=i),s&&(o[ES]=s),TS(t,CS,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,li.set("previous_websocket_failure",!0);try{let r;EE(),this.mySock=new tc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){hn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&tc!==null&&!hn.forceDisallow_}static previouslyFailed(){return li.isInMemoryStorage||li.get("previous_websocket_failure")===!0}markConnectionHealthy(){li.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=fl(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(A(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=qe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fS(n,Ub);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jb))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hn.responsesRequiredToBeHealthy=2;hn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ts,hn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=hn&&hn.isAvailable();let r=n&&!hn.previouslyFailed();if(t.webSocketOnly&&(n||_t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[hn];else{const i=this.transports_=[];for(const s of Il.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Il.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Il.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=6e4,Bb=5e3,Wb=10*1024,Vb=100*1024,Td="t",z_="d",Hb="s",B_="r",Gb="e",W_="o",V_="a",H_="n",G_="p",qb="h";class Kb{constructor(t,n,r,i,s,o,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ca("c:"+this.id+":"),this.transportManager_=new Il(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=jo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Vb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Wb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Td in t){const n=t[Td];n===V_?this.upgradeIfSecondaryHealthy_():n===B_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===W_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=co("t",t),r=co("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:G_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:V_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:H_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=co("t",t),r=co("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=co(Td,t);if(z_ in t){const r=t[z_];if(n===qb){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===H_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Hb?this.onConnectionShutdown_(r):n===B_?this.onReset_(r):n===Gb?ip("Server Error: "+r):n===W_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ip("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_g!==r&&_t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),jo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zb))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Bb))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:G_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(li.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t){this.allowedEvents_=t,this.listeners_={},A(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){A(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends OS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Om()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new nc}getInitialEvent(t){return A(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=32,K_=768;class pe{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function de(){return new pe("")}function te(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Br(e){return e.pieces_.length-e.pieceNum_}function _e(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function Cg(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Qb(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Tl(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function DS(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function De(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pe(n,0)}function ne(e){return e.pieceNum_>=e.pieces_.length}function kt(e,t){const n=te(e),r=te(t);if(n===null)return t;if(n===r)return kt(_e(e),_e(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Yb(e,t){const n=Tl(e,0),r=Tl(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Oi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Sg(e,t){if(Br(e)!==Br(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Kt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Br(e)>Br(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Xb{constructor(t,n){this.errorPrefix_=n,this.parts_=Tl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$c(this.parts_[r]);bS(this)}}function Jb(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=$c(t),bS(e)}function Zb(e){const t=e.parts_.pop();e.byteLength_-=$c(t),e.parts_.length>0&&(e.byteLength_-=1)}function bS(e){if(e.byteLength_>K_)throw new Error(e.errorPrefix_+"has a key path longer than "+K_+" bytes ("+e.byteLength_+").");if(e.parts_.length>q_)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+q_+") or object contains a cycle "+Zr(e))}function Zr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends OS{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ig}getInitialEvent(t){return A(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=1e3,eM=60*5*1e3,Q_=30*1e3,tM=1.3,nM=3e4,rM="server_kill",Y_=3;class Yn extends xS{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Yn.nextPersistentConnectionId_++,this.log_=ca("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ho,this.maxReconnectDelay_=eM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!EE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ig.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&nc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(qe(s)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new ql,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Yn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Ln(t,"w")){const r=Is(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();_t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||SP(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Q_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=CP(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+qe(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):ip("Unrecognized action received from server: "+qe(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nM&&(this.reconnectDelay_=ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Yn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(h){A(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,l=new Kb(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,y=>{_t(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(rM)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&_t(h),a())}}}interrupt(t){Ze("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ze("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Lf(this.interruptReasons_)&&(this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>yg(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new pe(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Ze("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Y_&&(this.reconnectDelay_=Q_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ze("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Y_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+cS.replace(/\./g,"-")]=1,Om()?t["framework.cordova"]=1:wE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=nc.getInstance().currentlyOnline();return Lf(this.interruptReasons_)&&t}}Yn.nextPersistentConnectionId_=0;Yn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new re(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new re(Si,t),i=new re(Si,n);return this.compare(r,i)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba;class MS extends rh{static get __EMPTY_NODE(){return Ba}static set __EMPTY_NODE(t){Ba=t}compare(t,n){return Oi(t.name,n.name)}isDefinedOn(t){throw Ms("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return re.MIN}maxPost(){return new re(zr,Ba)}makePost(t,n){return A(typeof t=="string","KeyIndex indexValue must always be a string."),new re(t,Ba)}toString(){return".key"}}const br=new MS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class He{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??He.RED,this.left=i??Rt.EMPTY_NODE,this.right=s??Rt.EMPTY_NODE}copy(t,n,r,i,s){return new He(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Rt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}He.RED=!0;He.BLACK=!1;class iM{copy(t,n,r,i,s){return this}insert(t,n,r){return new He(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(t,n=Rt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Rt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,He.BLACK,null,null))}remove(t){return new Rt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,He.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Wa(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Wa(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Wa(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Wa(this.root_,null,this.comparator_,!0,t)}}Rt.EMPTY_NODE=new iM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(e,t){return Oi(e.name,t.name)}function Tg(e,t){return Oi(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op;function oM(e){op=e}const LS=function(e){return typeof e=="number"?"number:"+pS(e):"string:"+e},$S=function(e){if(e.isLeafNode()){const t=e.val();A(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ln(t,".sv"),"Priority must be a string or number.")}else A(e===op||e.isEmpty(),"priority of unexpected type.");A(e===op||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X_;class We{constructor(t,n=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$S(this.priorityNode_)}static set __childrenNodeConstructor(t){X_=t}static get __childrenNodeConstructor(){return X_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new We(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ne(t)?this:te(t)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=te(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(A(r!==".priority"||Br(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+LS(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=pS(this.value_):t+=this.value_,this.lazyHash_=dS(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===We.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof We.__childrenNodeConstructor?-1:(A(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=We.VALUE_TYPE_ORDER.indexOf(n),s=We.VALUE_TYPE_ORDER.indexOf(r);return A(i>=0,"Unknown leaf type: "+n),A(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FS,US;function lM(e){FS=e}function aM(e){US=e}class uM extends rh{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Oi(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return re.MIN}maxPost(){return new re(zr,new We("[PRIORITY-POST]",US))}makePost(t,n){const r=FS(t);return new re(n,new We("[PRIORITY-POST]",r))}toString(){return".priority"}}const Pe=new uM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=Math.log(2);class hM{constructor(t){const n=s=>parseInt(Math.log(s)/cM,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const rc=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let h,d;if(c===0)return null;if(c===1)return h=e[a],d=n?n(h):h,new He(d,h.node,He.BLACK,null,null);{const y=parseInt(c/2,10)+a,v=i(a,y),_=i(y+1,u);return h=e[y],d=n?n(h):h,new He(d,h.node,He.BLACK,v,_)}},s=function(a){let u=null,c=null,h=e.length;const d=function(v,_){const m=h-v,p=h;h-=v;const f=i(m+1,p),g=e[m],w=n?n(g):g;y(new He(w,g.node,_,null,f))},y=function(v){u?(u.left=v,u=v):(c=v,u=v)};for(let v=0;v<a.count;++v){const _=a.nextBitIsOne(),m=Math.pow(2,a.count-(v+1));_?d(m,He.BLACK):(d(m,He.BLACK),d(m,He.RED))}return c},o=new hM(e.length),l=s(o);return new Rt(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd;const $i={};class Kn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return A($i&&Pe,"ChildrenNode.ts has not been loaded"),kd=kd||new Kn({".priority":$i},{".priority":Pe}),kd}get(t){const n=Is(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Rt?n:null}hasIndex(t){return Ln(this.indexSet_,t.toString())}addIndex(t,n){A(t!==br,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(re.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=rc(r,t.getCompare()):l=$i;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new Kn(c,u)}addToIndexes(t,n){const r=zu(this.indexes_,(i,s)=>{const o=Is(this.indexSet_,s);if(A(o,"Missing index implementation for "+s),i===$i)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(re.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),rc(l,o.getCompare())}else return $i;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new re(t.name,l))),a.insert(t,t.node)}});return new Kn(r,this.indexSet_)}removeFromIndexes(t,n){const r=zu(this.indexes_,i=>{if(i===$i)return i;{const s=n.get(t.name);return s?i.remove(new re(t.name,s)):i}});return new Kn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;class V{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$S(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fo||(fo=new V(new Rt(Tg),null,Kn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fo}updatePriority(t){return this.children_.isEmpty()?this:new V(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?fo:n}}getChild(t){const n=te(t);return n===null?this:this.getImmediateChild(n).getChild(_e(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(A(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new re(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?fo:this.priorityNode_;return new V(i,o,s)}}updateChild(t,n){const r=te(t);if(r===null)return n;{A(te(t)!==".priority"||Br(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Pe,(o,l)=>{n[o]=l.val(t),r++,s&&V.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+LS(this.getPriority().val())+":"),this.forEachChild(Pe,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":dS(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new re(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new re(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new re(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ha?-1:0}withIndex(t){if(t===br||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===br||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Pe),i=n.getIterator(Pe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===br?null:this.indexMap_.get(t.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dM extends V{constructor(){super(new Rt(Tg),V.EMPTY_NODE,Kn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return V.EMPTY_NODE}isEmpty(){return!1}}const ha=new dM;Object.defineProperties(re,{MIN:{value:new re(Si,V.EMPTY_NODE)},MAX:{value:new re(zr,ha)}});MS.__EMPTY_NODE=V.EMPTY_NODE;We.__childrenNodeConstructor=V;oM(ha);aM(ha);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=!0;function Ge(e,t=null){if(e===null)return V.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),A(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new We(n,Ge(t))}if(!(e instanceof Array)&&fM){const n=[];let r=!1;if(rt(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=Ge(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new re(o,a)))}}),n.length===0)return V.EMPTY_NODE;const s=rc(n,sM,o=>o.name,Tg);if(r){const o=rc(n,Pe.getCompare());return new V(s,Ge(t),new Kn({".priority":o},{".priority":Pe}))}else return new V(s,Ge(t),Kn.Default)}else{let n=V.EMPTY_NODE;return rt(e,(r,i)=>{if(Ln(e,r)&&r.substring(0,1)!=="."){const s=Ge(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ge(t))}}lM(Ge);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends rh{constructor(t){super(),this.indexPath_=t,A(!ne(t)&&te(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Oi(t.name,n.name):s}makePost(t,n){const r=Ge(t),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new re(n,i)}maxPost(){const t=V.EMPTY_NODE.updateChild(this.indexPath_,ha);return new re(zr,t)}toString(){return Tl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM extends rh{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Oi(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(t,n){const r=Ge(t);return new re(n,r)}toString(){return".value"}}const jS=new pM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(e){return{type:"value",snapshotNode:e}}function ks(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function kl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Rl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function mM(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){A(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(kl(n,l)):A(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ks(n,r)):o.trackChildChange(Rl(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Pe,(i,s)=>{n.hasChild(i)||r.trackChildChange(kl(i,s))}),n.isLeafNode()||n.forEachChild(Pe,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(Rl(i,s,o))}else r.trackChildChange(ks(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?V.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t){this.indexedFilter_=new Rg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Nl.getStartPost_(t),this.endPost_=Nl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new re(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);const s=this;return n.forEachChild(Pe,(o,l)=>{s.matches(new re(o,l))||(i=i.updateImmediateChild(o,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Nl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new re(n,r))||(r=V.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,y)=>h(y,d)}else o=this.index_.getCompare();const l=t;A(l.numChildren()===this.limit_,"");const a=new re(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const h=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const y=d==null?1:o(d,a);if(c&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(Rl(n,r,h)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(kl(n,h));const _=l.updateImmediateChild(n,V.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(ks(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}}else return r.isEmpty()?t:c&&o(u,a)>=0?(s!=null&&(s.trackChildChange(kl(u.name,u.node)),s.trackChildChange(ks(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,V.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Si}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const t=new Ng;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function vM(e){return e.loadsAllData()?new Rg(e.getIndex()):e.hasLimit()?new gM(e):new Nl(e)}function yM(e,t,n){const r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function _M(e,t,n){const r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function BS(e,t){const n=e.copy();return n.index_=t,n}function J_(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Pe?n="$priority":e.index_===jS?n="$value":e.index_===br?n="$key":(A(e.index_ instanceof kg,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=qe(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=qe(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+qe(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=qe(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+qe(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Z_(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Pe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends xS{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ca("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(A(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=ic.getListenId_(t,r),l={};this.listens_[o]=l;const a=J_(t._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Is(this.listens_,o)===l){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(t,n){const r=ic.getListenId_(t,n);delete this.listens_[r]}get(t){const n=J_(t._queryParams),r=t._path.toString(),i=new ql;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ls(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=fl(l.responseText)}catch{_t("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&_t("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(){return{value:null,children:new Map}}function WS(e,t,n){if(ne(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=te(t);e.children.has(r)||e.children.set(r,sc());const i=e.children.get(r);t=_e(t),WS(i,t,n)}}function lp(e,t,n){e.value!==null?n(t,e.value):EM(e,(r,i)=>{const s=new pe(t.toString()+"/"+r);lp(i,s,n)})}function EM(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&rt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=10*1e3,SM=30*1e3,IM=5*60*1e3;class TM{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new CM(t);const r=e0+(SM-e0)*Math.random();jo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;rt(t,(i,s)=>{s>0&&Ln(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),jo(this.reportStats_.bind(this),Math.floor(Math.random()*2*IM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(dn||(dn={}));function Pg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ag(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xg(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=dn.ACK_USER_WRITE,this.source=Pg()}operationForChild(t){if(ne(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pe(t));return new oc(de(),n,this.revert)}}else return A(te(this.path)===t,"operationForChild called for unrelated child."),new oc(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,n){this.source=t,this.path=n,this.type=dn.LISTEN_COMPLETE}operationForChild(t){return ne(this.path)?new Pl(this.source,de()):new Pl(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=dn.OVERWRITE}operationForChild(t){return ne(this.path)?new Ii(this.source,de(),this.snap.getImmediateChild(t)):new Ii(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=dn.MERGE}operationForChild(t){if(ne(this.path)){const n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new Ii(this.source,de(),n.value):new Rs(this.source,de(),n)}else return A(te(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Rs(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ne(t))return this.isFullyInitialized()&&!this.filtered_;const n=te(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function RM(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(mM(o.childName,o.snapshotNode))}),po(e,i,"child_removed",t,r,n),po(e,i,"child_added",t,r,n),po(e,i,"child_moved",s,r,n),po(e,i,"child_changed",t,r,n),po(e,i,"value",t,r,n),i}function po(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>PM(e,l,a)),o.forEach(l=>{const a=NM(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function NM(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function PM(e,t,n){if(t.childName==null||n.childName==null)throw Ms("Should only compare child_ events.");const r=new re(t.childName,t.snapshotNode),i=new re(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(e,t){return{eventCache:e,serverCache:t}}function zo(e,t,n,r){return ih(new Ti(t,n,r),e.serverCache)}function VS(e,t,n,r){return ih(e.eventCache,new Ti(t,n,r))}function ap(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ki(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd;const AM=()=>(Rd||(Rd=new Rt(pb)),Rd);class ye{constructor(t,n=AM()){this.value=t,this.children=n}static fromObject(t){let n=new ye(null);return rt(t,(r,i)=>{n=n.set(new pe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:de(),value:this.value};if(ne(t))return null;{const r=te(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(_e(t),n);return s!=null?{path:De(new pe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ne(t))return this;{const n=te(t),r=this.children.get(n);return r!==null?r.subtree(_e(t)):new ye(null)}}set(t,n){if(ne(t))return new ye(n,this.children);{const r=te(t),s=(this.children.get(r)||new ye(null)).set(_e(t),n),o=this.children.insert(r,s);return new ye(this.value,o)}}remove(t){if(ne(t))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=te(t),r=this.children.get(n);if(r){const i=r.remove(_e(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ye(null):new ye(this.value,s)}else return this}}get(t){if(ne(t))return this.value;{const n=te(t),r=this.children.get(n);return r?r.get(_e(t)):null}}setTree(t,n){if(ne(t))return n;{const r=te(t),s=(this.children.get(r)||new ye(null)).setTree(_e(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ye(this.value,o)}}fold(t){return this.fold_(de(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(De(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,de(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ne(t))return null;{const s=te(t),o=this.children.get(s);return o?o.findOnPath_(_e(t),De(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,de(),n)}foreachOnPath_(t,n,r){if(ne(t))return this;{this.value&&r(n,this.value);const i=te(t),s=this.children.get(i);return s?s.foreachOnPath_(_e(t),De(n,i),r):new ye(null)}}foreach(t){this.foreach_(de(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(De(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.writeTree_=t}static empty(){return new gn(new ye(null))}}function Bo(e,t,n){if(ne(t))return new gn(new ye(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=kt(i,t);return s=s.updateChild(o,n),new gn(e.writeTree_.set(i,s))}else{const i=new ye(n),s=e.writeTree_.setTree(t,i);return new gn(s)}}}function up(e,t,n){let r=e;return rt(n,(i,s)=>{r=Bo(r,De(t,i),s)}),r}function t0(e,t){if(ne(t))return gn.empty();{const n=e.writeTree_.setTree(t,new ye(null));return new gn(n)}}function cp(e,t){return Di(e,t)!=null}function Di(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(kt(n.path,t)):null}function n0(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Pe,(r,i)=>{t.push(new re(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new re(r,i.value))}),t}function Mr(e,t){if(ne(t))return e;{const n=Di(e,t);return n!=null?new gn(new ye(n)):new gn(e.writeTree_.subtree(t))}}function hp(e){return e.writeTree_.isEmpty()}function Ns(e,t){return HS(de(),e.writeTree_,t)}function HS(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(A(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=HS(De(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(De(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(e,t){return QS(t,e)}function xM(e,t,n,r,i){A(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Bo(e.visibleWrites,t,n)),e.lastWriteId=r}function OM(e,t,n,r){A(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=up(e.visibleWrites,t,n),e.lastWriteId=r}function DM(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function bM(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);A(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&MM(l,r.path)?i=!1:Kt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return LM(e),!0;if(r.snap)e.visibleWrites=t0(e.visibleWrites,r.path);else{const l=r.children;rt(l,a=>{e.visibleWrites=t0(e.visibleWrites,De(r.path,a))})}return!0}else return!1}function MM(e,t){if(e.snap)return Kt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Kt(De(e.path,n),t))return!0;return!1}function LM(e){e.visibleWrites=GS(e.allWrites,$M,de()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function $M(e){return e.visible}function GS(e,t,n){let r=gn.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)Kt(n,o)?(l=kt(n,o),r=Bo(r,l,s.snap)):Kt(o,n)&&(l=kt(o,n),r=Bo(r,de(),s.snap.getChild(l)));else if(s.children){if(Kt(n,o))l=kt(n,o),r=up(r,l,s.children);else if(Kt(o,n))if(l=kt(o,n),ne(l))r=up(r,de(),s.children);else{const a=Is(s.children,te(l));if(a){const u=a.getChild(_e(l));r=Bo(r,de(),u)}}}else throw Ms("WriteRecord should have .snap or .children")}}return r}function qS(e,t,n,r,i){if(!r&&!i){const s=Di(e.visibleWrites,t);if(s!=null)return s;{const o=Mr(e.visibleWrites,t);if(hp(o))return n;if(n==null&&!cp(o,de()))return null;{const l=n||V.EMPTY_NODE;return Ns(o,l)}}}else{const s=Mr(e.visibleWrites,t);if(!i&&hp(s))return n;if(!i&&n==null&&!cp(s,de()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Kt(u.path,t)||Kt(t,u.path))},l=GS(e.allWrites,o,t),a=n||V.EMPTY_NODE;return Ns(l,a)}}}function FM(e,t,n){let r=V.EMPTY_NODE;const i=Di(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Pe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Mr(e.visibleWrites,t);return n.forEachChild(Pe,(o,l)=>{const a=Ns(Mr(s,new pe(o)),l);r=r.updateImmediateChild(o,a)}),n0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Mr(e.visibleWrites,t);return n0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function UM(e,t,n,r,i){A(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=De(t,n);if(cp(e.visibleWrites,s))return null;{const o=Mr(e.visibleWrites,s);return hp(o)?i.getChild(n):Ns(o,i.getChild(n))}}function jM(e,t,n,r){const i=De(t,n),s=Di(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Mr(e.visibleWrites,i);return Ns(o,r.getNode().getImmediateChild(n))}else return null}function zM(e,t){return Di(e.visibleWrites,t)}function BM(e,t,n,r,i,s,o){let l;const a=Mr(e.visibleWrites,t),u=Di(a,de());if(u!=null)l=u;else if(n!=null)l=Ns(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],h=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let y=d.getNext();for(;y&&c.length<i;)h(y,r)!==0&&c.push(y),y=d.getNext();return c}else return[]}function WM(){return{visibleWrites:gn.empty(),allWrites:[],lastWriteId:-1}}function lc(e,t,n,r){return qS(e.writeTree,e.treePath,t,n,r)}function Dg(e,t){return FM(e.writeTree,e.treePath,t)}function r0(e,t,n,r){return UM(e.writeTree,e.treePath,t,n,r)}function ac(e,t){return zM(e.writeTree,De(e.treePath,t))}function VM(e,t,n,r,i,s){return BM(e.writeTree,e.treePath,t,n,r,i,s)}function bg(e,t,n){return jM(e.writeTree,e.treePath,t,n)}function KS(e,t){return QS(De(e.treePath,t),e.writeTree)}function QS(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;A(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),A(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Rl(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,kl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ks(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Rl(r,t.snapshotNode,i.oldSnap));else throw Ms("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const YS=new GM;class Mg{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Ti(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bg(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ki(this.viewCache_),s=VM(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(e){return{filter:e}}function KM(e,t){A(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),A(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function QM(e,t,n,r,i){const s=new HM;let o,l;if(n.type===dn.OVERWRITE){const u=n;u.source.fromUser?o=dp(e,t,u.path,u.snap,r,i,s):(A(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!ne(u.path),o=uc(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===dn.MERGE){const u=n;u.source.fromUser?o=XM(e,t,u.path,u.children,r,i,s):(A(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=fp(e,t,u.path,u.children,r,i,l,s))}else if(n.type===dn.ACK_USER_WRITE){const u=n;u.revert?o=eL(e,t,u.path,r,i,s):o=JM(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===dn.LISTEN_COMPLETE)o=ZM(e,t,n.path,r,s);else throw Ms("Unknown operation type: "+n.type);const a=s.getChanges();return YM(t,o,a),{viewCache:o,changes:a}}function YM(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ap(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(zS(ap(t)))}}function XS(e,t,n,r,i,s){const o=t.eventCache;if(ac(r,n)!=null)return t;{let l,a;if(ne(n))if(A(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=ki(t),c=u instanceof V?u:V.EMPTY_NODE,h=Dg(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),h,s)}else{const u=lc(r,ki(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=te(n);if(u===".priority"){A(Br(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=t.serverCache.getNode();const h=r0(r,n,c,a);h!=null?l=e.filter.updatePriority(c,h):l=o.getNode()}else{const c=_e(n);let h;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const d=r0(r,n,o.getNode(),a);d!=null?h=o.getNode().getImmediateChild(u).updateChild(c,d):h=o.getNode().getImmediateChild(u)}else h=bg(r,u,t.serverCache);h!=null?l=e.filter.updateChild(o.getNode(),u,h,c,i,s):l=o.getNode()}}return zo(t,l,o.isFullyInitialized()||ne(n),e.filter.filtersNodes())}}function uc(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(ne(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const y=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),y,null)}else{const y=te(n);if(!a.isCompleteForPath(n)&&Br(n)>1)return t;const v=_e(n),m=a.getNode().getImmediateChild(y).updateChild(v,r);y===".priority"?u=c.updatePriority(a.getNode(),m):u=c.updateChild(a.getNode(),y,m,v,YS,null)}const h=VS(t,u,a.isFullyInitialized()||ne(n),c.filtersNodes()),d=new Mg(i,h,s);return XS(e,h,n,i,d,l)}function dp(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const c=new Mg(i,t,s);if(ne(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=zo(t,u,!0,e.filter.filtersNodes());else{const h=te(n);if(h===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=zo(t,u,l.isFullyInitialized(),l.isFiltered());else{const d=_e(n),y=l.getNode().getImmediateChild(h);let v;if(ne(d))v=r;else{const _=c.getCompleteChild(h);_!=null?Cg(d)===".priority"&&_.getChild(DS(d)).isEmpty()?v=_:v=_.updateChild(d,r):v=V.EMPTY_NODE}if(y.equals(v))a=t;else{const _=e.filter.updateChild(l.getNode(),h,v,d,c,o);a=zo(t,_,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function i0(e,t){return e.eventCache.isCompleteForChild(t)}function XM(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const c=De(n,a);i0(t,te(c))&&(l=dp(e,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=De(n,a);i0(t,te(c))||(l=dp(e,l,c,u,i,s,o))}),l}function s0(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function fp(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;ne(n)?u=r:u=new ye(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((h,d)=>{if(c.hasChild(h)){const y=t.serverCache.getNode().getImmediateChild(h),v=s0(e,y,d);a=uc(e,a,new pe(h),v,i,s,o,l)}}),u.children.inorderTraversal((h,d)=>{const y=!t.serverCache.isCompleteForChild(h)&&d.value===null;if(!c.hasChild(h)&&!y){const v=t.serverCache.getNode().getImmediateChild(h),_=s0(e,v,d);a=uc(e,a,new pe(h),_,i,s,o,l)}}),a}function JM(e,t,n,r,i,s,o){if(ac(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(ne(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return uc(e,t,n,a.getNode().getChild(n),i,s,l,o);if(ne(n)){let u=new ye(null);return a.getNode().forEachChild(br,(c,h)=>{u=u.set(new pe(c),h)}),fp(e,t,n,u,i,s,l,o)}else return t}else{let u=new ye(null);return r.foreach((c,h)=>{const d=De(n,c);a.isCompleteForPath(d)&&(u=u.set(c,a.getNode().getChild(d)))}),fp(e,t,n,u,i,s,l,o)}}function ZM(e,t,n,r,i){const s=t.serverCache,o=VS(t,s.getNode(),s.isFullyInitialized()||ne(n),s.isFiltered());return XS(e,o,n,r,YS,i)}function eL(e,t,n,r,i,s){let o;if(ac(r,n)!=null)return t;{const l=new Mg(r,t,i),a=t.eventCache.getNode();let u;if(ne(n)||te(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=lc(r,ki(t));else{const h=t.serverCache.getNode();A(h instanceof V,"serverChildren would be complete if leaf node"),c=Dg(r,h)}c=c,u=e.filter.updateFullNode(a,c,s)}else{const c=te(n);let h=bg(r,c,t.serverCache);h==null&&t.serverCache.isCompleteForChild(c)&&(h=a.getImmediateChild(c)),h!=null?u=e.filter.updateChild(a,c,h,_e(n),l,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,V.EMPTY_NODE,_e(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=lc(r,ki(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||ac(r,de())!=null,zo(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Rg(r.getIndex()),s=vM(r);this.processor_=qM(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(V.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(V.EMPTY_NODE,l.getNode(),null),c=new Ti(a,o.isFullyInitialized(),i.filtersNodes()),h=new Ti(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=ih(h,c),this.eventGenerator_=new kM(this.query_)}get query(){return this.query_}}function nL(e){return e.viewCache_.serverCache.getNode()}function rL(e,t){const n=ki(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ne(t)&&!n.getImmediateChild(te(t)).isEmpty())?n.getChild(t):null}function o0(e){return e.eventRegistrations_.length===0}function iL(e,t){e.eventRegistrations_.push(t)}function l0(e,t,n){const r=[];if(n){A(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function a0(e,t,n,r){t.type===dn.MERGE&&t.source.queryId!==null&&(A(ki(e.viewCache_),"We should always have a full cache before handling merges"),A(ap(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=QM(e.processor_,i,t,n,r);return KM(e.processor_,s.viewCache),A(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,JS(e,s.changes,s.viewCache.eventCache.getNode(),null)}function sL(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pe,(s,o)=>{r.push(ks(s,o))}),n.isFullyInitialized()&&r.push(zS(n.getNode())),JS(e,r,n.getNode(),t)}function JS(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return RM(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc;class oL{constructor(){this.views=new Map}}function lL(e){A(!cc,"__referenceConstructor has already been defined"),cc=e}function aL(){return A(cc,"Reference.ts has not been loaded"),cc}function uL(e){return e.views.size===0}function Lg(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return A(s!=null,"SyncTree gave us an op for an invalid query."),a0(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(a0(o,t,n,r));return s}}function cL(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=lc(n,i?r:null),a=!1;l?a=!0:r instanceof V?(l=Dg(n,r),a=!1):(l=V.EMPTY_NODE,a=!1);const u=ih(new Ti(l,a,!1),new Ti(r,i,!1));return new tL(t,u)}return o}function hL(e,t,n,r,i,s){const o=cL(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),iL(o,n),sL(o,n)}function dL(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=Wr(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(l0(u,n,r)),o0(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(l0(a,n,r)),o0(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Wr(e)&&s.push(new(aL())(t._repo,t._path)),{removed:s,events:o}}function ZS(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ps(e,t){let n=null;for(const r of e.views.values())n=n||rL(r,t);return n}function eI(e,t){if(t._queryParams.loadsAllData())return sh(e);{const r=t._queryIdentifier;return e.views.get(r)}}function tI(e,t){return eI(e,t)!=null}function Wr(e){return sh(e)!=null}function sh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;function fL(e){A(!hc,"__referenceConstructor has already been defined"),hc=e}function pL(){return A(hc,"Reference.ts has not been loaded"),hc}let mL=1;class u0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ye(null),this.pendingWriteTree_=WM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nI(e,t,n,r,i){return xM(e.pendingWriteTree_,t,n,r,i),i?Hs(e,new Ii(Pg(),t,n)):[]}function gL(e,t,n,r){OM(e.pendingWriteTree_,t,n,r);const i=ye.fromObject(n);return Hs(e,new Rs(Pg(),t,i))}function wr(e,t,n=!1){const r=DM(e.pendingWriteTree_,t);if(bM(e.pendingWriteTree_,t)){let s=new ye(null);return r.snap!=null?s=s.set(de(),!0):rt(r.children,o=>{s=s.set(new pe(o),!0)}),Hs(e,new oc(r.path,s,n))}else return[]}function oh(e,t,n){return Hs(e,new Ii(Ag(),t,n))}function vL(e,t,n){const r=ye.fromObject(n);return Hs(e,new Rs(Ag(),t,r))}function yL(e,t){return Hs(e,new Pl(Ag(),t))}function _L(e,t,n){const r=Fg(e,n);if(r){const i=Ug(r),s=i.path,o=i.queryId,l=kt(s,t),a=new Pl(xg(o),l);return jg(e,s,a)}else return[]}function pp(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||tI(o,t))){const a=dL(o,t,n,r);uL(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=e.syncPointTree_.findOnPath(s,(d,y)=>Wr(y));if(c&&!h){const d=e.syncPointTree_.subtree(s);if(!d.isEmpty()){const y=CL(d);for(let v=0;v<y.length;++v){const _=y[v],m=_.query,p=sI(e,_);e.listenProvider_.startListening(Wo(m),dc(e,m),p.hashFn,p.onComplete)}}}!h&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(Wo(t),null):u.forEach(d=>{const y=e.queryToTagMap.get(lh(d));e.listenProvider_.stopListening(Wo(d),y)}))}SL(e,u)}return l}function wL(e,t,n,r){const i=Fg(e,r);if(i!=null){const s=Ug(i),o=s.path,l=s.queryId,a=kt(o,t),u=new Ii(xg(l),a,n);return jg(e,o,u)}else return[]}function EL(e,t,n,r){const i=Fg(e,r);if(i){const s=Ug(i),o=s.path,l=s.queryId,a=kt(o,t),u=ye.fromObject(n),c=new Rs(xg(l),a,u);return jg(e,o,c)}else return[]}function c0(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(d,y)=>{const v=kt(d,i);s=s||ps(y,v),o=o||Wr(y)});let l=e.syncPointTree_.get(i);l?(o=o||Wr(l),s=s||ps(l,de())):(l=new oL,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=V.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((y,v)=>{const _=ps(v,de());_&&(s=s.updateImmediateChild(y,_))}));const u=tI(l,t);if(!u&&!t._queryParams.loadsAllData()){const d=lh(t);A(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");const y=IL();e.queryToTagMap.set(d,y),e.tagToQueryMap.set(y,d)}const c=Og(e.pendingWriteTree_,i);let h=hL(l,t,n,c,s,a);if(!u&&!o&&!r){const d=eI(l,t);h=h.concat(TL(e,t,d))}return h}function $g(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=kt(o,t),u=ps(l,a);if(u)return u});return qS(i,t,s,n,!0)}function Hs(e,t){return rI(t,e.syncPointTree_,null,Og(e.pendingWriteTree_,de()))}function rI(e,t,n,r){if(ne(e.path))return iI(e,t,n,r);{const i=t.get(de());n==null&&i!=null&&(n=ps(i,de()));let s=[];const o=te(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=KS(r,o);s=s.concat(rI(l,a,u,c))}return i&&(s=s.concat(Lg(i,e,r,n))),s}}function iI(e,t,n,r){const i=t.get(de());n==null&&i!=null&&(n=ps(i,de()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=KS(r,o),c=e.operationForChild(o);c&&(s=s.concat(iI(c,l,a,u)))}),i&&(s=s.concat(Lg(i,e,r,n))),s}function sI(e,t){const n=t.query,r=dc(e,n);return{hashFn:()=>(nL(t)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?_L(e,n._path,r):yL(e,n._path);{const s=vb(i,n);return pp(e,n,null,s)}}}}function dc(e,t){const n=lh(t);return e.queryToTagMap.get(n)}function lh(e){return e._path.toString()+"$"+e._queryIdentifier}function Fg(e,t){return e.tagToQueryMap.get(t)}function Ug(e){const t=e.indexOf("$");return A(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function jg(e,t,n){const r=e.syncPointTree_.get(t);A(r,"Missing sync point for query tag that we're tracking");const i=Og(e.pendingWriteTree_,t);return Lg(r,n,i,null)}function CL(e){return e.fold((t,n,r)=>{if(n&&Wr(n))return[sh(n)];{let i=[];return n&&(i=ZS(n)),rt(r,(s,o)=>{i=i.concat(o)}),i}})}function Wo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(pL())(e._repo,e._path):e}function SL(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=lh(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function IL(){return mL++}function TL(e,t,n){const r=t._path,i=dc(e,t),s=sI(e,n),o=e.listenProvider_.startListening(Wo(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)A(!Wr(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,h)=>{if(!ne(u)&&c&&Wr(c))return[sh(c).query];{let d=[];return c&&(d=d.concat(ZS(c).map(y=>y.query))),rt(h,(y,v)=>{d=d.concat(v)}),d}});for(let u=0;u<a.length;++u){const c=a[u];e.listenProvider_.stopListening(Wo(c),dc(e,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new zg(n)}node(){return this.node_}}class Bg{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=De(this.path_,t);return new Bg(this.syncTree_,n)}node(){return $g(this.syncTree_,this.path_)}}const kL=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},h0=function(e,t,n){if(!e||typeof e!="object")return e;if(A(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return RL(e[".sv"],t,n);if(typeof e[".sv"]=="object")return NL(e[".sv"],t);A(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},RL=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:A(!1,"Unexpected server value: "+e)}},NL=function(e,t,n){e.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&A(!1,"Unexpected increment value: "+r);const i=t.node();if(A(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},oI=function(e,t,n,r){return Wg(t,new Bg(n,e),r)},lI=function(e,t,n){return Wg(e,new zg(t),n)};function Wg(e,t,n){const r=e.getPriority().val(),i=h0(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=h0(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new We(l,Ge(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new We(i))),o.forEachChild(Pe,(l,a)=>{const u=Wg(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Hg(e,t){let n=t instanceof pe?t:new pe(t),r=e,i=te(n);for(;i!==null;){const s=Is(r.node.children,i)||{children:{},childCount:0};r=new Vg(i,r,s),n=_e(n),i=te(n)}return r}function Gs(e){return e.node.value}function aI(e,t){e.node.value=t,mp(e)}function uI(e){return e.node.childCount>0}function PL(e){return Gs(e)===void 0&&!uI(e)}function ah(e,t){rt(e.node.children,(n,r)=>{t(new Vg(n,e,r))})}function cI(e,t,n,r){n&&!r&&t(e),ah(e,i=>{cI(i,t,!0,r)}),n&&r&&t(e)}function AL(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function da(e){return new pe(e.parent===null?e.name:da(e.parent)+"/"+e.name)}function mp(e){e.parent!==null&&xL(e.parent,e.name,e)}function xL(e,t,n){const r=PL(n),i=Ln(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,mp(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,mp(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=/[\[\].#$\/\u0000-\u001F\u007F]/,DL=/[\[\].#$\u0000-\u001F\u007F]/,Nd=10*1024*1024,uh=function(e){return typeof e=="string"&&e.length!==0&&!OL.test(e)},hI=function(e){return typeof e=="string"&&e.length!==0&&!DL.test(e)},bL=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),hI(e)},gp=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!vg(e)||e&&typeof e=="object"&&Ln(e,".sv")},fa=function(e,t,n,r){r&&t===void 0||ch(Ql(e,"value"),t,n)},ch=function(e,t,n){const r=n instanceof pe?new Xb(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Zr(r));if(typeof t=="function")throw new Error(e+"contains a function "+Zr(r)+" with contents = "+t.toString());if(vg(t))throw new Error(e+"contains "+t.toString()+" "+Zr(r));if(typeof t=="string"&&t.length>Nd/3&&$c(t)>Nd)throw new Error(e+"contains a string greater than "+Nd+" utf8 bytes "+Zr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(rt(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!uh(o)))throw new Error(e+" contains an invalid key ("+o+") "+Zr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Jb(r,o),ch(e,l,r),Zb(r)}),i&&s)throw new Error(e+' contains ".value" child '+Zr(r)+" in addition to actual children.")}},ML=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=Tl(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!uh(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Yb);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Kt(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},LL=function(e,t,n,r){if(r&&t===void 0)return;const i=Ql(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];rt(t,(o,l)=>{const a=new pe(o);if(ch(i,l,De(n,a)),Cg(a)===".priority"&&!gp(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),ML(i,s)},$L=function(e,t,n,r){if(!(r&&n===void 0)&&!uh(n))throw new Error(Ql(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Gg=function(e,t,n,r){if(!(r&&n===void 0)&&!hI(n))throw new Error(Ql(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},FL=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gg(e,t,n,r)},qg=function(e,t){if(te(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},UL=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!uh(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!bL(n))throw new Error(Ql(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hh(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!Sg(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function dI(e,t,n){hh(e,n),fI(e,r=>Sg(r,t))}function _n(e,t,n){hh(e,n),fI(e,r=>Kt(r,t)||Kt(t,r))}function fI(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(zL(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function zL(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();di&&Ze("event: "+n.toString()),Vs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="repo_interrupt",WL=25;class VL{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sc(),this.transactionQueueTree_=new Vg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function HL(e,t,n){if(e.stats_=wg(e.repoInfo_),e.forceRestClient_||Eb())e.server_=new ic(e.repoInfo_,(r,i,s,o)=>{d0(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>f0(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Yn(e.repoInfo_,t,(r,i,s,o)=>{d0(e,r,i,s,o)},r=>{f0(e,r)},r=>{GL(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=kb(e.repoInfo_,()=>new TM(e.stats_,e.server_)),e.infoData_=new wM,e.infoSyncTree_=new u0({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=oh(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Kg(e,"connected",!1),e.serverSyncTree_=new u0({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);_n(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function pI(e){const n=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function dh(e){return kL({timestamp:pI(e)})}function d0(e,t,n,r,i){e.dataUpdateCount++;const s=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=zu(n,u=>Ge(u));o=EL(e.serverSyncTree_,s,a,i)}else{const a=Ge(n);o=wL(e.serverSyncTree_,s,a,i)}else if(r){const a=zu(n,u=>Ge(u));o=vL(e.serverSyncTree_,s,a)}else{const a=Ge(n);o=oh(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Ps(e,s)),_n(e.eventQueue_,l,o)}function f0(e,t){Kg(e,"connected",t),t===!1&&QL(e)}function GL(e,t){rt(t,(n,r)=>{Kg(e,n,r)})}function Kg(e,t,n){const r=new pe("/.info/"+t),i=Ge(n);e.infoData_.updateSnapshot(r,i);const s=oh(e.infoSyncTree_,r,i);_n(e.eventQueue_,r,s)}function Qg(e){return e.nextWriteId_++}function qL(e,t,n,r,i){fh(e,"set",{path:t.toString(),value:n,priority:r});const s=dh(e),o=Ge(n,r),l=$g(e.serverSyncTree_,t),a=lI(o,l,s),u=Qg(e),c=nI(e.serverSyncTree_,t,a,u,!0);hh(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(d,y)=>{const v=d==="ok";v||_t("set at "+t+" failed: "+d);const _=wr(e.serverSyncTree_,u,!v);_n(e.eventQueue_,t,_),vp(e,i,d,y)});const h=Xg(e,t);Ps(e,h),_n(e.eventQueue_,h,[])}function KL(e,t,n,r){fh(e,"update",{path:t.toString(),value:n});let i=!0;const s=dh(e),o={};if(rt(n,(l,a)=>{i=!1,o[l]=oI(De(t,l),Ge(a),e.serverSyncTree_,s)}),i)Ze("update() called with empty data.  Don't do anything."),vp(e,r,"ok",void 0);else{const l=Qg(e),a=gL(e.serverSyncTree_,t,o,l);hh(e.eventQueue_,a),e.server_.merge(t.toString(),n,(u,c)=>{const h=u==="ok";h||_t("update at "+t+" failed: "+u);const d=wr(e.serverSyncTree_,l,!h),y=d.length>0?Ps(e,t):t;_n(e.eventQueue_,y,d),vp(e,r,u,c)}),rt(n,u=>{const c=Xg(e,De(t,u));Ps(e,c)}),_n(e.eventQueue_,t,[])}}function QL(e){fh(e,"onDisconnectEvents");const t=dh(e),n=sc();lp(e.onDisconnect_,de(),(i,s)=>{const o=oI(i,s,e.serverSyncTree_,t);WS(n,i,o)});let r=[];lp(n,de(),(i,s)=>{r=r.concat(oh(e.serverSyncTree_,i,s));const o=Xg(e,i);Ps(e,o)}),e.onDisconnect_=sc(),_n(e.eventQueue_,de(),r)}function YL(e,t,n){let r;te(t._path)===".info"?r=c0(e.infoSyncTree_,t,n):r=c0(e.serverSyncTree_,t,n),dI(e.eventQueue_,t._path,r)}function p0(e,t,n){let r;te(t._path)===".info"?r=pp(e.infoSyncTree_,t,n):r=pp(e.serverSyncTree_,t,n),dI(e.eventQueue_,t._path,r)}function XL(e){e.persistentConnection_&&e.persistentConnection_.interrupt(BL)}function fh(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ze(n,...t)}function vp(e,t,n,r){t&&Vs(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function mI(e,t,n){return $g(e.serverSyncTree_,t,n)||V.EMPTY_NODE}function Yg(e,t=e.transactionQueueTree_){if(t||ph(e,t),Gs(t)){const n=vI(e,t);A(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&JL(e,da(t),n)}else uI(t)&&ah(t,n=>{Yg(e,n)})}function JL(e,t,n){const r=n.map(u=>u.currentWriteId),i=mI(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];A(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=kt(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{fh(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(wr(e.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();ph(e,Hg(e.transactionQueueTree_,t)),Yg(e,e.transactionQueueTree_),_n(e.eventQueue_,t,c);for(let d=0;d<h.length;d++)Vs(h[d])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{_t("transaction at "+a.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Ps(e,t)}},o)}function Ps(e,t){const n=gI(e,t),r=da(n),i=vI(e,n);return ZL(e,i,r),r}function ZL(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=kt(n,a.path);let c=!1,h;if(A(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,h=a.abortReason,i=i.concat(wr(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=WL)c=!0,h="maxretry",i=i.concat(wr(e.serverSyncTree_,a.currentWriteId,!0));else{const d=mI(e,a.path,o);a.currentInputSnapshot=d;const y=t[l].update(d.val());if(y!==void 0){ch("transaction failed: Data returned ",y,a.path);let v=Ge(y);typeof y=="object"&&y!=null&&Ln(y,".priority")||(v=v.updatePriority(d.getPriority()));const m=a.currentWriteId,p=dh(e),f=lI(v,d,p);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=f,a.currentWriteId=Qg(e),o.splice(o.indexOf(m),1),i=i.concat(nI(e.serverSyncTree_,a.path,f,a.currentWriteId,a.applyLocally)),i=i.concat(wr(e.serverSyncTree_,m,!0))}else c=!0,h="nodata",i=i.concat(wr(e.serverSyncTree_,a.currentWriteId,!0))}_n(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(d){setTimeout(d,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(h==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(h),!1,null))))}ph(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Vs(r[l]);Yg(e,e.transactionQueueTree_)}function gI(e,t){let n,r=e.transactionQueueTree_;for(n=te(t);n!==null&&Gs(r)===void 0;)r=Hg(r,n),t=_e(t),n=te(t);return r}function vI(e,t){const n=[];return yI(e,t,n),n.sort((r,i)=>r.order-i.order),n}function yI(e,t,n){const r=Gs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ah(t,i=>{yI(e,i,n)})}function ph(e,t){const n=Gs(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,aI(t,n.length>0?n:void 0)}ah(t,r=>{ph(e,r)})}function Xg(e,t){const n=da(gI(e,t)),r=Hg(e.transactionQueueTree_,t);return AL(r,i=>{Pd(e,i)}),Pd(e,r),cI(r,i=>{Pd(e,i)}),n}function Pd(e,t){const n=Gs(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(A(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(A(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(wr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?aI(t,void 0):n.length=s+1,_n(e.eventQueue_,da(t),i);for(let o=0;o<r.length;o++)Vs(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function t2(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_t(`Invalid query segment '${n}' in query '${e}'`)}return t}const m0=function(e,t){const n=n2(e),r=n.namespace;n.domain==="firebase.com"&&rr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&rr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||db();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new IS(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new pe(n.pathString)}},n2=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let h=e.indexOf("?");h===-1&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=e2(e.substring(c,h)));const d=t2(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const y=t.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",r2=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=g0.charAt(n%64),n=Math.floor(n/64);A(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=g0.charAt(t[i]);return A(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+qe(this.snapshot.exportVal())}}class wI{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ne(this._path)?null:Cg(this._path)}get ref(){return new or(this._repo,this._path)}get _queryIdentifier(){const t=Z_(this._queryParams),n=yg(t);return n==="{}"?"default":n}get _queryObject(){return Z_(this._queryParams)}isEqual(t){if(t=xt(t),!(t instanceof bi))return!1;const n=this._repo===t._repo,r=Sg(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Qb(this._path)}}function EI(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function mh(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===br){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Si)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==zr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Pe){if(t!=null&&!gp(t)||n!=null&&!gp(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(A(e.getIndex()instanceof kg||e.getIndex()===jS,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function CI(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class or extends bi{constructor(t,n){super(t,n,new Ng,!1)}get parent(){const t=DS(this._path);return t===null?null:new or(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Al{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new pe(t),r=As(this.ref,t);return new Al(this._node.getChild(n),r,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Al(i,As(this.ref,r),Pe)))}hasChild(t){const n=new pe(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Je(e,t){return e=xt(e),e._checkNotDeleted("ref"),t!==void 0?As(e._root,t):e._root}function As(e,t){return e=xt(e),te(e._path)===null?FL("child","path",t,!1):Gg("child","path",t,!1),new or(e._repo,De(e._path,t))}function s2(e,t){e=xt(e),qg("push",e._path),fa("push",t,e._path,!0);const n=pI(e._repo),r=r2(n),i=As(e,r),s=As(e,r);let o;return t!=null?o=Jg(s,t).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function o2(e){return qg("remove",e._path),Jg(e,null)}function Jg(e,t){e=xt(e),qg("set",e._path),fa("set",t,e._path,!1);const n=new ql;return qL(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function mo(e,t){LL("update",t,e._path,!1);const n=new ql;return KL(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class Zg{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new _I("value",this,new Al(t.snapshotNode,new or(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new wI(this,t,n):null}matches(t){return t instanceof Zg?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ev{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new wI(this,t,n):null}createEvent(t,n){A(t.childName!=null,"Child events should have a childName.");const r=As(new or(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new _I(t.type,this,new Al(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ev?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function l2(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(c,h)=>{p0(e._repo,e,l),a(c,h)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new i2(n,s||void 0),l=t==="value"?new Zg(o):new ev(t,o);return YL(e._repo,e,l),()=>p0(e._repo,e,l)}function Dt(e,t,n,r){return l2(e,"value",t,n,r)}class pa{}class a2 extends pa{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){fa("endAt",this._value,t._path,!0);const n=_M(t._queryParams,this._value,this._key);if(CI(n),mh(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bi(t._repo,t._path,n,t._orderByCalled)}}class u2 extends pa{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){fa("startAt",this._value,t._path,!0);const n=yM(t._queryParams,this._value,this._key);if(CI(n),mh(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new bi(t._repo,t._path,n,t._orderByCalled)}}class c2 extends pa{constructor(t){super(),this._path=t}_apply(t){EI(t,"orderByChild");const n=new pe(this._path);if(ne(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new kg(n),i=BS(t._queryParams,r);return mh(i),new bi(t._repo,t._path,i,!0)}}function yp(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Gg("orderByChild","path",e,!1),new c2(e)}class h2 extends pa{_apply(t){EI(t,"orderByKey");const n=BS(t._queryParams,br);return mh(n),new bi(t._repo,t._path,n,!0)}}function d2(){return new h2}class f2 extends pa{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){if(fa("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new a2(this._value,this._key)._apply(new u2(this._value,this._key)._apply(t))}}function uu(e,t){return $L("equalTo","key",t,!0),new f2(e,t)}function cu(e,...t){let n=xt(e);for(const r of t)n=r._apply(n);return n}lL(or);fL(or);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="FIREBASE_DATABASE_EMULATOR_HOST",_p={};let m2=!1;function g2(e,t,n,r){e.repoInfo_=new IS(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function v2(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||rr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=m0(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[p2]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=m0(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new fs(fs.OWNER):new Sb(e.name,e.options,t);UL("Invalid Firebase Database URL",o),ne(o.path)||rr("Database URL must point to the root of a Firebase Database (not including a child path).");const h=_2(l,e,c,new Cb(e.name,n));return new w2(h,e)}function y2(e,t){const n=_p[t];(!n||n[e.key]!==e)&&rr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),XL(e),delete n[e.key]}function _2(e,t,n,r){let i=_p[t.name];i||(i={},_p[t.name]=i);let s=i[e.toURLString()];return s&&rr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new VL(e,m2,n,r),i[e.toURLString()]=s,s}class w2{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(HL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new or(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(y2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&rr("Cannot call "+t+" on a deleted database.")}}function E2(e=bm(),t){const n=Uc(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=vE("database");r&&C2(n,...r)}return n}function C2(e,t,n,r={}){e=xt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&rr("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&rr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new fs(fs.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:_E(r.mockUserToken,e.app.options.projectId);s=new fs(o)}g2(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(e){lb(xi),Ei(new Ur("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return v2(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),xn(L_,$_,e),xn(L_,$_,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={".sv":"timestamp"};function SI(){return I2}Yn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Yn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};S2();const T2={apiKey:"AIzaSyCxkEpY6LJ9FbYzES_U1PwspMUvYpKXAhE",authDomain:"gamebox-49a20.firebaseapp.com",projectId:"gamebox-49a20",storageBucket:"gamebox-49a20.appspot.com",messagingSenderId:"642607547473",appId:"1:642607547473:web:489525b258e92f3837a470",databaseURL:"https://gamebox-49a20-default-rtdb.firebaseio.com/"},tv=TE(T2);eO(tv);const Be=E2(tv),xl=ob(tv),k2=()=>{xl.signOut().then(()=>{BO(xl).then(e=>{const t=e.user;t&&t.accessToken&&(window.localStorage.setItem("token",t.accessToken),console.log("Authenticated"))}).catch(e=>{e.code;const t=e.message;console.log(t)})})},R2=(e,t)=>{GO(xl,e,t).then(n=>{const r=n.user;r&&r.accessToken&&window.localStorage.setItem("token",r.accessToken)}).catch(n=>{n.code,n.message})};var nv=ga(),X=e=>ma(e,nv),rv=ga();X.write=e=>ma(e,rv);var gh=ga();X.onStart=e=>ma(e,gh);var iv=ga();X.onFrame=e=>ma(e,iv);var sv=ga();X.onFinish=e=>ma(e,sv);var ms=[];X.setTimeout=(e,t)=>{let n=X.now()+t,r=()=>{let s=ms.findIndex(o=>o.cancel==r);~s&&ms.splice(s,1),Cr-=~s?1:0},i={time:n,handler:e,cancel:r};return ms.splice(II(n),0,i),Cr+=1,TI(),i};var II=e=>~(~ms.findIndex(t=>t.time>e)||~ms.length);X.cancel=e=>{gh.delete(e),iv.delete(e),sv.delete(e),nv.delete(e),rv.delete(e)};X.sync=e=>{wp=!0,X.batchedUpdates(e),wp=!1};X.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,X.onStart(n)}return r.handler=e,r.cancel=()=>{gh.delete(n),t=null},r};var ov=typeof window<"u"?window.requestAnimationFrame:()=>{};X.use=e=>ov=e;X.now=typeof performance<"u"?()=>performance.now():Date.now;X.batchedUpdates=e=>e();X.catch=console.error;X.frameLoop="always";X.advance=()=>{X.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):RI()};var Er=-1,Cr=0,wp=!1;function ma(e,t){wp?(t.delete(e),e(0)):(t.add(e),TI())}function TI(){Er<0&&(Er=0,X.frameLoop!=="demand"&&ov(kI))}function N2(){Er=-1}function kI(){~Er&&(ov(kI),X.batchedUpdates(RI))}function RI(){let e=Er;Er=X.now();let t=II(Er);if(t&&(NI(ms.splice(0,t),n=>n.handler()),Cr-=t),!Cr){N2();return}gh.flush(),nv.flush(e?Math.min(64,Er-e):16.667),iv.flush(),rv.flush(),sv.flush()}function ga(){let e=new Set,t=e;return{add(n){Cr+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Cr-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Cr-=t.size,NI(t,r=>r(n)&&e.add(r)),Cr+=e.size,t=e)}}}function NI(e,t){e.forEach(n=>{try{t(n)}catch(r){X.catch(r)}})}var P2=Object.defineProperty,A2=(e,t)=>{for(var n in t)P2(e,n,{get:t[n],enumerable:!0})},wn={};A2(wn,{assign:()=>O2,colors:()=>Lr,createStringInterpolator:()=>av,skipAnimation:()=>AI,to:()=>PI,willAdvance:()=>uv});function Ep(){}var x2=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),O={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function zn(e,t){if(O.arr(e)){if(!O.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var se=(e,t)=>e.forEach(t);function bn(e,t,n){if(O.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(let r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Lt=e=>O.und(e)?[]:O.arr(e)?e:[e];function Vo(e,t){if(e.size){let n=Array.from(e);e.clear(),se(n,t)}}var Ro=(e,...t)=>Vo(e,n=>n(...t)),lv=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),av,PI,Lr=null,AI=!1,uv=Ep,O2=e=>{e.to&&(PI=e.to),e.now&&(X.now=e.now),e.colors!==void 0&&(Lr=e.colors),e.skipAnimation!=null&&(AI=e.skipAnimation),e.createStringInterpolator&&(av=e.createStringInterpolator),e.requestAnimationFrame&&X.use(e.requestAnimationFrame),e.batchedUpdates&&(X.batchedUpdates=e.batchedUpdates),e.willAdvance&&(uv=e.willAdvance),e.frameLoop&&(X.frameLoop=e.frameLoop)},Ho=new Set,Gt=[],Ad=[],fc=0,vh={get idle(){return!Ho.size&&!Gt.length},start(e){fc>e.priority?(Ho.add(e),X.onStart(D2)):(xI(e),X(Cp))},advance:Cp,sort(e){if(fc)X.onFrame(()=>vh.sort(e));else{let t=Gt.indexOf(e);~t&&(Gt.splice(t,1),OI(e))}},clear(){Gt=[],Ho.clear()}};function D2(){Ho.forEach(xI),Ho.clear(),X(Cp)}function xI(e){Gt.includes(e)||OI(e)}function OI(e){Gt.splice(b2(Gt,t=>t.priority>e.priority),0,e)}function Cp(e){let t=Ad;for(let n=0;n<Gt.length;n++){let r=Gt[n];fc=r.priority,r.idle||(uv(r),r.advance(e),r.idle||t.push(r))}return fc=0,Ad=Gt,Ad.length=0,Gt=t,Gt.length>0}function b2(e,t){let n=e.findIndex(t);return n<0?e.length:n}var M2=(e,t,n)=>Math.min(Math.max(n,e),t),L2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},fn="[-+]?\\d*\\.?\\d+",pc=fn+"%";function yh(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var $2=new RegExp("rgb"+yh(fn,fn,fn)),F2=new RegExp("rgba"+yh(fn,fn,fn,fn)),U2=new RegExp("hsl"+yh(fn,pc,pc)),j2=new RegExp("hsla"+yh(fn,pc,pc,fn)),z2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,B2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,W2=/^#([0-9a-fA-F]{6})$/,V2=/^#([0-9a-fA-F]{8})$/;function H2(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=W2.exec(e))?parseInt(t[1]+"ff",16)>>>0:Lr&&Lr[e]!==void 0?Lr[e]:(t=$2.exec(e))?(Fi(t[1])<<24|Fi(t[2])<<16|Fi(t[3])<<8|255)>>>0:(t=F2.exec(e))?(Fi(t[1])<<24|Fi(t[2])<<16|Fi(t[3])<<8|_0(t[4]))>>>0:(t=z2.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=V2.exec(e))?parseInt(t[1],16)>>>0:(t=B2.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=U2.exec(e))?(v0(y0(t[1]),Va(t[2]),Va(t[3]))|255)>>>0:(t=j2.exec(e))?(v0(y0(t[1]),Va(t[2]),Va(t[3]))|_0(t[4]))>>>0:null}function xd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function v0(e,t,n){let r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=xd(i,r,e+1/3),o=xd(i,r,e),l=xd(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(l*255)<<8}function Fi(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function y0(e){return(parseFloat(e)%360+360)%360/360}function _0(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Va(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function w0(e){let t=H2(e);if(t===null)return e;t=t||0;let n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var Ol=(e,t,n)=>{if(O.fun(e))return e;if(O.arr(e))return Ol({range:e,output:t,extrapolate:n});if(O.str(e.output[0]))return av(e);let r=e,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",a=r.easing||(u=>u);return u=>{let c=q2(u,s);return G2(u,s[c],s[c+1],i[c],i[c+1],a,o,l,r.map)}};function G2(e,t,n,r,i,s,o,l,a){let u=a?a(e):e;if(u<t){if(o==="identity")return u;o==="clamp"&&(u=t)}if(u>n){if(l==="identity")return u;l==="clamp"&&(u=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function q2(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var K2=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);let r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return M2(0,1,i/e)},mc=1.70158,Ha=mc*1.525,E0=mc+1,C0=2*Math.PI/3,S0=2*Math.PI/4.5,Ga=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Q2={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>E0*e*e*e-mc*e*e,easeOutBack:e=>1+E0*Math.pow(e-1,3)+mc*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((Ha+1)*2*e-Ha)/2:(Math.pow(2*e-2,2)*((Ha+1)*(e*2-2)+Ha)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*C0),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*C0)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*S0))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*S0)/2+1,easeInBounce:e=>1-Ga(1-e),easeOutBounce:Ga,easeInOutBounce:e=>e<.5?(1-Ga(1-2*e))/2:(1+Ga(2*e-1))/2,steps:K2},xs=Symbol.for("FluidValue.get"),Ri=Symbol.for("FluidValue.observers"),Ht=e=>!!(e&&e[xs]),Ct=e=>e&&e[xs]?e[xs]():e,I0=e=>e[Ri]||null;function Y2(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Dl(e,t){let n=e[Ri];n&&n.forEach(r=>{Y2(r,t)})}var iF,sF,W0,DI=(W0=class{constructor(e){L(this,iF);L(this,sF);if(!e&&!(e=this.get))throw Error("Unknown getter");X2(this,e)}},iF=xs,sF=Ri,W0),X2=(e,t)=>bI(e,xs,t);function qs(e,t){if(e[xs]){let n=e[Ri];n||bI(e,Ri,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function bl(e,t){let n=e[Ri];if(n&&n.has(t)){let r=n.size-1;r?n.delete(t):e[Ri]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var bI=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),hu=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,J2=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,T0=new RegExp(`(${hu.source})(%|[a-z]+)`,"i"),Z2=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,_h=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,MI=e=>{let[t,n]=e$(e);if(!t||lv())return e;let r=window.getComputedStyle(document.documentElement).getPropertyValue(t);return r?r.trim():n&&n.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(n)||e:n&&_h.test(n)?MI(n):n||e},e$=e=>{let t=_h.exec(e);if(!t)return[,];let[,n,r]=t;return[n,r]},Od,t$=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,LI=e=>{Od||(Od=Lr?new RegExp(`(${Object.keys(Lr).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(i=>Ct(i).replace(_h,MI).replace(J2,w0).replace(Od,w0)),n=t.map(i=>i.match(hu).map(Number)),r=n[0].map((i,s)=>n.map(o=>{if(!(s in o))throw Error('The arity of each "output" value must be equal');return o[s]})).map(i=>Ol({...e,output:i}));return i=>{var l;let s=!T0.test(t[0])&&((l=t.find(a=>T0.test(a)))==null?void 0:l.replace(hu,"")),o=0;return t[0].replace(hu,()=>`${r[o++](i)}${s||""}`).replace(Z2,t$)}},cv="react-spring: ",$I=e=>{let t=e,n=!1;if(typeof t!="function")throw new TypeError(`${cv}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},n$=$I(console.warn);function r$(){n$(`${cv}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var i$=$I(console.warn);function s$(){i$(`${cv}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function wh(e){return O.str(e)&&(e[0]=="#"||/\d/.test(e)||!lv()&&_h.test(e)||e in(Lr||{}))}var hv=lv()?E.useEffect:E.useLayoutEffect,o$=()=>{let e=E.useRef(!1);return hv(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function FI(){let e=E.useState()[1],t=o$();return()=>{t.current&&e(Math.random())}}function l$(e,t){let[n]=E.useState(()=>({inputs:t,result:e()})),r=E.useRef(),i=r.current,s=i;return s?t&&s.inputs&&a$(t,s.inputs)||(s={inputs:t,result:e()}):s=n,E.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function a$(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var UI=e=>E.useEffect(e,u$),u$=[];function k0(e){let t=E.useRef();return E.useEffect(()=>{t.current=e}),t.current}var Ml=Symbol.for("Animated:node"),c$=e=>!!e&&e[Ml]===e,kn=e=>e&&e[Ml],dv=(e,t)=>x2(e,Ml,t),Eh=e=>e&&e[Ml]&&e[Ml].getPayload(),jI=class{constructor(){L(this,"payload");dv(this,this)}getPayload(){return this.payload||[]}},va=class extends jI{constructor(t){super();L(this,"done",!0);L(this,"elapsedTime");L(this,"lastPosition");L(this,"lastVelocity");L(this,"v0");L(this,"durationProgress",0);this._value=t,O.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new va(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return O.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){let{done:t}=this;this.done=!1,O.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Ll=class extends va{constructor(t){super(0);L(this,"_string",null);L(this,"_toString");this._toString=Ol({output:[t,t]})}static create(t){return new Ll(t)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(t){if(O.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Ol({output:[this.getValue(),t]})),this._value=0,super.reset()}},gc={dependencies:null},Ch=class extends jI{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return bn(this.source,(n,r)=>{c$(n)?t[r]=n.getValue(e):Ht(n)?t[r]=Ct(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&se(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return bn(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){gc.dependencies&&Ht(e)&&gc.dependencies.add(e);let t=Eh(e);t&&se(t,n=>this.add(n))}},zI=class extends Ch{constructor(t){super(t)}static create(t){return new zI(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){let n=this.getPayload();return t.length==n.length?n.map((r,i)=>r.setValue(t[i])).some(Boolean):(super.setValue(t.map(h$)),!0)}};function h$(e){return(wh(e)?Ll:va).create(e)}function Sp(e){let t=kn(e);return t?t.constructor:O.arr(e)?zI:wh(e)?Ll:va}var R0=(e,t)=>{let n=!O.fun(e)||e.prototype&&e.prototype.isReactComponent;return E.forwardRef((r,i)=>{let s=E.useRef(null),o=n&&E.useCallback(v=>{s.current=p$(i,v)},[i]),[l,a]=f$(r,t),u=FI(),c=()=>{let v=s.current;n&&!v||(v?t.applyAnimatedValues(v,l.getValue(!0)):!1)===!1&&u()},h=new d$(c,a),d=E.useRef();hv(()=>(d.current=h,se(a,v=>qs(v,h)),()=>{d.current&&(se(d.current.deps,v=>bl(v,d.current)),X.cancel(d.current.update))})),E.useEffect(c,[]),UI(()=>()=>{let v=d.current;se(v.deps,_=>bl(_,v))});let y=t.getComponentProps(l.getValue());return E.createElement(e,{...y,ref:o})})},d$=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&X.write(this.update)}};function f$(e,t){let n=new Set;return gc.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Ch(e),gc.dependencies=null,[e,n]}function p$(e,t){return e&&(O.fun(e)?e(t):e.current=t),t}var N0=Symbol.for("AnimatedComponent"),m$=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new Ch(i),getComponentProps:r=i=>i}={})=>{let i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=o=>{let l=P0(o)||"Anonymous";return O.str(o)?o=s[o]||(s[o]=R0(o,i)):o=o[N0]||(o[N0]=R0(o,i)),o.displayName=`Animated(${l})`,o};return bn(e,(o,l)=>{O.arr(e)&&(l=P0(o)),s[l]=s(o)}),{animated:s}},P0=e=>O.str(e)?e:e&&O.str(e.displayName)?e.displayName:O.fun(e)&&e.name||null;function ei(e,...t){return O.fun(e)?e(...t):e}var Go=(e,t)=>e===!0||!!(t&&e&&(O.fun(e)?e(t):Lt(e).includes(t))),BI=(e,t)=>O.obj(e)?t&&e[t]:e,WI=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,g$=e=>e,fv=(e,t=g$)=>{let n=v$;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));let r={};for(let i of n){let s=t(e[i],i);O.und(s)||(r[i]=s)}return r},v$=["config","onProps","onStart","onChange","onPause","onResume","onRest"],y$={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function _$(e){let t={},n=0;if(bn(e,(r,i)=>{y$[i]||(t[i]=r,n++)}),n)return t}function VI(e){let t=_$(e);if(t){let n={to:t};return bn(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function $l(e){return e=Ct(e),O.arr(e)?e.map($l):wh(e)?wn.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function w$(e){for(let t in e)return!0;return!1}function Ip(e){return O.fun(e)||O.arr(e)&&O.obj(e[0])}function E$(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function C$(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var S$={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Tp={...S$.default,mass:1,damping:1,easing:Q2.linear,clamp:!1},I$=class{constructor(){L(this,"tension");L(this,"friction");L(this,"frequency");L(this,"damping");L(this,"mass");L(this,"velocity",0);L(this,"restVelocity");L(this,"precision");L(this,"progress");L(this,"duration");L(this,"easing");L(this,"clamp");L(this,"bounce");L(this,"decay");L(this,"round");Object.assign(this,Tp)}};function T$(e,t,n){n&&(n={...n},A0(n,t),t={...n,...t}),A0(e,t),Object.assign(e,t);for(let o in Tp)e[o]==null&&(e[o]=Tp[o]);let{frequency:r,damping:i}=e,{mass:s}=e;return O.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function A0(e,t){if(!O.und(t.decay))e.duration=void 0;else{let n=!O.und(t.tension)||!O.und(t.friction);(n||!O.und(t.frequency)||!O.und(t.damping)||!O.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var x0=[],k$=class{constructor(){L(this,"changed",!1);L(this,"values",x0);L(this,"toValues",null);L(this,"fromValues",x0);L(this,"to");L(this,"from");L(this,"config",new I$);L(this,"immediate",!1)}};function HI(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,l)=>{let a,u,c=Go(n.cancel??(r==null?void 0:r.cancel),t);if(c)y();else{O.und(n.pause)||(i.paused=Go(n.pause,t));let v=r==null?void 0:r.pause;v!==!0&&(v=i.paused||Go(v,t)),a=ei(n.delay||0,t),v?(i.resumeQueue.add(d),s.pause()):(s.resume(),d())}function h(){i.resumeQueue.add(d),i.timeouts.delete(u),u.cancel(),a=u.time-X.now()}function d(){a>0&&!wn.skipAnimation?(i.delayed=!0,u=X.setTimeout(y,a),i.pauseQueue.add(h),i.timeouts.add(u)):y()}function y(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(u),e<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:e,cancel:c},o)}catch(v){l(v)}}})}var pv=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?gs(e.get()):t.every(n=>n.noop)?GI(e.get()):cn(e.get(),t.every(n=>n.finished)),GI=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),cn=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),gs=e=>({value:e,cancelled:!0,finished:!1});function qI(e,t,n,r){let{callId:i,parentId:s,onRest:o}=t,{asyncTo:l,promise:a}=n;return!s&&e===l&&!t.reset?a:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;let u=fv(t,(m,p)=>p==="onRest"?void 0:m),c,h,d=new Promise((m,p)=>(c=m,h=p)),y=m=>{let p=i<=(n.cancelId||0)&&gs(r)||i!==n.asyncId&&cn(r,!1);if(p)throw m.result=p,h(m),m},v=(m,p)=>{let f=new O0,g=new D0;return(async()=>{if(wn.skipAnimation)throw Fl(n),g.result=cn(r,!1),h(g),g;y(f);let w=O.obj(m)?{...m}:{...p,to:m};w.parentId=i,bn(u,(k,x)=>{O.und(w[x])&&(w[x]=k)});let S=await r.start(w);return y(f),n.paused&&await new Promise(k=>{n.resumeQueue.add(k)}),S})()},_;if(wn.skipAnimation)return Fl(n),cn(r,!1);try{let m;O.arr(e)?m=(async p=>{for(let f of p)await v(f)})(e):m=Promise.resolve(e(v,r.stop.bind(r))),await Promise.all([m.then(c),d]),_=cn(r.get(),!0,!1)}catch(m){if(m instanceof O0)_=m.result;else if(m instanceof D0)_=m.result;else throw m}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?l:void 0,n.promise=s?a:void 0)}return O.fun(o)&&X.batchedUpdates(()=>{o(_,r,r.item)}),_})()}function Fl(e,t){Vo(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var O0=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");L(this,"result")}},D0=class extends Error{constructor(){super("SkipAnimationSignal");L(this,"result")}},kp=e=>e instanceof mv,R$=1,mv=class extends DI{constructor(){super(...arguments);L(this,"id",R$++);L(this,"_priority",0)}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){let t=kn(this);return t&&t.getValue()}to(...t){return wn.to(this,t)}interpolate(...t){return r$(),wn.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,n=!1){Dl(this,{type:"change",parent:this,value:t,idle:n})}_onPriorityChange(t){this.idle||vh.sort(this),Dl(this,{type:"priority",parent:this,priority:t})}},Ni=Symbol.for("SpringPhase"),KI=1,Rp=2,Np=4,Dd=e=>(e[Ni]&KI)>0,ur=e=>(e[Ni]&Rp)>0,go=e=>(e[Ni]&Np)>0,b0=(e,t)=>t?e[Ni]|=Rp|KI:e[Ni]&=~Rp,M0=(e,t)=>t?e[Ni]|=Np:e[Ni]&=~Np,N$=class extends mv{constructor(t,n){super();L(this,"key");L(this,"animation",new k$);L(this,"queue");L(this,"defaultProps",{});L(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});L(this,"_pendingCalls",new Set);L(this,"_lastCallId",0);L(this,"_lastToId",0);L(this,"_memoizedDuration",0);if(!O.und(t)||!O.und(n)){let r=O.obj(t)?{...t}:{...n,from:t};O.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(ur(this)||this._state.asyncTo)||go(this)}get goal(){return Ct(this.animation.to)}get velocity(){let t=kn(this);return t instanceof va?t.lastVelocity||0:t.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return Dd(this)}get isAnimating(){return ur(this)}get isPaused(){return go(this)}get isDelayed(){return this._state.delayed}advance(t){let n=!0,r=!1,i=this.animation,{toValues:s}=i,{config:o}=i,l=Eh(i.to);!l&&Ht(i.to)&&(s=Lt(Ct(i.to))),i.values.forEach((c,h)=>{if(c.done)return;let d=c.constructor==Ll?1:l?l[h].lastPosition:s[h],y=i.immediate,v=d;if(!y){if(v=c.lastPosition,o.tension<=0){c.done=!0;return}let _=c.elapsedTime+=t,m=i.fromValues[h],p=c.v0!=null?c.v0:c.v0=O.arr(o.velocity)?o.velocity[h]:o.velocity,f,g=o.precision||(m==d?.005:Math.min(1,Math.abs(d-m)*.001));if(O.und(o.duration))if(o.decay){let w=o.decay===!0?.998:o.decay,S=Math.exp(-(1-w)*_);v=m+p/(1-w)*(1-S),y=Math.abs(c.lastPosition-v)<=g,f=p*S}else{f=c.lastVelocity==null?p:c.lastVelocity;let w=o.restVelocity||g/10,S=o.clamp?0:o.bounce,k=!O.und(S),x=m==d?c.v0>0:m<d,N,J=!1,F=1,ge=Math.ceil(t/F);for(let Ee=0;Ee<ge&&(N=Math.abs(f)>w,!(!N&&(y=Math.abs(d-v)<=g,y)));++Ee){k&&(J=v==d||v>d==x,J&&(f=-f*S,v=d));let Ce=-o.tension*1e-6*(v-d),Se=-o.friction*.001*f,st=(Ce+Se)/o.mass;f=f+st*F,v=v+f*F}}else{let w=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,c.durationProgress>0&&(c.elapsedTime=o.duration*c.durationProgress,_=c.elapsedTime+=t)),w=(o.progress||0)+_/this._memoizedDuration,w=w>1?1:w<0?0:w,c.durationProgress=w),v=m+o.easing(w)*(d-m),f=(v-c.lastPosition)/t,y=w==1}c.lastVelocity=f,Number.isNaN(v)&&(console.warn("Got NaN while animating:",this),y=!0)}l&&!l[h].done&&(y=!1),y?c.done=!0:n=!1,c.setValue(v,o.round)&&(r=!0)});let a=kn(this),u=a.getValue();if(n){let c=Ct(i.to);(u!==c||r)&&!o.decay?(a.setValue(c),this._onChange(c)):r&&o.decay&&this._onChange(u),this._stop()}else r&&this._onChange(u)}set(t){return X.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(ur(this)){let{to:t,config:n}=this.animation;X.batchedUpdates(()=>{this._onStart(),n.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,n){let r;return O.und(t)?(r=this.queue||[],this.queue=[]):r=[O.obj(t)?t:{...n,to:t}],Promise.all(r.map(i=>this._update(i))).then(i=>pv(this,i))}stop(t){let{to:n}=this.animation;return this._focus(this.get()),Fl(this._state,t&&this._lastCallId),X.batchedUpdates(()=>this._stop(n,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){let n=this.key||"",{to:r,from:i}=t;r=O.obj(r)?r[n]:r,(r==null||Ip(r))&&(r=void 0),i=O.obj(i)?i[n]:i,i==null&&(i=void 0);let s={to:r,from:i};return Dd(this)||(t.reverse&&([r,i]=[i,r]),i=Ct(i),O.und(i)?kn(this)||this._set(r):this._set(i)),s}_update({...t},n){let{key:r,defaultProps:i}=this;t.default&&Object.assign(i,fv(t,(l,a)=>/^on/.test(a)?BI(l,r):l)),$0(this,t,"onProps"),yo(this,"onProps",t,this);let s=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return HI(++this._lastCallId,{key:r,props:t,defaultProps:i,state:o,actions:{pause:()=>{go(this)||(M0(this,!0),Ro(o.pauseQueue),yo(this,"onPause",cn(this,vo(this,this.animation.to)),this))},resume:()=>{go(this)&&(M0(this,!1),ur(this)&&this._resume(),Ro(o.resumeQueue),yo(this,"onResume",cn(this,vo(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(l=>{if(t.loop&&l.finished&&!(n&&l.noop)){let a=QI(t);if(a)return this._update(a,!0)}return l})}_merge(t,n,r){if(n.cancel)return this.stop(!0),r(gs(this));let i=!O.und(t.to),s=!O.und(t.from);if(i||s)if(n.callId>this._lastToId)this._lastToId=n.callId;else return r(gs(this));let{key:o,defaultProps:l,animation:a}=this,{to:u,from:c}=a,{to:h=u,from:d=c}=t;s&&!i&&(!n.default||O.und(h))&&(h=d),n.reverse&&([h,d]=[d,h]);let y=!zn(d,c);y&&(a.from=d),d=Ct(d);let v=!zn(h,u);v&&this._focus(h);let _=Ip(n.to),{config:m}=a,{decay:p,velocity:f}=m;(i||s)&&(m.velocity=0),n.config&&!_&&T$(m,ei(n.config,o),n.config!==l.config?ei(l.config,o):void 0);let g=kn(this);if(!g||O.und(h))return r(cn(this,!0));let w=O.und(n.reset)?s&&!n.default:!O.und(d)&&Go(n.reset,o),S=w?d:this.get(),k=$l(h),x=O.num(k)||O.arr(k)||wh(k),N=!_&&(!x||Go(l.immediate||n.immediate,o));if(v){let Ee=Sp(h);if(Ee!==g.constructor)if(N)g=this._set(k);else throw Error(`Cannot animate between ${g.constructor.name} and ${Ee.name}, as the "to" prop suggests`)}let J=g.constructor,F=Ht(h),ge=!1;if(!F){let Ee=w||!Dd(this)&&y;(v||Ee)&&(ge=zn($l(S),k),F=!ge),(!zn(a.immediate,N)&&!N||!zn(m.decay,p)||!zn(m.velocity,f))&&(F=!0)}if(ge&&ur(this)&&(a.changed&&!w?F=!0:F||this._stop(u)),!_&&((F||Ht(u))&&(a.values=g.getPayload(),a.toValues=Ht(h)?null:J==Ll?[1]:Lt(k)),a.immediate!=N&&(a.immediate=N,!N&&!w&&this._set(u)),F)){let{onRest:Ee}=a;se(A$,Se=>$0(this,n,Se));let Ce=cn(this,vo(this,u));Ro(this._pendingCalls,Ce),this._pendingCalls.add(r),a.changed&&X.batchedUpdates(()=>{var Se;a.changed=!w,Ee==null||Ee(Ce,this),w?ei(l.onRest,Ce):(Se=a.onStart)==null||Se.call(a,Ce,this)})}w&&this._set(S),_?r(qI(n.to,n,this._state,this)):F?this._start():ur(this)&&!v?this._pendingCalls.add(r):r(GI(S))}_focus(t){let n=this.animation;t!==n.to&&(I0(this)&&this._detach(),n.to=t,I0(this)&&this._attach())}_attach(){let t=0,{to:n}=this.animation;Ht(n)&&(qs(n,this),kp(n)&&(t=n.priority+1)),this.priority=t}_detach(){let{to:t}=this.animation;Ht(t)&&bl(t,this)}_set(t,n=!0){let r=Ct(t);if(!O.und(r)){let i=kn(this);if(!i||!zn(r,i.getValue())){let s=Sp(r);!i||i.constructor!=s?dv(this,s.create(r)):i.setValue(r),i&&X.batchedUpdates(()=>{this._onChange(r,n)})}}return kn(this)}_onStart(){let t=this.animation;t.changed||(t.changed=!0,yo(this,"onStart",cn(this,vo(this,t.to)),this))}_onChange(t,n){n||(this._onStart(),ei(this.animation.onChange,t,this)),ei(this.defaultProps.onChange,t,this),super._onChange(t,n)}_start(){let t=this.animation;kn(this).reset(Ct(t.to)),t.immediate||(t.fromValues=t.values.map(n=>n.lastPosition)),ur(this)||(b0(this,!0),go(this)||this._resume())}_resume(){wn.skipAnimation?this.finish():vh.start(this)}_stop(t,n){if(ur(this)){b0(this,!1);let r=this.animation;se(r.values,s=>{s.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Dl(this,{type:"idle",parent:this});let i=n?gs(this.get()):cn(this.get(),vo(this,t??r.to));Ro(this._pendingCalls,i),r.changed&&(r.changed=!1,yo(this,"onRest",i,this))}}};function vo(e,t){let n=$l(t),r=$l(e.get());return zn(r,n)}function QI(e,t=e.loop,n=e.to){let r=ei(t);if(r){let i=r!==!0&&VI(r),s=(i||e).reverse,o=!i||i.reset;return Ul({...e,loop:t,default:!1,pause:void 0,to:!s||Ip(n)?n:void 0,from:o?e.from:void 0,reset:o,...i})}}function Ul(e){let{to:t,from:n}=e=VI(e),r=new Set;return O.obj(t)&&L0(t,r),O.obj(n)&&L0(n,r),e.keys=r.size?Array.from(r):null,e}function P$(e){let t=Ul(e);return O.und(t.default)&&(t.default=fv(t)),t}function L0(e,t){bn(e,(n,r)=>n!=null&&t.add(r))}var A$=["onStart","onRest","onChange","onPause","onResume"];function $0(e,t,n){e.animation[n]=t[n]!==WI(t,n)?BI(t[n],e.key):void 0}function yo(e,t,...n){var r,i,s,o;(i=(r=e.animation)[t])==null||i.call(r,...n),(o=(s=e.defaultProps)[t])==null||o.call(s,...n)}var x$=["onStart","onChange","onRest"],O$=1,D$=class{constructor(e,t){L(this,"id",O$++);L(this,"springs",{});L(this,"queue",[]);L(this,"ref");L(this,"_flush");L(this,"_initialProps");L(this,"_lastAsyncId",0);L(this,"_active",new Set);L(this,"_changed",new Set);L(this,"_started",!1);L(this,"_item");L(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});L(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(let t in e){let n=e[t];O.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Ul(e)),this}start(e){let{queue:t}=this;return e?t=Lt(e).map(Ul):this.queue=[],this._flush?this._flush(this,t):(eT(this,t),Pp(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){let n=this.springs;se(Lt(t),r=>n[r].stop(!!e))}else Fl(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(O.und(e))this.start({pause:!0});else{let t=this.springs;se(Lt(e),n=>t[n].pause())}return this}resume(e){if(O.und(e))this.start({pause:!1});else{let t=this.springs;se(Lt(e),n=>t[n].resume())}return this}each(e){bn(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Vo(e,([l,a])=>{a.value=this.get(),l(a,this,this._item)}));let s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&t.size&&Vo(t,([l,a])=>{a.value=o,l(a,this,this._item)}),s&&(this._started=!1,Vo(n,([l,a])=>{a.value=o,l(a,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;X.onFrame(this._onFrame)}};function Pp(e,t){return Promise.all(t.map(n=>YI(e,n))).then(n=>pv(e,n))}async function YI(e,t,n){let{keys:r,to:i,from:s,loop:o,onRest:l,onResolve:a}=t,u=O.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);let c=O.arr(i)||O.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):se(x$,_=>{let m=t[_];if(O.fun(m)){let p=e._events[_];t[_]=({finished:f,cancelled:g})=>{let w=p.get(m);w?(f||(w.finished=!1),g&&(w.cancelled=!0)):p.set(m,{value:null,finished:f||!1,cancelled:g||!1})},u&&(u[_]=t[_])}});let h=e._state;t.pause===!h.paused?(h.paused=t.pause,Ro(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);let d=(r||Object.keys(e.springs)).map(_=>e.springs[_].start(t)),y=t.cancel===!0||WI(t,"cancel")===!0;(c||y&&h.asyncId)&&d.push(HI(++e._lastAsyncId,{props:t,state:h,actions:{pause:Ep,resume:Ep,start(_,m){y?(Fl(h,e._lastAsyncId),m(gs(e))):(_.onRest=l,m(qI(c,_,h,e)))}}})),h.paused&&await new Promise(_=>{h.resumeQueue.add(_)});let v=pv(e,await Promise.all(d));if(o&&v.finished&&!(n&&v.noop)){let _=QI(t,o,i);if(_)return eT(e,[_]),YI(e,_,!0)}return a&&X.batchedUpdates(()=>a(v,e,e.item)),v}function F0(e,t){let n={...e.springs};return t&&se(Lt(t),r=>{O.und(r.keys)&&(r=Ul(r)),O.obj(r.to)||(r={...r,to:void 0}),ZI(n,r,i=>JI(i))}),XI(e,n),n}function XI(e,t){bn(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,qs(n,e))})}function JI(e,t){let n=new N$;return n.key=e,t&&qs(n,t),n}function ZI(e,t,n){t.keys&&se(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function eT(e,t){se(t,n=>{ZI(e.springs,n,r=>JI(r,e))})}var Sh=({children:e,...t})=>{let n=E.useContext(vc),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=l$(()=>({pause:r,immediate:i}),[r,i]);let{Provider:s}=vc;return E.createElement(s,{value:t},e)},vc=b$(Sh,{});Sh.Provider=vc.Provider;Sh.Consumer=vc.Consumer;function b$(e,t){return Object.assign(e,E.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var M$=()=>{let e=[],t=function(r){s$();let i=[];return se(e,(s,o)=>{if(O.und(r))i.push(s.start());else{let l=n(r,s,o);l&&i.push(s.start(l))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){let i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return se(e,r=>r.pause(...arguments)),this},t.resume=function(){return se(e,r=>r.resume(...arguments)),this},t.set=function(r){se(e,(i,s)=>{let o=O.fun(r)?r(s,i):r;o&&i.set(o)})},t.start=function(r){let i=[];return se(e,(s,o)=>{if(O.und(r))i.push(s.start());else{let l=this._getProps(r,s,o);l&&i.push(s.start(l))}}),i},t.stop=function(){return se(e,r=>r.stop(...arguments)),this},t.update=function(r){return se(e,(i,s)=>i.update(this._getProps(r,i,s))),this};let n=function(r,i,s){return O.fun(r)?r(s,i):r};return t._getProps=n,t};function L$(e,t,n){let r=O.fun(t)&&t;r&&!n&&(n=[]);let i=E.useMemo(()=>r||arguments.length==3?M$():void 0,[]),s=E.useRef(0),o=FI(),l=E.useMemo(()=>({ctrls:[],queue:[],flush(p,f){let g=F0(p,f);return s.current>0&&!l.queue.length&&!Object.keys(g).some(w=>!p.springs[w])?Pp(p,f):new Promise(w=>{XI(p,g),l.queue.push(()=>{w(Pp(p,f))}),o()})}}),[]),a=E.useRef([...l.ctrls]),u=[],c=k0(e)||0;E.useMemo(()=>{se(a.current.slice(e,c),p=>{E$(p,i),p.stop(!0)}),a.current.length=e,h(c,e)},[e]),E.useMemo(()=>{h(0,Math.min(c,e))},n);function h(p,f){for(let g=p;g<f;g++){let w=a.current[g]||(a.current[g]=new D$(null,l.flush)),S=r?r(g,w):t[g];S&&(u[g]=P$(S))}}let d=a.current.map((p,f)=>F0(p,u[f])),y=E.useContext(Sh),v=k0(y),_=y!==v&&w$(y);hv(()=>{s.current++,l.ctrls=a.current;let{queue:p}=l;p.length&&(l.queue=[],se(p,f=>f())),se(a.current,(f,g)=>{i==null||i.add(f),_&&f.start({default:y});let w=u[g];w&&(C$(f,w.ref),f.ref?f.queue.push(w):f.start(w))})}),UI(()=>()=>{se(l.ctrls,p=>p.stop(!0))});let m=d.map(p=>({...p}));return i?[m,i]:m}function It(e,t){let n=O.fun(e),[[r],i]=L$(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var $$=class extends mv{constructor(t,n){super();L(this,"key");L(this,"idle",!0);L(this,"calc");L(this,"_active",new Set);this.source=t,this.calc=Ol(...n);let r=this._get(),i=Sp(r);dv(this,i.create(r))}advance(t){let n=this._get(),r=this.get();zn(n,r)||(kn(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&U0(this._active)&&bd(this)}_get(){let t=O.arr(this.source)?this.source.map(Ct):Lt(Ct(this.source));return this.calc(...t)}_start(){this.idle&&!U0(this._active)&&(this.idle=!1,se(Eh(this),t=>{t.done=!1}),wn.skipAnimation?(X.batchedUpdates(()=>this.advance()),bd(this)):vh.start(this))}_attach(){let t=1;se(Lt(this.source),n=>{Ht(n)&&qs(n,this),kp(n)&&(n.idle||this._active.add(n),t=Math.max(t,n.priority+1))}),this.priority=t,this._start()}_detach(){se(Lt(this.source),t=>{Ht(t)&&bl(t,this)}),this._active.clear(),bd(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Lt(this.source).reduce((n,r)=>Math.max(n,(kp(r)?r.priority:0)+1),0))}};function F$(e){return e.idle!==!1}function U0(e){return!e.size||Array.from(e).every(F$)}function bd(e){e.idle||(e.idle=!0,se(Eh(e),t=>{t.done=!0}),Dl(e,{type:"idle",parent:e}))}wn.assign({createStringInterpolator:LI,to:(e,t)=>new $$(e,t)});var tT=/^--/;function U$(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!tT.test(e)&&!(qo.hasOwnProperty(e)&&qo[e])?t+"px":(""+t).trim()}var j0={};function j$(e,t){if(!e.nodeType||!e.setAttribute)return!1;let n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:l,...a}=t,u=Object.values(a),c=Object.keys(a).map(h=>n||e.hasAttribute(h)?h:j0[h]||(j0[h]=h.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));i!==void 0&&(e.textContent=i);for(let h in r)if(r.hasOwnProperty(h)){let d=U$(h,r[h]);tT.test(h)?e.style.setProperty(h,d):e.style[h]=d}c.forEach((h,d)=>{e.setAttribute(h,u[d])}),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),l!==void 0&&e.setAttribute("viewBox",l)}var qo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z$=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),B$=["Webkit","Ms","Moz","O"];qo=Object.keys(qo).reduce((e,t)=>(B$.forEach(n=>e[z$(n,t)]=e[t]),e),qo);var W$=/^(matrix|translate|scale|rotate|skew)/,V$=/^(translate)/,H$=/^(rotate|skew)/,Md=(e,t)=>O.num(e)&&e!==0?e+t:e,du=(e,t)=>O.arr(e)?e.every(n=>du(n,t)):O.num(e)?e===t:parseFloat(e)===t,G$=class extends Ch{constructor({x:e,y:t,z:n,...r}){let i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(o=>[`translate3d(${o.map(l=>Md(l,"px")).join(",")})`,du(o,0)])),bn(r,(o,l)=>{if(l==="transform")i.push([o||""]),s.push(a=>[a,a===""]);else if(W$.test(l)){if(delete r[l],O.und(o))return;let a=V$.test(l)?"px":H$.test(l)?"deg":"";i.push(Lt(o)),s.push(l==="rotate3d"?([u,c,h,d])=>[`rotate3d(${u},${c},${h},${Md(d,a)})`,du(d,0)]:u=>[`${l}(${u.map(c=>Md(c,a)).join(",")})`,du(u,l.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new q$(i,s)),super(r)}},q$=class extends DI{constructor(t,n){super();L(this,"_value",null);this.inputs=t,this.transforms=n}get(){return this._value||(this._value=this._get())}_get(){let t="",n=!0;return se(this.inputs,(r,i)=>{let s=Ct(r[0]),[o,l]=this.transforms[i](O.arr(s)?s:r.map(Ct));t+=" "+o,n=n&&l}),n?"none":t}observerAdded(t){t==1&&se(this.inputs,n=>se(n,r=>Ht(r)&&qs(r,this)))}observerRemoved(t){t==0&&se(this.inputs,n=>se(n,r=>Ht(r)&&bl(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Dl(this,t)}},K$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];wn.assign({batchedUpdates:fu.unstable_batchedUpdates,createStringInterpolator:LI,colors:L2});var Q$=m$(K$,{applyAnimatedValues:j$,createAnimatedStyle:e=>new G$(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),ht=Q$.animated;const Y$=()=>{const[e,t]=E.useState(!1);function n(){return e?1200:100}const[r,i]=It(()=>({from:{x:700}})),s=()=>{t(!e),i.start({from:{x:r.x},to:{x:n()}})},[o,l]=E.useState("");E.useState();const[a,u]=E.useState(""),c=Gl(),h=()=>{let y="";const v="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<6;m++)y+=v.charAt(Math.floor(Math.random()*v.length));return y};E.useEffect(()=>{const y=h(),v=Je(Be,"rooms/"),_=cu(v,yp("roomCode"),uu(y)),m=Dt(_,p=>{p.val()?l(h()):l(y)});return()=>{m()}},[]);async function d(){const y=Je(Be,"/rooms"),v={roomCode:o,host:a,question:1,startAt:SI(),seconds:0},_=await s2(y,v);Dt(_,m=>{c("/game",{state:{roomId:_.key}})})}return Z("div",{children:[Z("div",{children:[D("input",{className:"left-center",placeholder:"player name...",value:a,onChange:y=>u(y.target.value)}),D("button",{className:"margin-center",onClick:()=>{d()},children:"Host"})]}),D("br",{}),D("br",{}),D(ht.button,{onClick:s,style:{...r},children:"click me"})]})};const X$=()=>{const[e,t]=It(()=>({from:{x:1500,y:100,rotate:0},to:{x:-100,rotate:1e3},loop:!0,config:{duration:7e3}})),[n,r]=It(()=>({from:{x:-100,y:200,rotate:0},to:{x:1500,rotate:1e3},loop:!0,config:{duration:1e4}})),[i,s]=It(()=>({from:{x:0,y:-600,rotate:0},to:{x:1700,y:400,rotate:1e3},loop:!0,config:{duration:9e3}})),[o,l]=It(()=>({from:{x:-100,y:-450,rotate:0},to:{x:1500,y:-450,rotate:1e3},loop:!0,config:{duration:5e3}})),[a,u]=It(()=>({from:{x:1500,y:100,rotate:1e3},to:{x:0,y:-700,rotate:0},loop:!0,config:{duration:6e3}})),[c,h]=E.useState(!1),d=Gl();return Z(an,{children:[D("h1",{children:"Gamebox Home"}),!c&&Z(an,{children:[Z("div",{className:"super-container",children:[D("button",{className:"vertical-center",onClick:()=>h(!0),children:"Host Game"}),D("button",{className:"vertical-center",onClick:()=>d("/signUp"),children:"Join Game"})]}),D(ht.div,{style:{width:100,height:100,background:"red",borderRadius:8,...e}}),D(ht.div,{style:{width:100,height:100,background:"yellow",borderRadius:10,...n}}),D(ht.div,{style:{width:100,height:100,background:"purple",borderRadius:10,...i}}),D(ht.div,{style:{width:70,height:70,background:"#66FF00",borderRadius:10,...o}}),D(ht.div,{style:{width:70,height:70,background:"#AFEEEE",borderRadius:10,...a}})]}),c&&Z(an,{children:[D(Y$,{}),D(ht.div,{style:{width:100,height:100,background:"red",borderRadius:8,...e}})]})]})},J$=()=>{const[e,t]=E.useState();E.useState("");const[n,r]=E.useState(""),[i,s]=E.useState(""),[o,l]=E.useState(""),[a,u]=E.useState(!1),[c,h]=E.useState(!1),[d,y]=E.useState(""),[v,_]=E.useState(0),[m,p]=E.useState(0),[f,g]=E.useState(!1),[w,S]=E.useState(),[k,x]=E.useState(!1),[N,J]=E.useState(""),[F,ge]=E.useState(!1),[Ee,Ce]=E.useState(!1),Se=Gl();E.useEffect(()=>{const U=Je(Be,"rooms/"),K=cu(U,yp("roomCode"),uu(n)),me=Dt(K,ue=>{if(y(""),ue.val()){const $n=Object.keys(ue.val());s($n[0])}t(ue.val())});return()=>{me()}},[n]),E.useEffect(()=>{const U=Je(Be,`rooms/${i}/users`),K=cu(U,yp("name"),uu(o)),me=Dt(K,ue=>{ue.val()?u(!0):u(!1)});return()=>{me()}},[i,o]);const st=async()=>{var U;if(!e){y("No Room Found!");return}if(a){y("Username Already In Use!");return}if(!o){y("Please Enter a Username!");return}e&&w&&i&&!a&&(console.log(w.city),h(!0),Jg(Je(Be,`/rooms/${i}/users/`+o),{name:o,id:(U=xl.currentUser)==null?void 0:U.uid,location:`${w.city}, ${w.principalSubdivision} ${w.countryCode}`,response:"",points:0}))},Zt=()=>{const U=Je(Be,`/rooms/${i}/users`),K=cu(U,d2(),uu(o));Dt(K,me=>{me.val()?Se("/game",{state:{roomId:i,user:o}}):y("invalid room number or username doesn't exist")})};E.useEffect(()=>{window.localStorage.getItem("token")&&ge(!0);const K=navigator.geolocation.watchPosition(ue=>{_(ue.coords.latitude),p(ue.coords.longitude),g(!0)},ue=>{console.log(ue),S({city:"Somewhere",principalSubdivision:"Planet Earth",countryCode:":)"})},{enableHighAccuracy:!0}),me=xl.onAuthStateChanged(ue=>{ue?(Ce(!0),J(ue.uid)):(Ce(!1),J(""))});return()=>{me(),navigator.geolocation.clearWatch(K)}},[]),E.useEffect(()=>{c&&(console.log(i),Se("/game",{state:{roomId:i,user:o}}))},[c]),E.useEffect(()=>{v&&m&&(async()=>{const en=await fetch(`https://api-bdc.net/data/reverse-geocode?latitude=${v}&longitude=${m}&localityLanguage=en&key=bdc_df38e981116f4f8781389060be80ad53`);if(en.ok){const ya=await en.json();S(ya),console.log(ya)}else console.error(`HTTP error! status: ${en.status}`)})()},[v,m]),E.useEffect(()=>{const U=navigator.geolocation.watchPosition(K=>{_(K.coords.latitude),p(K.coords.longitude),g(!0)},K=>{console.log(K),S({city:"Game",principalSubdivision:"Box",countryCode:"Location"})},{enableHighAccuracy:!0});return()=>navigator.geolocation.clearWatch(U)},[]);const[En,I]=It(()=>({from:{x:700}}));function M(){return k?1200:100}const b=()=>{x(!k),I.start({from:{x:En.x},to:{x:M()}})};return Z("div",{children:[D("h1",{children:"Join Room"}),!F&&Z(an,{children:[D("h2",{className:"center",children:d}),Z("form",{className:"center",onSubmit:U=>{U.preventDefault(),st(),k2()},children:[D("input",{placeholder:"room code",value:n,onChange:U=>r(U.target.value)}),D("input",{placeholder:"username",value:o,onChange:U=>l(U.target.value)}),D("button",{onClick:()=>{},type:"submit",children:"Join"})]}),Z("div",{className:"center",children:[D("h2",{children:"Room Code"}),D("h2",{className:"left-pad",children:" Username"})]})]}),F&&Z(an,{children:[D("h2",{className:"center",children:"Got kicked out? No worries! Just enter the room code & your username again below:"}),D("h2",{className:"center",children:d}),Z("form",{className:"center",onSubmit:U=>{U.preventDefault(),Zt()},children:[D("input",{placeholder:"room code",value:n,onChange:U=>r(U.target.value)}),D("input",{placeholder:"username",value:o,onChange:U=>l(U.target.value)}),D("button",{onClick:()=>{},type:"submit",children:"Join"})]}),D("br",{}),D("button",{className:"margin-center",onClick:()=>{window.localStorage.setItem("token",""),Se("/")},children:"Sign into a different room"}),D("br",{}),D("br",{}),D(ht.button,{style:{...En},onClick:b,children:"Click me"})]})]})},z0=({prompt:e})=>D("div",{children:D("h1",{className:"smaller",children:e})}),B0=({name:e,geolocation:t,points:n})=>Z("div",{children:[D("div",{className:"player-card-title",children:D("label",{className:"player-card-label",children:"PLAYER CARD"})}),Z("div",{className:"player-card-main",children:["Name: ",e]}),Z("div",{className:"player-card-main",children:["Location: ",t]}),Z("div",{className:"player-card-main",children:["Points: ",n]})]}),Z$=()=>{E.useState();const[e,t]=E.useState(),[n,r]=E.useState([]),[i,s]=E.useState("00"),[o,l]=E.useState(""),[a,u]=E.useState("");E.useState([]);const[c,h]=E.useState(!1),[d,y]=E.useState("");let v;const _=Gl(),m=Pm();let p=!1,f=!1;const g=Je(Be,`/rooms/${m.state.roomId}`);Dt(g,I=>{p=I.val().hasStarted,f=I.val().showResponses});const w=I=>{mo(g,{hasStarted:I})},S=I=>{mo(g,{showResponses:I})};E.useState(!1);const[k,x]=It(()=>({from:{x:250,rotate:0},to:{x:1050,rotate:1e3},loop:!0,config:{duration:1e4}})),[N,J]=It(()=>({from:{x:250,rotate:1e3},to:{x:1050,rotate:0},loop:!0,config:{duration:1e4}}));It(()=>({from:{x:250},to:{x:1050},loop:!0,config:{duration:1e4}}));const[F,ge]=It(()=>({from:{x:250,y:40,rotate:0},to:{x:1050,rotate:1e3},loop:!0,config:{duration:5e3}}));E.useEffect(()=>{m.state||_("/");const I=m.state.roomId,M=Je(Be,`/rooms/${I}/users`);Dt(M,b=>{const U=b.val(),K=[];for(let me in U)K.push({id:me,...U[me]});r(K)})},[Be]),E.useEffect(()=>{m.state||_("/");const I=m.state.roomId,M=Je(Be,`/rooms/${I}`);Dt(M,b=>{const U=b.val();t(U)})},[]);const Ee=()=>{const I=m.state.roomId,M=Je(Be,`/rooms/${I}`);let b=0;Dt(M,K=>{b=K.val().question}),b=b%21,mo(M,{seconds:30,question:b+1,startAt:SI()}),S(!1);const U=Je(Be,`/questions/${e==null?void 0:e.question}`);Dt(U,K=>{if(K.val()){const me=K.val();u(me.text)}}),Ce()};E.useEffect(()=>{const I=Je(Be,`/questions/${e==null?void 0:e.question}`);Dt(I,M=>{if(M.val()){const b=M.val();u(b.text)}})},[e]),E.useEffect(()=>{const I=m.state.roomId,M=Je(Be,`/rooms/${I}`);Dt(M,b=>{console.log(b),b.val().seconds!=0,Ce()})},[]);const Ce=()=>{const I=m.state.roomId,M=Je(Be,`/rooms/${I}`);Dt(M,b=>{const U=b.val().seconds,K=b.val().startAt;v&&clearInterval(v),v=setInterval(()=>{const me=U*1e3-(Date.now()-K);me<0?(clearInterval(v),console.log("0.0 left"),p?S(!0):p||w(!0)):(s(`${Math.floor(me/1e3)}.${me%1e3}`),console.log(`${Math.floor(me/1e3)}.${me%1e3}`))},71)})},Se=()=>{window.localStorage.setItem("token","");const I=Je(Be,`/rooms/${m.state.roomId}/users/${m.state.user}`);o2(I),_("/")},st=I=>{console.log(I.name+" got a point!");const M=Je(Be,`/rooms/${m.state.roomId}/users/${I.name}`);mo(M,{points:I.points+1}),h(!0)},Zt=()=>{const I=n.reduce((M,b)=>M.points>b.points?M:b);console.log(I.response),y(I.response)};function En(){if(o){const I=Je(Be,`/rooms/${m.state.roomId}/users/${m.state.user}`);mo(I,{response:o})}h(!1)}return!p&&!f?Z("main",{children:[Z(an,{children:[e&&Z(an,{children:[Z("h2",{className:"center",children:["ROOM CODE: ",e.roomCode]}),Z("h2",{className:"center",children:["HOST: ",e.host]})]}),D("br",{}),D("input",{className:"margin-center",type:"text",value:o,onChange:I=>{h(!1),l(I.target.value)}}),D("button",{className:"left-center",children:"SUBMIT RESPONSE"}),D("button",{className:"margin-center",onClick:()=>w(!0),children:"START GAME"}),D("br",{}),D("br",{}),D("button",{className:"right-center",onClick:()=>{Se()},children:"Leave"})]}),D("h1",{children:i}),D("div",{className:".player-card-label",children:n.map((I,M)=>D(B0,{name:I.name,geolocation:I.location,points:I.points},M+I.name))})]}):f?Z("main",{children:[Z(an,{children:[e&&Z(an,{children:[Z("h2",{className:"center",children:["ROOM CODE: ",e.roomCode]}),Z("h2",{className:"center",children:["HOST: ",e.host]})]}),D(z0,{prompt:a}),Z("div",{children:[D(ht.div,{style:{width:100,height:100,background:"red",borderRadius:8,...N}}),D(ht.div,{style:{width:80,height:80,background:"yellow",borderRadius:8,...k}}),D(ht.div,{style:{width:50,height:50,background:"#66FF00",borderRadius:8,...N}})]}),D("br",{}),D("button",{className:"left-center",onClick:()=>{Ee()},children:"Next Question"}),D("br",{}),D("button",{className:"margin-center",onClick:()=>{Se()},children:"Leave"})]}),Z("div",{className:"container",children:[n.map((I,M)=>D("div",{children:I.response&&Z("div",{children:[D("h2",{children:I.response}),!c&&D("button",{onClick:b=>{st(I)},children:"Vote"})]})},M+I.id)),D("button",{onClick:()=>{Zt()},children:"Check Winner"}),D("br",{})]}),Z("h2",{className:"center",children:["Winner: ",d]}),D("br",{}),D("div",{className:".player-card-label",children:n.map((I,M)=>D(B0,{name:I.name,geolocation:I.location,points:I.points},M+I.name))})]}):Z("main",{children:[Z(an,{children:[e&&Z(an,{children:[Z("h2",{className:"center",children:["ROOM CODE: ",e.roomCode]}),Z("h2",{className:"center",children:["HOST: ",e.host]})]}),D(z0,{prompt:a}),D("input",{className:"margin-center",type:"text",value:o,onChange:I=>l(I.target.value)}),D("button",{className:"left-center",onClick:()=>{En(),l("")},children:"SUBMIT RESPONSE"}),D(ht.div,{style:{width:70,height:70,background:"red",borderRadius:8,...F}}),D("h1",{children:i}),D("button",{className:"margin-center",onClick:()=>{Se()},children:"Leave"})]}),D("div",{className:".player-card-label"})]})},eF=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(""),i=Gl();return E.useEffect(()=>{window.localStorage.getItem("token")&&i("/game",{replace:!0})}),Z("div",{children:["This is the Login Page",Z("form",{onSubmit:s=>{s.preventDefault(),R2(e,n)},children:[D("input",{value:e,onChange:s=>t(s.target.value)}),D("input",{value:n,onChange:s=>r(s.target.value)}),D("button",{type:"submit",children:"Login"})]})]})},tF=()=>{E.useState(!1);const[e,t]=It(()=>({from:{x:1500,rotate:0},to:{x:-100,rotate:1e3},loop:!0,config:{duration:1e4}})),[n,r]=It(()=>({from:{x:1500,rotate:1e3},to:{x:-100,rotate:0},loop:!0,config:{duration:1e4}})),[i,s]=It(()=>({from:{x:1550},to:{x:-200},loop:!0,config:{duration:1e4}}));return Z("div",{children:[D(ht.div,{style:{width:100,height:100,background:"blue",borderRadius:8,...n}}),D(ht.div,{style:{width:80,height:80,background:"#ff6d6d",borderRadius:8,...e}}),D(ht.div,{style:{width:50,height:50,background:"green",borderRadius:8,...n}}),D(ht.h1,{style:{...i},children:"Loading"})]})},nF=rP([{path:"/",element:D(X$,{})},{path:"/signup",element:D(J$,{})},{path:"/game",element:D(Z$,{})},{path:"/login",element:D(eF,{})},{path:"/spring",element:D(tF,{})}]);function rF(){return D(JN,{router:nF})}$d.createRoot(document.getElementById("root")).render(D(rF,{}));
